/*! ds-bootstrap - v1.0.0.35301 - 2025-08-25 4:33pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=e.MicroScrollBar,n=(e.detection,function(e){return null!=e&&2===e.split(".").length}),i=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var s=DS,c=s._,u=s.pubSub,f=s.events,d=s.constants,h=s.utils,p=s.translationStore,y=[],b=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=i,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:d.docked.NONE,width:0},this.setLayout(this.frame.default_layout,d.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=i.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),u.on(f.controlLayout.CHANGED,this.onLayoutChanged),u.on(f.controlLayout.UPDATE,(function(e,t,n){r.frame.controlLayouts[e]=n,r.setLayout(e,t)})),u.on(f.controlOptions.CHANGED,(function(e){var t=r.optionChangesRequireMenuRefresh(r.frame.controlOptions.menuOptions,e.menuOptions);r.frame.controlOptions=e,r.setupControlOptions(),u.trigger(f.controlOptions.RESET),t&&u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.frame.FONT_SCALE,(function(e){r.frame.fontscale=e,u.trigger(f.controlOptions.RESET)})),u.on(f.glossary.UPDATE,(function(e){r.frame.glossaryData=e,u.trigger(f.glossary.REFRESH_VIEW)})),u.on(f.navData.UPDATE,(function(e){r.frame.navData=e,u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.resources.UPDATE,(function(e){r.frame.resourceData.resources=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.resources.UPDATE_DESCRIPTION,(function(e){r.frame.resourceData.description=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),u.on(f.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),u.on(f.localization.LANGUAGE_UPDATED,(function(){r.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),u.on(f.localization.REVIEW_FRAME_UPDATED,(function(){r.updateReviewStrings()}))}var t,n,r;return t=e,n=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=h.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=p.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=p.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){h.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),i=p.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=i&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(i))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=p.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){u.trigger(f.strings.UPDATE_STRINGS),u.trigger(f.navData.REFRESH_VIEW),u.trigger(f.glossary.REFRESH_VIEW),u.trigger(f.resources.REFRESH_VIEW),u.trigger(f.transcript.REFRESH_VIEW),u.trigger(f.frame.REFLOW),u.trigger(f.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return p.getUpdatedTextData("frameLink","".concat(e,"-Link"),h.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,i=this.frame.stringTables[n].string[e];return null==i?(y.includes(e)||(y.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):i}},{key:"setDocked",value:function(e,t,n){t===d.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:d.docked.NONE,width:0}:t!==d.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=i([].concat(o(this.topTabsRight),o(this.topTabsLeft)),e),u.trigger(f.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=b;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O(i.key),i)}}function O(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var E,C=DS,x=C._,P=C.scaler,L=C.detection,T=C.detection.orientation,j=C.utils,D=j.getPath,A=j.scaleVal,I=j.pxify,R=C.dom,B=R.addClass,M=R.removeClass,H=C.constants.refs.FRAME,N=document.getElementById(DS.constants.els.PRESO),F={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},W=["wrapper","lightBoxWrapper"],V=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},z=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},U=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},K=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},Q=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},G={l:z,r:U,t:K,b:Q},q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),x.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&N.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return T.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=x.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=D(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",J.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=I(A(Math.max(this.w,24))),this.el.style.height=I(A(Math.max(this.h,24)))):(this.el.style.width=I(A(this.w)),this.el.style.height=I(A(this.h)))}},{key:"updateTrans",value:function(){var e=W.includes(this.nameKey)?x.identity:A,t=["translate(".concat(I(e(this.x)),", ").concat(I(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(I(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(I(e(this.ys[i])),")"));L.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,s=e.hook,c=void 0===s?x.noop:s,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?Q:K:i?U:z,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),b=l!==f?this.children.slice().reverse():this.children,v=w(t?["height","t"]:["width","l"],2),m=v[0],g=v[1],S=T.isLandscape?x.first:x.last;b.forEach((function(e){(e.beforeReflowHook||x.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?G[t](e,y,r):p(e,y,r),c(e))})),d&&(this[m]=y[g])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(L.theme.isClassic)return!1;var e=J.getTopNameSpace(),t=J.getCurrentNameSpace(),n=J.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?M(this.el,"cs-disabled"):B(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&D(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/P.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*e,r=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=J.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[x.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,J.hasNamespace(n.nameSpace)?J.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&J.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==J.getNamespace(this.nameSpace).wrapper)return null;var e=L.theme.isClassic&&J.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(J.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*t,i=(i+(void 0===c?0:c))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();q.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},q.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=q.propFns[n])Object.defineProperties(e,g({},t,{get:q.propFns[n],set:x.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=F[t]?F[t]:t;Object.defineProperties(e,g({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:x.noop}))}else if(x.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),s=e["min".concat(l)],c=e["max".concat(l)];o=function(){var e=a();return e<s?e=s:e>c&&(e=c),e}.bind(e)}else o=n;Object.defineProperties(e,g({},t,{get:o,set:x.noop}))}else e[t]=n;e[t]=n};var Z={},Y={},X={},$=function(e){var t,n,i=m(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(m(e))),{viewName:t,children:n}},J={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat(J.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);x.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new q(t,n);return null==Z[e]?(Z[e]=i,Y[e]={ViewLogic:t,p:n},X[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){E=e,this.nameSpaces[E]=this.nameSpaces[E]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return N.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return N.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(i){var r=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(i.children.some((function(e){return"startoverlay"===e.nameKey}))?i.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return r(t,e.tabReachable)})):r(i,e.tabReachable)),i.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===i.nameKey&&n(i.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){x.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=Y[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++X[e]>1){var t=Y[e],n=t.ViewLogic,i=t.p;return new q(n,i)}return Z[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=$(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,D(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)t(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=$(r),l=a.viewName,s=a.children,c=n.nameSpaces[e][l];if(null!=c){if(c.init(e),null!=o?o.append(c):n.nameSpaces[e].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)t(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[E]},getTopNameSpace:function(){return x.last(this.nsStack)},getCurrentNameSpaceString:function(){return E},getFrameNameSpace:function(){return this.nameSpaces[H]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return J.getNamespace(e).frameBlocker;case"LightboxWnd":return J.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return J.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function ee(e){return function(e){if(Array.isArray(e))return e}(e)||ie(e)||ne(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||ie(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function ie(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oe,ae=DS,le=ae._,se=ae.pubSub,ce=ae.events,ue={},fe=!1,de={},he={},pe=function(e){try{var t=te(document.styleSheets).find(e);oe=te(t.rules)}catch(e){}};if(pe((function(e){return null!=e.href&&e.href.includes("output.min.css")})),se.on(ce.scheme.CHANGED,(function(e){pe((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),de={},ue.initializeCssColorVars()})),null!=oe){var ye=function(e,t){var n,i;if(fe){n="".concat(t,".cs-").concat(J.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+le.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{J.model;n=".cs-".concat(J.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};ue.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=ye(t,i);if(null==de[r]){var o=oe.find((function(e){return e.selectorText===r}));null==o&&(fe=!fe,r=ye(t,i),o=oe.find((function(e){return e.selectorText===r}))||{}),de[r]=o.style||{}}return de[r][n]||""}}else{ue.usePolyfill=!0;var be=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ve=/^\./,me=/\./g;ue.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=J.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ve.test(e))s=e.replace(me," "),i=be("div",s);else{var n=ee(e.split(".")),o=n[0],l=n.slice(1);i=be(o,l.join(" "))}var s;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}ue.initializeCssColorVars=function(){he={},ue.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),ue.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),ue.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},ue.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!he[e]){var o="";if(ue.usePolyfill){var a=Object.keys(J.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){ue.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=ue.getColor(o,t,n,i,r);if(!le.isEmpty(l)&&e)he[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var ge=ue;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ke(i.key),i)}}function ke(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===we(t)?t:String(t)}var Oe=DS,Ee=Oe.detection,Ce=Oe.pubSub,xe=Oe.events,Pe=327,Le=function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=ke(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=Ee.os.isIOS&&Ee.browser.isChrome,Ee.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Ce.on("frame:modelReady",(function(){var e,t,n,i,o=!J.model.frame.chromeless&&!Ee.env.hideFrame;r.ratioW=null==J||null===(e=J.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==J||null===(t=J.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==J||null===(n=J.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!J.model.sidebarOpts.closed&&J.model.sidebarOpts.sidebarEnabled||(Pe=0),o&&(r.ratioW+=Pe,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Ce.trigger(xe.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Ce.trigger(xe.frame.REFLOW),Ce.trigger(xe.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&Se(t.prototype,n),i&&Se(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Te=new Le;DS.frameWindow=Te;var _e=Te;function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function De(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===je(o)?o:String(o)),i)}var r,o}var Ae,Ie,Re,Be,Me=DS,He=Me.dom,Ne=Me._,Fe=Me.detection,We=Me.pubSub,Ve=Me.events,ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ne.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Ve.loader.SHOW]=this.onLoaderShow,t[Ve.loader.MUTE]=this.onLoaderMute,t[Ve.loader.UNMUTE]=this.onLoaderUnmute,t[Ve.loader.HIDE]=this.onLoaderHide,t[Ve.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Ve.startOverlay.READY]=this.onLoaderHide,He.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&He.addClass(document.body,"is-touchable-tablet"),Fe.env.is360&&!_e.isLockedOption&&He.addClass(document.body,"is-360"),We.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,We.trigger(Ve.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",He.addClass(document.getElementById("preso"),"hide-slide-loader"),We.trigger(Ve.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",He.removeClass(document.getElementById("preso"),"hide-slide-loader"),We.trigger(Ve.app.SHOW_LOADER))}}])&&De(t.prototype,n),i&&De(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ue=DS,Ke=Ue.globalEventHelper.addWindowListener,Qe=Ue.events,Ge=Qe.ds,qe=Ge.FRAME_DATA_LOADED,Ze=Ge.PRESO_READY,Ye=Qe.window.STACKING_CHANGED,Xe=Qe.frame,$e=Xe.MODEL_READY,Je=Xe.SCALE,et=Qe.resume.SET_DATA,tt=Qe.startOverlay.READY,nt=Qe.controlOptions.RESET,it=Qe.sidebar.ACTIVE_TAB_SET,rt=Qe.renderTree.DESTROYED,ot=Ue.constants,at=(ot.els.PRESO,ot.refs.FRAME),lt=Ue.detection.theme,st=Ue.pubSub,ct=Ue.focusManager,ut=(Ue.flagManager,Ue.playerGlobals),ft=Ue.stringTabler,dt=Ue.shortcutManager,ht=Ue.dom,pt={},yt=function(e){var t=J.nsStack.indexOf(e);t>=0&&J.nsStack.splice(t,1)},bt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];J.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},vt=function(e){Ae={createWindow:function(t,n){var i,r,o,a,l,s=this,c=J.getNamespace(t),u=function(){return function(e){var t=J.getNamespace(e),n=t.isAttached;t.reattach(),yt(t),J.nsStack.push(t),n||pt[e].all();var i=J.nsStack.length;J.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(ht.addClass(n,"primary-slide"),ht.removeClass(n,"secondary-slide")):(ht.removeClass(n,"primary-slide"),ht.addClass(n,"secondary-slide"))})),bt(),st.trigger(Ye,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=J.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),c.tabReachable=!n,c.updateTabIndex(!1)}};(null==c&&(J.addNameSpace(t),r=e[t](Ie),i=_.flow(Ke("resize",(function(){r.resize(),st.trigger(Je)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),st.trigger(Je)}))),t===at?Ie.setLayout(Ie.frame.default_layout,at):r.all(),c=J.getNamespace(t),pt[t]=r,c.moveToTop=u,lt.isUnified&&(st.on(DS.events.frameModel.BLOCKED_CHANGED,f),st.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),st.on(nt,(function e(){var t=function(){var e=[],t=J.getNamespace(at).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(J.getNamespace(at).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();yt(J.getNamespace(at)),r.destroy(),DS.pubSub.trigger(rt),J.nameSpaces[at]=null,i(),st.off(nt,e),s.createWindow("_frame"),r.rerender(),t.forEach((function(e){st.trigger(it,e)}))})),null!=n)&&(null===(o=c.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:c.slide.el,wndEl:c.wrapper.el,captionEl:(c.captionContainer||{}).el,x:function(){return c.wrapper.x},y:function(){return c.wrapper.y},close:function(){c.zoomBounds=null,c.detach(),yt(c),J.nsStack[J.nsStack.length-1].moveToTop(),ct.reCenter()},moveToTop:u,getWinScale:function(){return c.slide.winScale||1},getPinchZoomBounds:function(){return c.slide.pinchZoomBounds},onPinchZoom:pt[t].pinchZoom?function(e){c.zoomBounds=e,pt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return Ie.sidebarOpts.sidebarPos},getDefaultLayout:function(){return Re.default_layout},getFonts:function(){return Re.fonts},getFontScale:function(){return Ie.frame.fontscale},getCaptionData:function(){var e=Ie.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=Ie.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return Ie.frame.navData.outline.links},isReadOnlyOnce:function(){return Re.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return J.nsStack},setAllAccVisibility:function(e){_.forEach(J.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},st.on(et,bt),st.on(tt,(function(){bt(!1)})),ut.player=Ae},mt=function(){Ae.hasData=!0,st.trigger(qe,Ae)};function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===gt(o)?o:String(o)),i)}var r,o}var St=DS,kt=St.dom,Ot=St._,Et=St.pubSub,Ct=St.detection,xt=St.frameWindow,Pt=St.globalEventHelper.addWindowListener,Lt=St.events,Tt=Lt.slide.HAS_MOUNTED,_t=Lt.frame.SCALE,jt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,Ot.bindAll(this,"onResize"),this.removeListener=Pt("resize",this.onResize),Et.once(Tt,this.onResize),DS.flagManager.playerSizeOption&&Et.on(_t,this.onResize))}var t,n,i;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Ct.theme.isUnified&&!xt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?kt.removeClass(e,"has-scrollbar"):kt.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?kt.addClass(e,"has-scrollbar"):kt.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&wt(t.prototype,n),i&&wt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function At(e,t,n){return(t=Rt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Rt(i.key),i)}}function Rt(e){var t=function(e,t){if("object"!==Dt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dt(t)?t:String(t)}var Bt,Mt="wrapper",Ht=DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?jt:function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();J.def(Mt,Ht,(function(){var e,t=J.model.frame;return At(e={attrs:{id:Mt,class:"cs-base cs-".concat(t.default_layout," fn-").concat(t.default_layout," cs-custom-theme")},style:{fontSize:"".concat(t.fontscale,"%")},x:0,y:0},"x",(function(){return _e.x})),At(e,"y",(function(){return _e.y})),At(e,"w",(function(){return _e.width})),At(e,"h",(function(){return _e.height})),At(e,"updateHook",(function(){this.el.style.fontSize="".concat(t.fontscale,"%")})),At(e,"add",!0),e}));var Nt,Ft="-20px",Wt="-30px";var Vt={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,s=t.height;null==Bt&&(i=J.model,r=ge.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Bt=document.createElement("div")).id="tooltip",Bt.style.left=Ft,Bt.style.top=Wt,Bt.style.borderColor=r,Bt.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(Bt),Bt.addEventListener("mouseleave",Vt.runObjHoverOut)),Nt=e,Bt.style.display="block",Bt.innerText=n;var c=Bt.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),Bt.style.left="".concat(f,"px"),Bt.style.top="".concat(d,"px")},hideTooltip:function(e){null==Bt||null!=e&&e!==Nt||(Bt.style.display="none",Bt.innerText="",Bt.style.left=0,Nt=void 0)},updateTooltip:function(e,t){var n=Bt.getBoundingClientRect().width;Bt.innerText=t,Bt.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=Nt?Nt.onHoverOut():Vt.hideTooltip()}},zt=Vt;function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ut(o)?o:String(o)),i)}var r,o}var Qt=DS,Gt=Qt.dom,qt=Qt.pubSub,Zt=Qt.events,Yt=Qt._,Xt=Qt.constants,$t=Qt.keyManager,Jt=Qt.focusManager,en=(Qt.flagManager,Qt.stringTabler),tn=Qt.detection,nn="click",rn=function(){return tn.deviceView.isUnifiedDesktop},on=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),qt.on(Zt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),qt.on(Zt.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),qt.on(Zt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),rn()&&(Yt.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(nn,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(nn,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),Jt.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){Jt.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return en.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(rn()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);zt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),zt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){zt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;rn()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(Gt.mouseX,Gt.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){$t.isKey(e.which,Xt.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){qt.off(Zt.frameModel.LAYOUT_CHANGED,this.onLayoutChange),tn.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&Kt(t.prototype,n),i&&Kt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),an=on;function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function sn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ln(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ln(o)?o:String(o)),i)}var r,o}function cn(e,t){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cn(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fn(e);if(t){var r=fn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}var dn="frame",hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(o,e);var t,n,i,r=un(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&sn(t.prototype,n),i&&sn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an);function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==pn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===pn(o)?o:String(o)),i)}var r,o}function bn(e,t){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bn(e,t)}function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gn(e);if(t){var r=gn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}(this,n)}}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gn(e)}J.def(dn,hn,(function(){var e=J.model;return{attrs:{id:dn,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%",html:'<div class="top-ui-bg"></div><div class="bottom-ui-bg"></div><div class="left-ui-bg"></div><div class="right-ui-bg"></div>'}}));var wn,Sn,kn=DS,On=kn.detection,En=kn.events,Cn=kn.pubSub,xn=function(){return document.getElementById("app-top")||document.body},Pn=DS.utils.pxify,Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}(o,e);var t,n,i,r=vn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=J.model.getString("acc_skipnavigation"),xn().appendChild(e),window.requestAnimationFrame((function(){Sn=e.clientHeight,wn=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return Cn.on(En.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(mn(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!On.device.isMobile){DS.focusManager.takeFocusOff();var e=J.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Object.assign(this.visualNode.style,{top:Pn(i+o-Sn-50),left:Pn(n+r-wn-50)}),e.el.style.opacity=.6,xn().appendChild(this.visualNode)}Cn.trigger(En.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=J.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&yn(t.prototype,n),i&&yn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Tn=Ln,_n="skipnav";function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function Dn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==jn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J.def(_n,Tn,(function(){var e=J.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:_n,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var An=DS,In=An._,Rn=An.pubSub,Bn=An.events,Mn=An.detection,Hn=An.constants.MOBILE_UI_SIZE,Nn="top ".concat(150,"ms ease-in-out");function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Fn(o)?o:String(o)),i)}var r,o}function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vn(e,t)}function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kn(e);if(t){var r=Kn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}(this,n)}}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}var Qn=DS,Gn=Qn.pubSub,qn=Qn.events,Zn=Qn._,Yn=Qn.utils,Xn=(Qn.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vn(e,t)}(o,e);var t,n,i,r=zn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Zn.bindAll(Un(t),"onSlideChange","onAriaToggle"),Gn.on(qn.slide.HAS_MOUNTED,t.onSlideChange),Gn.on(qn.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Mn.deviceView.isPhone)return In.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Nn;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<Hn&&Mn.theme.isUnified?o=Hn-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Nn,e.view.el.style.top="".concat(0,"px")}return Rn.on((Dn(t={},Bn.threeSixtyImage.UN_PUSH_LABEL,n),Dn(t,Bn.threeSixtyImage.PUSH_UP_BY_LABEL,i),Dn(t,Bn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),Rn.off(Bn.threeSixtyImage.UN_PUSH_LABEL,n),Rn.off(Bn.threeSixtyImage.PUSH_UP_BY_LABEL,i),Rn.off(Bn.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Un(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){Gn.off(qn.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(J.model.getString("slide"),": ").concat(Yn.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Wn(t.prototype,n),i&&Wn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an)),$n=Xn,Jn=10,ei=20,ti=65,ni=1e3,ii=DS,ri=ii.scaler,oi=ii.MicroScrollBar,ai=ii.utils.pxify,li="slide",si=DS;si.pubSub,si.events;J.def(li,$n,(function(e){var t=J.getNamespace(e),n=(t.frame,t.sidebar),i=t.topBar,r=t.bottomBar,o=J.model;return{attrs:{id:li,class:"window-slide ".concat(e,"-slide")},origin:"0 0",w:function(){return ri.zoomMode?this.availW-(this.currWinScale<=1?9:0):Math.round(o.slideWidth*this.currWinScale)},h:function(){return ri.zoomMode?Math.min(this.availH-(this.currWinScale<=1?9:0),_e.innerHeight-(this.y+(this.bottomBarExists()?r.h:0))):Math.round(o.slideHeight*this.currWinScale)},z:1,methods:{topBarExists:function(){return null!=i&&i.visible&&(o.sidebarOpts.titleEnabled||o.sidebarOpts.sidebarEnabled||o.hasTopLinks()||o.frame.controlOptions.controls.elapsedandtotaltime)},bottomBarExists:function(){var e=!1;return null!=r&&r.visible&&r.children&&(e=r.children.some((function(e){return e.visible}))),o.bottomBarOpts.bottomBarEnabled&&e},calcSidebarOffsets:function(){var e=null!=n&&n.visible,t=e&&"left"===n.pos;this.sidebarWidthOffset=t?n.right():e?_e.innerWidth-n.x:0,this.sidebarXOffset=t?n.right():0},calcWinScale:function(){var e=this.topBarExists(),t=this.bottomBarExists(),n=t?r.h:0,a=e?i.h:0,l=a+n,s=n|a?ei:0;this.offY=0,this.minY=0,!e&&t?(this.offY=-r.h,l+=15,this.minY=15):e&&!t&&(this.offY=25,l+=15,this.minY=15);var c=o.dockSettings,u=c.dockedState,f=c.width,d=u!==DS.constants.docked.NONE;this.availW=_e.innerWidth-this.sidebarWidthOffset-(d?f:0),this.availH=_e.innerHeight-l,this.currWinScale=Math.min((this.availW-s)/o.slideWidth,this.availH/o.slideHeight)},beforeUpdateHook:function(){this.calcSidebarOffsets(),this.calcWinScale()}},winScale:function(){return ri.zoomMode?1:this.currWinScale},x:function(){var e=o.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0;if(!ri.zoomMode){var r=o.slideWidth*this.currWinScale;return Math.round(i+this.sidebarXOffset+(this.availW-r)/2)}return i+this.sidebarXOffset},y:function(){return Math.max(ri.zoomMode?this.topBarExists()?i.h:0:this.minY,Math.round((_e.innerHeight-o.slideHeight*this.winScale)/2+this.offY))},add:!0,updateHook:function(){var e=this;if(this.el.style.overflow=ri.zoomMode?"scroll":"hidden",ri.zoomMode){null==this.scrollbar&&(this.scrollbar=new oi(this.el,"slide"),this.hscrollbar=new oi(this.el,"slide",!0)),this.scrollbar.scrollBar.style.left=ai(this.x+this.w),this.scrollbar.scrollBar.style.top=ai(this.y),this.scrollbar.scrollBar.style.height=ai(this.availH),this.hscrollbar.scrollBar.style.left=ai(this.x),this.hscrollbar.scrollBar.style.top=ai(this.y+this.h),this.hscrollbar.scrollBar.style.width=ai(this.availW),this.scrollbar.setEnabled(!0),this.hscrollbar.setEnabled(!0);window.requestAnimationFrame((function t(){e.el.getElementsByClassName("slide").length>0?(e.scrollbar.update(),e.hscrollbar.update()):window.requestAnimationFrame(t)}))}else this.scrollbar&&(this.scrollbar.setEnabled(!1),this.hscrollbar.setEnabled(!1))},html:'<div id="slide-label" data-ref="label" aria-live="assertive"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>',noContent:!0}}));var ci="logo",ui=DS,fi=ui._,di=ui.utils;J.def(ci,(function(e){var t,n=J.model,i=J.getNamespace(e).sidebar,r=i.w,o=.75*r,a={class:"logo cs-logo",role:"banner","aria-hidden":!n.logo.altTextEnabled};return{id:ci,attrs:a,w:"100%",minH:60,maxH:170,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},html:function(){(t=document.createElement("img")).onload=function(){r=t.naturalWidth,o=t.naturalHeight,t.onload=null,i.updateChildren(!0)},t.src=di.resolveAssetUrl(n.sidebarOpts.html5_logo_url),fi.isEmpty(n.logo.altText)||(t.alt=n.logo.altText),this.el.appendChild(t)},visible:n.logo.enabled,updateHook:function(){o/this.h>r/i.data.actualWidth()?(t.style.width="auto",t.style.height="100%"):(t.style.width="100%",t.style.height="auto"),fi.isEmpty(n.logo.altText)||(t.alt=n.logo.altText)}}}));var hi=DS.scaler,pi="shortcutWrapper";J.def(pi,(function(e){var t=J.model,n=J.getNamespace(DS.constants.refs.FRAME),i=(n.slide,n.wrapper);return{attrs:{id:pi,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*i.w},h:function(){return.7*i.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return i.x/hi.getScale()+(i.w-this.w)/2},y:function(){return i.y/hi.getScale()+(i.h-this.h)/2},add:!0}}));var yi=function(){return"no icon"},bi={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function mi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===vi(o)?o:String(o)),i)}var r,o}function gi(){return gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},gi.apply(this,arguments)}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Oi(e);if(t){var r=Oi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ki(e)}(this,n)}}function ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oi(e)}var Ei="shortcutSlide",Ci="comma_key",xi="period_key",Pi="question_mark_key",Li=DS,Ti=Li._,_i=Li.shortcutManager,ji=Li.keyManager,Di=Li.pubSub,Ai=Li.events,Ii=Ai.window.CLOSING,Ri=Ai.player.ENABLE_KEYBOARD_SHORTCUTS,Bi=Li.MicroScrollBar,Mi=Li.focusManager,Hi=(Li.flagManager,Li.constants),Ni=Li.globalEventHelper.addDocumentListener;function Fi(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(Pi);case".":return t.getString(xi);case",":return t.getString(Ci)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var Wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(o,e);var t,n,i,r=Si(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ti.bindAll(ki(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),Di.on(Ii,t.closeWindow),t.removeKeydownListener=Ni("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),Di.on(Ri,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){ji.isKey(e.which,Hi.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&_i.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){_i.enableShortcuts(!_i.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Mi.setFocusRectOn(t)}},{key:"teardown",value:function(){Di.off(Ii,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&Di.off(Ri,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),gi(Oi(o.prototype),"teardown",this).call(this)}}])&&mi(t.prototype,n),i&&mi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}($n);function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function zi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Vi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Vi(o)?o:String(o)),i)}var r,o}function Ui(e,t){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ui(e,t)}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qi(e);if(t){var r=Qi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}J.def(Ei,Wi,(function(){var e=J.model;return{attrs:{id:Ei,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[Hi.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[Hi.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=ge.getColor.apply(ge,t),i='\n        <div class="switch '.concat(_i.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(_i.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat((bi["track"]||yi)(n,"shortcuts"),"\n          </button>\n        </div>"),r="<h1>".concat(e.getString("keyboardshortcuts")).concat(i,"</h1>"),o=_i.getShortcutList().map((function(t){var n=t.name,i=t.keyInfo;return'<tr class="'.concat("?"===i.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(Fi(i,e,!1),'</span>\n              <span class="sr-only">').concat(Fi(i,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[r,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new Bi(this.el,"shortcut-slide"))}}}));var Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(o,e);var t,n,i,r=Ki(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&zi(t.prototype,n),i&&zi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),qi=Gi,Zi=DS.scaler,Yi="shortcutClose";J.def(Yi,qi,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Yi,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":J.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*Zi.getScale(),'" height="').concat(20*Zi.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",J.model.getString("close"))}},y:35,x:function(){var e=J.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/Zi.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));var Xi="ShortcutWnd";function $i(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){if(e){if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var nr="sidebar",ir=DS,rr=ir.utils,or=ir.TweenLite,ar=ir.dom,lr=ir.events,sr=ir.pubSub,cr=ir.detection;J.def(nr,(function(e){var t=J.model,n=J.getNamespace(e),i=n.sidebarPanels,r=n.logo,o=n.tabs,a=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");ar.addClass(document.body,"sidebar-".concat(t.sidebarOpts.sidebarPos));var l=.25,s=function(){var e=t.dockSettings||{},n=e.dockedState,i=e.width,r=n!==DS.constants.docked.NONE,o=_e.innerWidth-(r?i:0),a=cr.device.isPhone?.8*_e.innerWidth:o/4;return _e.isLocked?rr.clamp(245,300,a):rr.clamp(245,400,a)},c=function(){return"left"===t.sidebarOpts.sidebarPos?0:_e.innerWidth-s()},u={x:c()},f=[];return{tag:"section",attrs:{id:nr,class:"cs-left area-secondary-wrapper","aria-label":"sidebar"},overflow:"visible",visible:t.sidebarOpts.sidebarEnabled,pos:function(){return t.sidebarOpts.sidebarPos},noContent:!1,shouldReparent:!1,xs:[0],data:{actualWidth:s},x:function(){var e=this,t=c();if(this.collapsed&&("left"===this.pos?t-=s():t+=s()),this.animate&&!this.animating||this.collapsing!==this.collapsed){this.collapsing=this.collapsed;var n="left"===this.pos?-30:30;this.collapsed&&this.floating?(ar.addClass(document.body,"sidebar-closing"),or.to(this.content,l,{opacity:0,x:n,ease:"power4.out",onComplete:function(){ar.removeClass(document.body,"sidebar-closing"),e.collapsed&&ar.addClass(document.body,"sidebar-closed")}})):(ar[this.collapsed?"addClass":"removeClass"](document.body,"sidebar-closed"),or.set(this.content,{x:n,opacity:0}),or.to(this.content,l,{x:0,delay:.11,ease:"power2.out"}),or.to(this.content,l,{opacity:1,delay:.11,ease:"none",overwrite:!1}));var i=_e.innerWidth,r=or.to(u,l,{x:t,onComplete:function(){e.animating=!1,e.animate=!1},onUpdate:function(){"right"===e.pos&&_e.innerWidth!=i&&(r.kill(),e.animating=!1),sr.trigger(lr.frame.REFLOW),sr.trigger(lr.frame.SCALE),DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(clearTimeout(e.delayedReflow),e.delayedReflow=setTimeout((function(){e.update()}),32))}});this.animating=!0}return this.animating||(u.x=t),this.floating?"right"===this.pos?(this.xs[0]=u.x-_e.innerWidth,_e.innerWidth):(this.xs[0]=u.x,0):(this.xs[0]=0,u.x)},w:function(){return this.visible?s():0},h:"100%",html:"\n      <style>\n        .selected-animation-done:after {\n          background: ".concat(a,';\n        }\n      </style>\n      <div class="slider-mask" data-ref="sliderMask">\n        <div class="tab-selected-slider cs-brandhighlight-bg" data-ref="tabSelectedSlider"></div>\n      </div>\n    '),updateHook:function(){this.hasAllChildren()&&this[this.collapsed?"onSidebarHide":"onSidebarShow"]()},beforeUpdateHook:function(){if(this.childScale=1,null!=r&&r.visible&&null!=i&&i.visible&&(null==i?void 0:i.h)<120){var e=r.maxH-r.minH+(o.maxH-o.minH),t=120+o.minH+r.minH;this.childScale=rr.clamp(0,1,(this.h-t)/e)}if(DS.localizationManager.isMultiLanguageProject()){var n=Ji("left"===this.pos?["sidebar-left","sidebar-right"]:["sidebar-right","sidebar-left"],2),a=n[0],l=n[1];document.body.classList.add(a),document.body.classList.remove(l)}},methods:{onSidebarHide:function(){this.onSidebarShow(),(f=$i(this.el.querySelectorAll('[tabindex="0"]:not(#hamburger)'))).forEach((function(e){e.tabIndex=-1,e.setAttribute("data-tabindex",-1)})),this.content.setAttribute("aria-hidden",!0)},onSidebarShow:function(){var t=J.getNamespace(e);f.forEach((function(e){t.tabReachable&&(e.tabIndex=0),e.setAttribute("data-tabindex",0)})),this.content.removeAttribute("aria-hidden")}}}}));var ur=function(){return"no icon"},fr={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},dr={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},hr=function(e){return DS.detection.env.isPerpetual?fr[e]||ur:dr[e]||fr[e]||ur},pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _e.innerWidth-e<900};function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==yr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===yr(o)?o:String(o)),i)}var r,o}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vr(e,t)}function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wr(e);if(t){var r=wr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gr(e)}(this,n)}}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}var Sr=DS,kr=Sr.pubSub,Or=Sr.events,Er=Sr.constants,Cr=Sr.focusManager,xr=Sr.globalEventHelper.addWindowListener,Pr=Sr.dom,Lr=Pr.addClass,Tr=Pr.removeClass,_r=!1,jr=!0,Dr="floating-sidebar",Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}(o,e);var t,n,i,r=mr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_.bindAll(gr(t),"onToggle","onResize","onOver","onOut"),t.nameSpace=J.getNamespace(t.view.nameSpace),t.sidebar=t.nameSpace.sidebar,t.removeCollapseSidebarListener=null,t.toggle=!1,t.onClick(t.onToggle),(J.model.sidebarOpts.closed&&jr||_r)&&(Lr(document.body,"sidebar-closed"),t.sidebar.collapsed=!0,t.sidebar.collapsing=t.sidebar.collapsed),t.overlay=t.nameSpace.sidebarOverlay.el,t.onClickEl(t.overlay,t.onToggle),kr.on(Or.sidebar.CLOSE,(function(){t.sidebar.collapsed||t.onToggle()})),kr.on(Or.sidebar.OPEN,(function(){t.sidebar.collapsed&&t.onToggle()})),kr.on(Or.frame.RESIZE,t.onResize),xr("resize",t.onResize),t.onResize(null,!0),t.wrapperEl.addEventListener("mouseenter",t.onOver),t.wrapperEl.addEventListener("mouseleave",t.onOut),jr=!1,_e.isLockedOption&&"left"===J.model.sidebarOpts.sidebarPos&&(J.model.sidebarOpts.closed||!J.model.sidebarOpts.sidebarEnabled)&&Lr(t.wrapperEl,"menu-icon-wrapper-locked-left"),t}return t=o,n=[{key:"keyUpCollapseSidebar",value:function(e){e.keyCode!==Er.keys.ESCAPE||this.sidebar.collapsed||("hamburger"===Cr.lastFocusedElement().id?this.onToggle():this.onToggle(!1))}},{key:"getViewBox",value:function(){var e=this.el.getBoundingClientRect();return{x:e.left+10,y:e.top+10,w:e.width-5,h:e.height}}},{key:"onOver",value:function(e){Lr(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"onOut",value:function(e){Tr(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"setExpandedAttr",value:function(){return this.sidebar.collapsed?this.overlay.style.opacity=0:this.overlay.style.opacity=.7,this.el.setAttribute("aria-expanded",!this.sidebar.collapsed),this}},{key:"animateSidebar",value:function(){this.animate||(this.sidebar.animate=!0,this.sidebar.update())}},{key:"onResize",value:function(e,t){var n=J.model.dockSettings,i=n.dockedState,r=n.width,o=i!==Er.docked.NONE?r:0;pr(o)&&this.sidebar.visible?(this.sidebar.startFloat(),Lr(document.body,Dr),null==this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener=xr("keyup",this.keyUpCollapseSidebar.bind(this)))):(this.sidebar.endFloat(),Tr(document.body,Dr),null!=this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener(),this.removeCollapseSidebarListener=null));var a=_e.innerWidth-o;!this.sidebar.collapsed&&pr(o)&&(this.prevWidth>a||t)?(this.sidebar.autoCollapsed=!0,this.sidebar.collapsed=!0,this.setExpandedAttr().animateSidebar()):this.sidebar.autoCollapsed&&!this.sidebar.floating&&this.prevWidth<a&&(this.sidebar.collapsed=!1,this.sidebar.autoCollapsed=!1,this.setExpandedAttr().animateSidebar()),this.prevWidth=a}},{key:"onToggle",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.sidebar.collapsed=!this.sidebar.collapsed,this.sidebar.collapsed||(this.sidebar.autoCollapsed=!1),t?(this.onBlur(),this.setExpandedAttr().animateSidebar(),setTimeout((function(){e.sidebar.collapsed?e.onFocus():e.sidebar.el.querySelector('[tabIndex="0"]').focus()}),250)):this.setExpandedAttr().animateSidebar(),kr.trigger(Or.hamburger.TOGGLE,this.sidebar.collapsed)}},{key:"teardown",value:function(){_r=this.sidebar.collapsed,kr.off(Or.sidebar.CLOSE),kr.off(Or.sidebar.OPEN)}}],n&&br(t.prototype,n),i&&br(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Ir=Ar,Rr=DS.detection.deviceView,Br="hamburger";J.def(Br,Ir,(function(e){var t=J.model,n=J.getNamespace(e).sidebar;return{tag:"button",ariaStringId:"sidebar_toggle",attrs:{id:Br,"aria-expanded":!t.sidebarOpts.closed,"aria-controls":"sidebar","aria-label":"".concat(t.getString("sidebar_toggle")),tabIndex:0},x:function(){return"left"===n.pos?n.data.actualWidth():Rr.isMobile?-(this.w+1):-65},w:50,h:65,outsideContent:!0,html:function(){return'\n      <div class="menu-icon-wrapper" data-ref="wrapper">\n        '.concat(hr("hamburger")()+J.iconTextEl("sidebar_toggle","scale: 1 4"),"\n      </div>\n    ")}}}));var Mr=DS,Hr=Mr.detection.deviceView,Nr=Mr.pubSub,Fr=Mr.events,Wr="topBar";J.def(Wr,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.hamburger,r=t.title,o=t.topEllipsis,a=t.frame,l=t.slide,s=J.model;return Nr.on(Fr.frameModel.LAYOUT_CHANGED,(function(e){var n=t.topBar.el,i=t.topTabs.el;!J.model.topbarHasTabs&&J.model.sidebarOpts.titleEnabled?(n.removeAttribute("aria-hidden"),i.setAttribute("aria-hidden","true")):J.model.topbarHasTabs?(n.removeAttribute("aria-hidden"),i.removeAttribute("aria-hidden")):n.setAttribute("aria-hidden","true")})),{tag:"section",noTabIndex:!0,attrs:{id:Wr,"aria-label":"top bar"},overflow:"visible",x:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0;return l.sidebarXOffset+i},y:0,w:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="none"!==t?n:0;return a.w-(l.sidebarWidthOffset+i)},h:function(){return Hr.isMobile||l.topBarExists()?ti:0},updateHook:function(){var e;this.hasAllChildren()&&(this.reducedLayout=!1,(null==r?void 0:r.w)+(null!==(e=null==o?void 0:o.w)&&void 0!==e?e:0)+(n.visible?i.w+Jn:0)>this.w&&(this.reducedLayout=!0,this.titleW=this.w-((null==o?void 0:o.w)+(n.visible?i.w+Jn:0))))}}}));var Vr="title",zr=DS,Ur=zr.detection,Kr=zr.utils;function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Zr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,to(i.key),i)}}function Yr(e,t){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yr(e,t)}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Jr(e);if(t){var r=Jr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}(this,n)}}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function eo(e,t,n){return(t=to(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e){var t=function(e,t){if("object"!==Qr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qr(t)?t:String(t)}J.def(Vr,an,(function(e){var t,n=J.model,i=J.model.frame,r=J.getNamespace(e),o=r.hamburger,a=r.sidebar,l=r.topBar,s=function(){return"right"===a.pos&&!n.rtl},c=i.fontscale/100;t=1.23077*c*13+Jn;var u=!Ur.deviceView.isPhone&&n.sidebarOpts.titleEnabled;return{simpleView:!0,id:Vr,tag:"h1",attrs:{class:"presentation-title cs-title"},overflow:"visible",x:function(){var e=a.visible?o.w:11,t=n.rtl?this.parent.w-this.w-5:11+e;return"right"===a.pos&&o.visible&&(t-=e),t},y:"vertical-center",calcTextSize:!0,w:function(){return l.reducedLayout?l.titleW:Math.max(this.minW,this.lastWidthByText)+this.wPad+(s()?26:0)},h:22,html:function(){var e="width: calc(100% - (".concat(s()?26:0,"px))");return["<div data-ref='label' style=\"".concat(e,'" class="presentation-title-text">').concat(u?n.title.text:"","</div>"),'<div data-ref=\'separator\' class="top-tabs-line" style="height:'.concat(t,"px; display:").concat(s()?"block":"none",'"></div>')].join("")},beforeUpdateHook:function(){DS.localizationManager.isMultiLanguageProject()&&(this.children.separator.el.style.display=s()?"block":"none",this.doTextCalcs())},methods:{updateDomStrings:function(){u&&(this.viewLogic.labelEl.textContent=Kr.decodeHtml(n.title.text))}},visible:u}}));var no=DS,io=no.detection,ro=no.events,oo=no.pubSub,ao=no.svgUtils,lo=no._.bindAll,so={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(o,e);var t,n,i,r=Xr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),eo($r(n=r.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),lo($r(n),"onShow","onHide","onTick"),oo.on((eo(t={},ro.timer.SHOW,n.onShow),eo(t,ro.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=io.theme.isUnified,n}return t=o,(n=[{key:"getTimeFormat",value:function(){if(!io.deviceView.isClassicMobile){var e=J.model.sidebarOpts.timeFormat;if(e&&null!=so[e.toLowerCase()])return e.toLowerCase();if(!J.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;oo.off((eo(e={},ro.timer.SHOW,this.onShow),eo(e,ro.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=so[this.timeFormat](t,n),!io.deviceView.isClassicMobile){var i=ao.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),io.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,io.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=Gr(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r})}}])&&Zr(t.prototype,n),i&&Zr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),uo=co,fo=DS.detection,ho="timer";J.def(ho,uo,(function(e){var t=J.getNamespace(e),n=t.topBar,i=t.title,r=t.sidebar,o=t.hamburger,a=t.topEllipsis;return{noTabIndex:!0,attrs:{id:ho,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",visible:!1,methods:{hasUpperRightElement:function(){var e="right"===r.pos&&o.visible,t="left"===r.pos&&a.visible;return e||t}},x:function(){var e=J.model.rtl?n.w-240-(i.visible?i.w:0):n.w-230;return"right"===r.pos&&o.visible&&(e-=o.w),fo.deviceView.isPhone&&(e+=4,fo.orientation.isLandscape?e=window.innerWidth-this.w-5:this.hasUpperRightElement()?e-=58:e-=Jn),e},y:function(){var e=ei;return fo.deviceView.isPhone&&fo.orientation.isLandscape&&this.hasUpperRightElement()&&(e+=ei),e},w:220,h:22,html:function(){return'\n        <div class="timer-wheel cs-pie" aria-hidden="true">\n          '.concat('\n          <svg\n            style="width: 18px; height: 18px; overflow: visible;"\n            width="18"\n            height="18"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            focusable="false"\n            >\n\n            <circle class="circle-progress-pie"\n              cx="9" cy="9" r="'.concat(8,'"\n              stroke-width="').concat(2,'"\n              fill="transparent" />\n\n            <path data-ref="timerPath"\n              d=""\n              class="cs-brandhighlight-fill"\n              transform="rotate(-90 9 9)"\n              stroke="none" />\n\n          </svg>\n          '),"\n        </div>\n\n        <div class=\"timer-text\" data-ref='timerText' aria-hidden=\"true\"></div>\n        <div class=\"timer-text timer-text-readeable\" data-ref='timerTextRead' tabindex='0' data-tabindex='0'></div>")}}}));var po=function(e,t){return'\n    <div class="panel-arrow" data-ref="arrow" style="height: 17px; width: 17px; position: absolute;">\n      <div class="panel-arrow-path"\n        style="\n          height: 100%;\n          width: 100%;\n          background-color: '.concat(e,";\n          border-left: 1px solid;\n          border-top: 1px solid;\n          border-color: ").concat(t,';\n          border-top-left-radius: 3px;\n          transform: rotate(45deg);\n          "\n        />\n    </div>')};function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}function bo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ko(i.key),i)}}function vo(e,t){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vo(e,t)}function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wo(e);if(t){var r=wo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}(this,n)}}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wo(e)}function So(e,t,n){return(t=ko(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e){var t=function(e,t){if("object"!==yo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yo(t)?t:String(t)}var Oo=DS,Eo=(Oo.detection,Oo.events),Co=Oo.pubSub,xo=Oo.utils.pxify,Po=Object.freeze({unknown:0,tabLinkPanel:1,topEllipsesPanel:2}),Lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vo(e,t)}(o,e);var t,n,i,r=mo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),So(go(t=r.call(this,e)),"onTabLinkPanelShown",(function(e){var n=e.view.panel.children.arrow;t.showArrowShadow(n),t.lastWidget=Po.tabLinkPanel})),So(go(t),"onTabLinkHidePanel",(function(){t.lastWidget===Po.tabLinkPanel&&t.hideArrowShadow()})),So(go(t),"onTopEllipsesPanelShown",(function(e){e.view.children.topEllipsisPanel;var n=e.view.children.arrow;t.showArrowShadow(n),t.lastWidget=Po.topEllipsesPanel})),So(go(t),"onTopEllipsesHidePanel",(function(){t.lastWidget===Po.topEllipsesPanel&&t.hideArrowShadow()})),So(go(t),"showArrowShadow",(function(e){var n=e.el;if(t.isVisible(n)){var i=DS.views.getTopNameSpace().sidebar.el.getBoundingClientRect(),r=n.getBoundingClientRect(),o=i.x>=0,a=i.x<r.x&&o?i.width:0,l=r.x-a,s=r.y+t.view.h/2+1;t.el.style.transform="translate(".concat(xo(l),", ").concat(xo(s),")"),t.el.style.display="block",t.el.getBoundingClientRect().x!==r.x&&(t.el.style.display="none")}})),So(go(t),"hideArrowShadow",(function(){t.el.style.display="none"})),So(go(t),"isVisible",(function(e){return"block"===window.getComputedStyle(e).display})),So(go(t),"applyPanelShadowForIE11",(function(e){e.el.style.boxShadow="0 0 40px rgba(0, 0, 0, 0.20)"})),t.lastWidget=Po.unknown,Co.on(Eo.tabLink.PANEL_SHOWN,t.onTabLinkPanelShown),Co.on(Eo.tabLink.HIDE_PANEL,t.onTabLinkHidePanel),Co.on(Eo.topEllipsesPanel.PANEL_SHOWN,t.onTopEllipsesPanelShown),Co.on(Eo.topEllipsesPanel.HIDE_PANEL,t.onTopEllipsesHidePanel),t}return t=o,n&&bo(t.prototype,n),i&&bo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(an),To=Lo,_o="arrowShadow";function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Do(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Io(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==jo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===jo(o)?o:String(o)),i)}var r,o}function Ro(){return Ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=No(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ro.apply(this,arguments)}function Bo(e,t){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bo(e,t)}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=No(e);if(t){var r=No(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ho(e)}(this,n)}}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},No(e)}J.def(_o,To,(function(e){var t=ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color");return{attrs:{id:_o},w:17,overflow:"visible",h:17,html:po(t,t),style:{display:"none"}}}));var Fo=DS,Wo=Fo._,Vo=Fo.keyManager,zo=Fo.focusManager,Uo=Fo.windowManager,Ko=Fo.pubSub,Qo=Fo.events,Go=Fo.detection,qo=Fo.globalEventHelper,Zo=qo.addBodyListener,Yo=qo.removeBodyListener,Xo=qo.addWindowListener,$o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}(o,e);var t,n,i,r=Mo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Wo.bindAll(Ho(t),"onKeydown","onResizeRefresh"),t.active=[],Ko.on(Qo.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Ho(t))),DS.flagManager.localizationPlatform&&Ko.on(Qo.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Ho(t))),Go.theme.isUnified&&(t.removeResize=Xo("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),Ko.trigger(Qo.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&Ko.trigger(Qo.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=J.model&&0!==this.view.children.length){var n=(J.model.sidebarTabs||[]).reduce((function(n,i){var r=i.name,o=e[r],a="".concat(r,"Tab");return(Wo.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var i=Do(n,1)[0];this.currentTab=i}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var r=Uo.getCurrentWindow();null!=r&&null!=r.getId&&"_frame"!==r.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),Zo("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Ro(No(o.prototype),"onBlur",this).call(this),Yo("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Vo.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Vo.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Vo.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Vo.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Vo.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(Wo.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=Wo.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;zo.setFocusRectOn(e.el,{left:n,top:i,width:r,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){Ko.off(Qo.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&Io(t.prototype,n),i&&Io(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an);function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function ea(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Jo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Jo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Jo(o)?o:String(o)),i)}var r,o}function ta(e,t){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ta(e,t)}function na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ia(e);if(t){var r=ia(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ia(e){return ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ia(e)}var ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}(o,e);var t,n,i,r=na(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).searchEnabled=J.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var i in n)n[i].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=J.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&ea(t.prototype,n),i&&ea(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),oa=ra;function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function la(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ha(i.key),i)}}function sa(){return sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=da(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},sa.apply(this,arguments)}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=da(e);if(t){var r=da(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fa(e)}(this,n)}}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},da(e)}function ha(e){var t=function(e,t){if("object"!==aa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==aa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aa(t)?t:String(t)}var pa=DS,ya=pa.TweenLite,ba=pa.dom,va=pa._,ma=pa.events,ga=pa.pubSub,wa=pa.utils.pxify,Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(o,e);var t,n,i,r=ua(o);function o(e){var t,n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=fa(t),a="search_toggle",(i=ha(i="tooltipKey"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,va.bindAll(fa(t),"onToggleSearchInput","hideSlider"),t.nameSpace=J.getCurrentNameSpace();var l=t.nameSpace.sidebar.children;return t.tabSelectedSlider=l.tabSelectedSlider.el,t.sliderMask=l.sliderMask.el,t.updateSliderLayout(),t}return t=o,n=[{key:"hasTooltip",get:function(){return"searchTab"===this.view.nameKey}},{key:"updateSliderLayout",value:function(){var e=this;if(ba.hasClass(this.el,"cs-selected")){var t=this.nameSpace.tabs,n=Math.floor(t.y+t.h);this.sliderMask.style.height=wa(n),window.requestAnimationFrame((function(){ya.set(e.tabSelectedSlider,{x:e.view.x,y:n-1,width:e.view.w||0}),e.hideSlider()}))}}},{key:"onToggleSearchInput",value:function(e){o.showingSearch||(ga.trigger(ma.sidebar.SHOW_SEARCH),this.view.parent.children.outlineTab.viewLogic.showPanel()),this.view.el.setAttribute("aria-expanded",!o.showingSearch)}},{key:"didChangeVisibility",value:function(e){sa(da(o.prototype),"didChangeVisibility",this).call(this,e),this.tabSelectedSlider.style.opacity=0}},{key:"hideSlider",value:function(){this.tabSelectedSlider.style.display="none",ba.addClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.opacity=1}},{key:"showSlider",value:function(){var e=document.querySelector(".selected-animation-done");null!=e&&ba.removeClass(e,"selected-animation-done"),ba.removeClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.display="block"}},{key:"animateSlider",value:function(){this.showSlider(),ya.to(this.tabSelectedSlider,.25,{x:this.view.x,width:this.view.w||0,onComplete:this.hideSlider})}},{key:"showPanel",value:function(e){"searchTab"!==this.view.nameKey?(sa(da(o.prototype),"showPanel",this).call(this,e),this.animateSlider(),o.showingSearch=!1):(this.onToggleSearchInput(),o.showingSearch=!0)}},{key:"isLive",value:function(){return sa(da(o.prototype),"isLive",this).call(this)||"searchTab"===this.view.nameKey}},{key:"getViewBox",value:function(){var e=this.view.getBox();return e.h-=20,e}}],n&&la(t.prototype,n),i&&la(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(oa),ka=Sa,Oa=DS,Ea=Oa._,Ca=Oa.scaler,xa=Oa.utils.getPath,Pa=Oa.dom,La=Oa.constants.refs.FRAME,Ta="tabs",_a=(J.def(Ta,$o,(function(e){var t=J.model,n=J.getNamespace(e),i=n.sidebar,r=n.logo,o=t.frame.controlOptions.controls.search&&t.outlineInSidebar;return{ariaStringId:"sidebar-tabs",attrs:{id:Ta,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs",class:"tabs"},overflow:"visible",x:0,y:function(){return r?r.bottom():0},w:function(){return i.data.actualWidth()},minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},updateHook:function(){var e=this.w-13,n=this.children.length,i=e/n,r={startPos:13,pad:7};t.rtl&&(r.toLeft=!0,r.startPos=e),this.flowChildren(r);for(var a=0,l=0;l<n;l++)a+=this.children[l].lastWidthByText;o?t.rtl||(a+=33):e-=50;var s,c=a>e;c?Pa.addClass(this.el,"overflow-tabs"):Pa.removeClass(this.el,"overflow-tabs");for(var u=0;u<n;u++)s=this.children[u],o&&u===n-1?(s.x=t.rtl?Jn:e-s.lastWidthByText,s.update()):s.width=c?Math.min(s.lastWidthByText,i-3):s.lastWidthByText},childDef:function(){_a(J.model,i,o)},methods:{updateDomStrings:function(){var e=this;requestAnimationFrame((function(){e.updateHook()}))}}}})),function(e,t,n){var i=!1,r=xa(e,"sidebarTabs",[]);e.outlineInSidebar&&n&&!r.some((function(e){return"search"===e.name}))&&r.push({name:"search",idx:r.length-1,isIcon:!0,properties:{}}),r.forEach((function(n,r){var o=function(e,t,n,i,r){var o=t.name,a=e.getString("search"===o?"search_toggle":o),l=e.currControlLayout[o],s=!r&&(Ea.isObject(l)?l.enabled:l),c=o+"Tab",u=null!=$o.lastSelectedTab?$o.lastSelectedTab.nameKey===c:s,f=J.def(c,ka,{model:Object.assign(t,{idx:i}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(u?"cs-selected":""),role:"tab","aria-selected":u?"true":"false","aria-label":a,"aria-controls":"".concat(o,"-panel"),tabindex:0===i?0:-1,"aria-expanded":"search"!==o&&null},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText},noUpdate:!0,minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=n.childScale)&&void 0!==e?e:1)},html:function(){return t.isIcon?hr(o)()+J.iconTextEl(o):a},updateHook:function(){f.viewLogic.updateSliderLayout(),this.lastWidthByText<=10&&this.doTextCalcs()},methods:{doTextCalcs:function(){var e=1/Ca.getScale(),t=this.content.style.width;DS.flagManager.localizationPlatform&&(this.content.style.width="fit-content");var n=this.content.scrollWidth*e,i=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t),this.lastWidthByText=n+4+this.padLeft+this.padRight,this.lastHeightByText=i+4},updateStrings:function(){var n=t.name,i="search"===n?"search_toggle":n;this.el.setAttribute("aria-label",e.getString(i)),t.isIcon||(this.content.textContent=e.getString(i)),this.doTextCalcs()}}});return f.init(),J.getNamespace(La).tabs.append(f),u}(e,n,t,r,i);i=o||i}))});function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Da(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ja(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ja(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ja(o)?o:String(o)),i)}var r,o}function Aa(){return Aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ma(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Aa.apply(this,arguments)}function Ia(e,t){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ia(e,t)}function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ma(e);if(t){var r=Ma(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ba(e)}(this,n)}}function Ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ma(e)}var Ha=DS,Na=Ha._,Fa=Ha.pubSub,Wa=Ha.detection,Va=Ha.globalEventHelper,za=(Va.addDocumentListener,Va.removeDocumentListener,Ha.keyManager.isTabKey,Ha.playerGlobals),Ua=Ha.utils,Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ia(e,t)}(o,e);var t,n,i,r=Ra(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Na.bindAll(Ba(t),"onShow"),Fa.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Na.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!za.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=Ua.getPath(this,this.view.lnk);Wa.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(Aa(Ma(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else Wa.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(Aa(Ma(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Na.camelCase(e.id)!==this.view.lnk.nameKey&&Na.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,i=this.getFirstChild();for(var r in n)r.indexOf("Panel")>-1&&n[r].viewLogic.onHide();this.el.style.display="block",null!=i.onPanelVisible&&i.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){Fa.off(DS.events.tab.SHOW,this.onShow)}}])&&Da(t.prototype,n),i&&Da(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Qa=Ka;function Ga(e){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(e)}function qa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ga(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ga(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ga(o)?o:String(o)),i)}var r,o}function Za(e,t){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Za(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xa(e);if(t){var r=Xa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ga(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xa(e)}var $a=DS.detection,Ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Za(e,t)}(o,e);var t,n,i,r=Ya(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var i=t.viewLogic.searchInputEl;$a.deviceView.isUnifiedMobile?(i.style.pointerEvents="none",setTimeout((function(){i.style.pointerEvents="all"}),100)):i.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&qa(t.prototype,n),i&&qa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),el=Ja;function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==tl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==tl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===tl(o)?o:String(o)),i)}var r,o}function ol(e,t){return ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ol(e,t)}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sl(e);if(t){var r=sl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ll(e)}(this,n)}}function ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sl(e)}var cl=DS,ul=cl.pubSub,fl=cl.events,dl=cl.TweenLite,hl=cl.focusManager,pl=cl._.bindAll,yl=cl.dom.addClass,bl=cl.detection,vl=!1,ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}(o,e);var t,n,i,r=al(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(ll(t))),bl.deviceView.isMobile&&(pl(ll(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(ll(t))),ul.on(fl.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){ul.off(fl.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),ul.off(fl.controlOptions.RESET,this.onControlOptionsReset,this),vl=!1}},{key:"ensureEventSubscriptions",value:function(){vl||(ul.on(fl.controlOptions.RESET,this.onControlOptionsReset,this),vl=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),yl(document.body,"tab-shown")}},{key:"onFocus",value:function(e){hl.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,i=n.bottomDiv,r=n.searchStatus,o=document.querySelector("#outline-content ul");dl.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,dl.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),i.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=nl(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),s=l[0],c=l[1],u=DS.stringTabler.getString(s,{count:a,term:this.searchInputEl.value},c);r.el.textContent=u,yl(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&rl(t.prototype,n),i&&rl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),gl=ml;function wl(e){return wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(e)}function Sl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==wl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==wl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===wl(o)?o:String(o)),i)}var r,o}function kl(){return kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},kl.apply(this,arguments)}function Ol(e,t){return Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ol(e,t)}function El(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xl(e);if(t){var r=xl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cl(e)}(this,n)}}function Cl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xl(e)}var Pl=DS,Ll=Pl.pubSub,Tl=Pl.events,_l=Pl.TweenLite,jl=Pl._.bindAll,Dl=Pl.dom,Al=Dl.addClass,Il=Dl.removeClass,Rl=Pl.focusManager,Bl=Pl.detection,Ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ol(e,t)}(o,e);var t,n,i,r=El(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),jl(Cl(t),"onShowSearch","onHideSearch","onFocus"),t.nameSpace=J.getCurrentNameSpace(),t.toggle=!1,Ll.on(Tl.sidebar.SHOW_SEARCH,t.onShowSearch),Ll.on(Tl.sidebar.HIDE_SEARCH,t.onHideSearch),t.searchInput=t.view.children.searchForm.el,t.searchInput.style.display="none",t.searchInput.style.opacity=0,J.model.outlineInSidebar||(t.toggle=!0,t.searchInput.style.opacity=1,t.searchInput.style.display="block",t.el.classList.add("toplink-search"));return t.searchInputField=t.view.children.searchInput.el,t.searchInputField.addEventListener("input",t.onSearchTermChanged.bind(Cl(t))),Bl.browser.isWebKit||t.searchInputField.addEventListener("keydown",(function(e){27===e.keyCode&&t.clearSearch()})),t.onClickEl(t.clearEl,(function(e){t.onFocus(e),t.clearSearch(),t.searchInputField.focus()})),t}return t=o,n=[{key:"onShowSearch",value:function(e){var t=this;this.toggle||(this.toggle=!0,this.view.update(),this.view.parent.children.outline.update(),this.searchInput.style.display="block",_l.to(this.searchInput,.2,{opacity:1,delay:.2,onComplete:function(){t.searchInputField.focus()}}),Al(document.body,"search-input-shown"))}},{key:"onHideSearch",value:function(e){var t=this;this.toggle=!1,this.view.update(),_l.to(this.searchInput,.2,{opacity:0,delay:0,onComplete:function(){t.view.parent.children.outline.update(),ka.showingSearch=!1,t.searchInput.style.display="none"}}),Il(document.body,"search-input-shown")}},{key:"onFocus",value:function(e){Rl.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){var t=this.view.parent.children.searchResults;J.model.outlineInSidebar&&!t.visible&&this.onHideSearch()}},{key:"onSearch",value:function(e){this.isSearchFieldEmpty()?e.preventDefault():(kl(xl(o.prototype),"onSearch",this).call(this,e),Il(this.clearEl,"hidden"),Ll.trigger(Tl.search.UPDATE_PANEL))}},{key:"onSearchTermChanged",value:function(){this.isSearchFieldEmpty()&&this.clearSearch()}},{key:"clearSearch",value:function(){Al(this.clearEl,"hidden"),Ll.trigger(Tl.search.CLEAR)}},{key:"isSearchFieldEmpty",value:function(){var e=this.searchInputEl.value;return null==e||""===e}}],n&&Sl(t.prototype,n),i&&Sl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(gl),Hl=Ml,Nl="search",Fl=J.def(Nl,Hl,(function(){var e=J.model;return{ariaStringId:"acc_search_input",attrs:{class:Nl,"aria-label":e.getString("acc_search_input"),role:"search",tabIndex:-1},z:3,x:0,y:0,w:"100%",h:function(){return this.viewLogic.toggle?65:0},html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input tabindex="0" class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(e.getString("search"),'">\n        </form>\n        <div data-ref="clear" class="search-clear hidden">\n          <button class="btn cs-button">\n            <span data-ref="searchClearLabel" class="search-clear-close" aria-label="').concat(e.getString("close"),'">').concat(hr("searchClear")(),'</span>\n          </button>\n        </div>\n        <div class="search-result-status" data-ref="searchStatus" aria-live="polite" role="status"></div>\n      </div>')},methods:{updateDomStrings:function(){this.viewLogic.searchInputEl.setAttribute("placeholder",e.getString("search")),this.viewLogic.searchClearLabelEl.setAttribute("aria-label",e.getString("close"))}},updateHook:function(){this.viewLogic.ensureEventSubscriptions()}}}));function Wl(e){return Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(e)}function Vl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Wl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Wl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Wl(o)?o:String(o)),i)}var r,o}function zl(){return zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},zl.apply(this,arguments)}function Ul(e,t){return Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ul(e,t)}function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Gl(e);if(t){var r=Gl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ql(e)}(this,n)}}function Ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gl(e){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gl(e)}var ql=DS,Zl=ql.focusManager,Yl=ql.keyManager,Xl=ql.detection,$l=ql.globalEventHelper,Jl=$l.addDocumentListener,es=$l.removeDocumentListener,ts=(ql.utils.getPath,ql.dom),ns=ts.parentNodesOf,is=ts.addClass,rs=ts.removeClass,os=ql._,as=os.first,ls=os.last,ss=os.bindAll,cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ul(e,t)}(o,e);var t,n,i,r=Kl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),ss(Ql(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;Xl.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||as(this.getItems()),is(this.currentItem,"hover"),Yl.isShowFocus&&this.centerOnFocused(),Zl.setFocusRectOn(this.getFocusRectTarget()),Jl("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(zl(Gl(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(rs(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),es("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;Yl.isActionKey(e.which)?(this.activateItem(e),Yl.isSpaceKey(e.which)&&e.preventDefault()):Yl.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):Yl.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):Yl.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Yl.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,rs(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,is(this.currentItem,"hover"),this.currentItem.focus()),Zl.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return ls(this.getItems())}},{key:"getFirstItem",value:function(){return as(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return ns(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&Vl(t.prototype,n),i&&Vl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),us=cs;function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}function ds(e){return function(e){if(Array.isArray(e))return ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ps(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||ps(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){if(e){if("string"==typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(e,t):void 0}}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bs(e,t){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bs(e,t)}function vs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gs(e);if(t){var r=gs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ms(e)}(this,n)}}function ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gs(e)}function ws(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==fs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==fs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===fs(o)?o:String(o)),i)}var r,o}function Ss(e,t,n){return t&&ws(e.prototype,t),n&&ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Os=function(e){return n(e.slideid)},Es=DS,Cs=Es.windowManager,xs=Es.focusManager,Ps=Es.TweenLite,Ls=Es.events,Ts=Es.pubSub,_s=Es.keyManager,js=Es.resolver,Ds=Es.dom,As=(Ds.hasClass,Ds.removeClass),Is=Ds.addClass,Rs=Ds.getParentWithClass,Bs=Es._,Ms=Bs.bindAll,Hs=(Bs.first,Es.utils),Ns=Hs.stripTags,Fs=(Hs.stripPlayer,Hs.prefixWithPlayer),Ws=Es.globalEventHelper,Vs=Ws.addDocumentListener,zs=(Ws.removeDocumentListener,Es.detection),Us=zs.theme,Ks=zs.os,Qs=Ss((function e(t,n,i){ks(this,e),this.slideId=t,this.title=n,this.text=i})),Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bs(e,t)}(n,e);var t=vs(n);function n(e){var i;ks(this,n),i=t.call(this,e),Ms(ms(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=J.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new Qs(Fs(e.slideId),DS.utils.getPath(js.resolvePath(e.slideId,DS.presentation),"title"),Ns(e.content).trim())})),i.slideTextData=J.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new Qs(Fs(e.slideid),DS.utils.getPath(js.resolvePath(e.slideid,DS.presentation),"title"),Ns(e.Text).trim())})),i.menuOptions=J.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=J.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&Ts.on(Ls.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),Ts.on(Ls.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),Ts.on(Ls.window.MAIN_CHANGED,i.onSlideChanged),i}return Ss(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=js.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new Qs(n.absoluteId,n.title(),Ns(t.Text))),e}),[])}},{key:"teardown",value:function(){Ts.off(Ls.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&Ts.off(Ls.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&As(t,"cs-selected"),null!=n&&(Is(n,"cs-selected"),Is(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return xs.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return xs.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!Us.isUnified||_s.isShowFocus)){var n=hs(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),Vs("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=Rs(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(Is(t,"cs-viewed"),this.updateAriaLabel(t),Ts.trigger(Ls.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){Us.isUnified&&ds(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];Os(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=Cs.getCurrentWindow().getCurrentSlide().absoluteId===e||js.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return J.model.getString("acc_visited");case"locked":return"".concat(J.model.getString("acc_visited"),", ").concat(J.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return J.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=J.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);Ks.isIOS;var o=this.wrapListItems?"":"no-wrap",a=Cs.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=js.resolvePath(n).viewed?"cs-viewed":"",c=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");Us.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(J.model.getString("acc_visited"),'">\n               ').concat(hr("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(J.model.getString("acc_locked"),'">\n               ').concat(hr("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(J.model.getString("acc_visited"),", ").concat(J.model.getString("acc_locked"),'">\n               ').concat(hr("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),Ps.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){Ps.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,_s.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",As(document.body,"search-results-active"),Ts.trigger(Ls.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||ds(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(us),qs=Gs,Zs="searchResults",Ys=J.def(Zs,qs,(function(e){var t=J.model,n=t.rtl?"rtl":"";return{attrs:{id:Zs+"-content",class:"cs-menu cs-panel panel ".concat(n),tabindex:-1},z:2,x:0,y:65,w:"100%",overflow:"scroll",h:function(){return this.parent.h-65-2},visible:!1,html:'\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              '.concat(t.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span data-ref="searchFilterLabel">').concat(t.getString("filter"),"</span>\n              ").concat(hr("filter")(),'\n            </button>\n          </span>\n\n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p data-ref="searchOptionsLabel">').concat(t.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span data-ref="notesCheckLabel">').concat(t.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span data-ref="slideCheckLabel">').concat(t.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="-1" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n      </span>\n    '),methods:{updateDomStrings:function(){this.viewLogic.titleEl.textContent=t.getString("search_results"),this.viewLogic.searchFilterLabelEl.textContent=t.getString("filter"),this.viewLogic.searchOptionsLabelEl.textContent=t.getString("search_in"),this.viewLogic.notesCheckLabelEl.textContent=t.getString("transcript_chk"),this.viewLogic.slideCheckLabelEl.textContent=t.getString("slide_text_chk")}}}}));function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}function $s(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Js(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ec(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Xs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Xs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Xs(o)?o:String(o)),i)}var r,o}function tc(){return tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},tc.apply(this,arguments)}function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nc(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=oc(e);if(t){var r=oc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}(this,n)}}function rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}var ac,lc,sc,cc=DS,uc=cc.detection,fc=cc.pubSub,dc=cc._,hc=cc.events,pc=cc.keyManager,yc=cc.resolver,bc=cc.windowManager,vc=cc.utils.prefixWithPlayer,mc=cc.focusManager.setFocusRectOn,gc=cc.globalEventHelper.addDocumentListener,wc=cc.dom,Sc=wc.parentNodesOf,kc=wc.getParentWithClass,Oc=wc.hasClass,Ec=wc.addClass,Cc=wc.removeClass,xc=function(e){return Sc(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},Pc=function(e){return xc(e).slice(1).some((function(e){return Oc(e,"item-collapsed")}))},Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nc(e,t)}(a,e);var t,i,r,o=ic(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),dc.bindAll(rc(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=J.model.frame.controlOptions.menuOptions,fc.once(hc.resume.SET_DATA,t.updateVisitedSlides),fc.on(hc.window.MAIN_CHANGED,t.onSlideChanged),fc.on(hc.mobile.OUTLINE_SHOWN,t.centerOnFocused),fc.on(hc.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=dc.flow(gc("mousedown",t.mouseDown),gc("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=J.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&fc.on(hc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(rc(t))),fc.on(hc.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&Ec(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return t=a,i=[{key:"teardown",value:function(){fc.off(hc.window.MAIN_CHANGED,this.onSlideChanged),fc.off(hc.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&uc.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&tc(oc(a.prototype),"onFocus",e).call(e)}),500):tc(oc(a.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(uc.theme.isUnified){var n=kc(e.target,"listitem");Oc(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&Oc(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!Oc(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(uc.theme.isUnified?e.updateViewedState(n.el):Ec(n.el,"cs-viewed"))})),uc.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){var i=Array.from(e.parentNode.querySelectorAll("div")).slice(n);i.length&&i.every((function(e){return Oc(e,"cs-viewed")}))&&(Ec(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while(Pc(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while(Pc(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,i;n=e.collection.models.map((function(e){return e.absoluteId})),i=$s(this.visitedSlides),n.every((function(e){return i.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||kc(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var r,o=e.getScene().absoluteId,a=null===(r=this.view.children[o])||void 0===r?void 0:r.el;if(null==a)return;var l=xc(a)[0];if(null!=l&&!Oc(l,"item-collapsible")){var s=this.el.querySelector(".cs-selected");null!=s&&Cc(s,"cs-selected"),Ec(a,"cs-selected")}this.isSceneCompleted(o)&&Ec(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),Sc(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(Cc(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return Sc(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||Oc(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=Oc(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),uc.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!Oc(e,"is-promoted-slide")&&!Oc(e,"is-scene")}));i.some((function(e){return Oc(e,"cs-viewed")}))&&Cc(t,"cs-unvisited"),i.every((function(e){return Oc(e,"cs-viewed")}))&&Ec(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}fc.trigger(hc.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,i=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),r=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(i.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=r+" "+t,!0}return!1}))||(o.textContent=r))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=kc(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(uc.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,Cc(this.currentItem,"hover")),this.currentItem=e,r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(Ec(t,"cs-viewed"),n.updateAriaLabel(t))}))),Oc(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected"),a=xc(e).pop();Oc(e,"is-scene")&&Oc(a,"item-collapsible")||(null!=o&&(Cc(o,"cs-selected"),this.updateAriaLabel(o)),Ec(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(r&&!t){var l=bc.getCurrentWindowSlide().absoluteId;i!=l&&(fc.trigger(hc.request.NEXT_SLIDE,i),uc.theme.isUnified&&fc.trigger(hc.topEllipsesPanel.HIDE)),uc.deviceView.isMobile&&(fc.trigger(hc.tab.HIDE),(uc.deviceView.isPhone||uc.theme.isClassic)&&fc.trigger(hc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&mc(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,t){var i=e.getAttribute("data-ref"),r=null!=i,o=n(i);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,Cc(this.currentItem,"hover")),this.currentItem=e,(o||Oc(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&Ec(t,"cs-viewed")}))),Oc(e,"listitem")){Ec(e,"cs-viewed");var a=this.el.querySelector(".cs-selected");null!=a&&Cc(a,"cs-selected"),Ec(e,"cs-selected")}else this.onCarrotClick(e);if(r&&!t){var l=bc.getCurrentWindowSlide().absoluteId;i!=l&&(fc.trigger(hc.request.NEXT_SLIDE,i),uc.theme.isUnified&&fc.trigger(hc.topEllipsesPanel.HIDE)),uc.deviceView.isMobile&&(fc.trigger(hc.tab.HIDE),(uc.deviceView.isPhone||uc.theme.isClassic)&&fc.trigger(hc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&mc(this.currentItem)}else Oc(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){Ec(e,"cs-viewed");var t=xc(e).pop();if(null!=t){if(!Oc(e,"is-scene")||!Oc(t,"item-collapsible")){var n=t.querySelector("div.listitem");Cc(n,"cs-unvisited")}Oc(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&Ec(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&Oc(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(pc.isActionKey(e.which))this.activateItem(),pc.isSpaceKey(e.which)&&e.preventDefault();else if(pc.isRightKey(e.which)&&t.dataset.hasLinks)Oc(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(pc.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(pc.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(pc.isLeftKey(e.which))if(t.dataset.hasLinks&&!Oc(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=kc(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else pc.isHomeKey(e.which)?this.currentItem=this.getFirstItem():pc.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),Cc(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,Ec(this.currentItem,"hover"),this.currentItem.parentNode.focus()),mc(this.currentItem)}},{key:"hasListItems",value:function(){return!dc.isEmpty(J.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||$s(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return uc.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return uc.deviceView.isMobile?dc.first(Sc(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:tc(oc(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;uc.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),tc(oc(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=yc.resolvePath(vc(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat($s(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(hc.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],i&&ec(t.prototype,i),r&&ec(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(us),Tc=Lc,_c="rtl",jc=function(){return J.model.rtl?_c:""},Dc=function(e){J.model.rtl&&!e.contains(_c)?e.add(_c):!J.model.rtl&&e.contains(_c)&&e.remove(_c)},Ac=DS.detection,Ic="outline",Rc=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},Bc=function(){var e=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");if(null==ac||sc!==!!J.model.rtl||lc!==e){var t=ge.getColor(DS.constants.refs.FRAME,".cs-tabs.cs-selected","color");ac=".item-collapsible:not(.item-collapsed) .is-scene {\n      color: ".concat(t," !important;\n    }\n  \n    .is-scene:not(.item-collapsed) .cs-icon-carrot * {\n      fill: ").concat(t," !important;\n    }"),sc=!!J.model.rtl,lc=e;var n=window.btoa("\n      <svg xmlns='http://www.w3.org/2000/svg' version='1.1'\n            width='6px' height='40px' viewBox='0 0 6 40' preserveAspectRatio='none'>\n        <g stroke='none' fill='".concat(lc,"'>\n          <polygon points='0 0 6 0 6 20 6 40 0 40'></polygon>\n        </g>\n      </svg>"));ac+="\n      .cs-listitem.cs-selected {\n        background-position: ".concat(sc?"right":"left",' top !important;\n        background-repeat: no-repeat !important;\n        background-size: 6px 100% !important;\n        background-image: url("data:image/svg+xml;base64,').concat(n,'") !important;    \n      }')}return ac},Mc=J.def(Ic,Tc,(function(){var e=J.model;return{tag:"nav",attrs:{id:Ic+"-content",class:"is-scrollable cs-outline ".concat(jc()),tabindex:-1,"aria-label":e.getString("outline_container")},y:function(){return null!=this.parent.children.search?this.parent.children.search.h:0},w:"100%",h:function(){return this.parent.h-(null!=this.parent.children.search?this.parent.children.search.h:0)},overflow:"auto",draws:[],html:function(){var t=this,i={},r=0;DS.flagManager.localizationPlatform&&this.el.querySelectorAll("[data-collapsible-id]").forEach((function(e){var t=e.dataset.collapsibleId;i[t]=!e.classList.contains("item-collapsed")}));var o=e.frame.navData.outline.links||[],a=e.frame.controlOptions.menuOptions,l=a.wrapListItems,s=a.autonumber,c=a.tooltips,u=a.flow;this.el.depth=0;var f=this.el;return f.innerHTML="\n      <style id='sceneStyle'>\n        ".concat(Bc(),"\n      </style>\n      "),function o(a,f,d){var h=document.createElement("ul");h.depth=f.depth+1,h.tabIndex=-1,null!=d?h.setAttribute("role","group"):(h.setAttribute("aria-label",e.getString("outline")),h.setAttribute("role","tree")),f.appendChild(h);for(var p=0;p<a.length;p++){var y=document.createElement("li"),b=a[p];b.parent=d,b.index=p,y.depth=h.depth,y.tabIndex=1===y.depth&&0===p?0:-1,y.setAttribute("role","treeitem"),h.appendChild(y);var v=null!=b.links,m=15*y.depth+19,g=b.slideid||b.emptySceneId;null==g&&t.draws.push({link:b,links:a,i:p});var w=n(g),S=e.rtl,k="free"===u||v&&b.expand?"":e.getString("acc_locked"),O=s?"".concat(Rc(b)," "):"",E=DS.flagManager.localizationPlatform&&a[p].translationId,C='\n              <div \n                class="cs-listitem listitem '.concat(w?"is-scene cs-unvisited":""," ").concat(l?"":"no-wrap"," ").concat("free"!==u&&"cs-"+u," ").concat(!w&&v?"is-promoted-slide":"",'"\n                style="padding-').concat(S?"right":"left",": ").concat(m,'px;"\n                data-ref="').concat(g,'"\n                ').concat(E?'data-translation-id="'.concat(E,'"'):"",'\n                data-slide-title="').concat(O).concat(a[p].displaytext,'"\n                ').concat(w?'data-is-scene="true"':"","\n                ").concat(v?'data-has-links="true"':"",'\n                title="').concat(c?b.displaytext:"",'"\n                tabIndex="-1"\n                role = "none">\n                <span style="position: absolute; opacity: 0;">').concat(O).concat(b.displaytext," ").concat(k,"</span>\n\n                ").concat(v?hr("carrot")("".concat(S?-1:1,"px")):"",'\n                <span class="linkText" aria-hidden="true">\n                  ').concat(O).concat(b.displaytext,'\n                </span>\n                <span class="outline-states" aria-hidden="true">\n                  <span class="visitedIcon" aria-label="').concat(e.getString("acc_visited"),'">\n                    ').concat(hr("checkmark")(),'\n                  </span>\n                  <span class="lockedIcon" aria-label="').concat(e.getString("acc_locked"),'">\n                    ').concat(hr("lock")(),'\n                  </span>\n                  <span class="lockedViewedIcon" aria-label="').concat(e.getString("acc_visited"),", ").concat(e.getString("acc_locked"),'">\n                    ').concat(hr("lockedViewed")(),"\n                  </span>\n                </span>\n              </div>\n            ");y.innerHTML=C,v&&(DS.flagManager.localizationPlatform&&y.setAttribute("data-collapsible-id",r),y.setAttribute("aria-expanded",b.expand),y.classList.add("item-collapsible"),null!=i[r]?i[r]||y.classList.add("item-collapsed"):b.expand||y.classList.add("item-collapsed"),o(b.links,y,b),r++)}}(o,f),f.innerHTML},updateHook:function(){var e=document.getElementById("sceneStyle");if(Ac.browser.isIE){var t=document.createElement("style");t.setAttribute("id","dynamicStyle"),t.setAttribute("type","text/css"),t.cssText=Bc(),document.head.querySelector("#dynamicStyle")||document.head.appendChild(t)}else null!=e&&(e.innerText=Bc());Dc(this.el.classList)}}}));function Hc(e){return function(e){if(Array.isArray(e))return Nc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Fc="outlineSearch",Wc=J.def(Fc,el,(function(){var e=J.model,t=e.frame,n=e.outlineInSidebar,i=DS.presentation,r=t.controlOptions.controls.search||i.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(Fc,"-content"),class:"outline-search ".concat(jc()),tabindex:-1},w:function(){var e=this.parent.childWidth||this.parent.w;return e-2},h:function(){return this.parent.h-2},updateHook:function(){Dc(this.el.classList)},overflow:n?"hidden":"visible",model:t,childViews:[].concat(Hc(r?[Fl,Ys]:[]),[Mc])}}));function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function zc(e){return function(e){if(Array.isArray(e))return Uc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Yc(i.key),i)}}function Qc(e,t){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qc(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zc(e);if(t){var r=Zc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Vc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qc(e)}(this,n)}}function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zc(e){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(e)}function Yc(e){var t=function(e,t){if("object"!==Vc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Vc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vc(t)?t:String(t)}var Xc=DS,$c=(Xc._,Xc.focusManager),Jc=Xc.detection,eu=Xc.pubSub,tu=Xc.events,nu=Xc.dom,iu=nu.addClass,ru=nu.removeClass,ou=(Xc.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qc(e,t)}(o,e);var t,n,i,r=Gc(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=qc(t),a=void 0,(i=Yc(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=Jc.deviceView.isDesktop&&!t.view.isUnified,eu.on(tu.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&eu.on(tu.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(qc(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||zc(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){iu(e,"cs-selected"),e.nextElementSibling.style.display="block",iu(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;ru(e,"cs-selected"),ru(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",$c.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=zc(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Kc(t.prototype,n),i&&Kc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(us)),au=ou;function lu(e){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(e)}function su(e){return function(e){if(Array.isArray(e))return cu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function uu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==lu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==lu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===lu(o)?o:String(o)),i)}var r,o}function fu(e,t){return fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fu(e,t)}function du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pu(e);if(t){var r=pu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===lu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hu(e)}(this,n)}}function hu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pu(e)}var yu=DS,bu=(yu.detection,yu.pubSub),vu=yu.events,mu=yu.keyManager.isSpaceKey,gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fu(e,t)}(o,e);var t,n,i,r=du(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),bu.on(vu.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&bu.on(vu.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(hu(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||su(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){mu(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&uu(t.prototype,n),i&&uu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(au),wu=gu;function Su(e){return function(e){if(Array.isArray(e))return ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ku(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ou=DS.utils,Eu=Ou.pxify,Cu=Ou.getPath,xu="resources",Pu=["xls","pdf","doc","ppt","rtf","zip","link","file"],Lu={docx:"doc",pptx:"ppt",xlsx:"xls"},Tu=J.def(xu,wu,(function(e){var t=J.model.frame,n=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme").replace(/\).*/,")");return{attrs:{id:"".concat(xu,"-content"),class:"cs-resource ".concat(jc()," resources"),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.h-2},overflow:"",model:t,html:function(){return'\n      <div class="resources-content scrolling-panel panel-content">\n        <ul class="resources-list" role="menu">\n          '.concat(Cu(t,"resourceData.resources",[]).reduce((function(e,t,i){var r=function(e){var t=e.url,n=t.includes("http")?"link":t.split(".").pop().toLowerCase();return Lu[n]&&(n=Lu[n]),Pu.includes(n)?n:"file"}(t),o="href=\"javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })\""),a=DS.flagManager.localizationPlatform&&t.translationId;return"".concat(e,'\n              <li class="cs-listitem resource" tabIndex="-1">\n                <a ').concat(o,' \n                  data-url="').concat(t.url,'" \n                  tabindex="').concat(0===i?0:-1,'" \n                  role="menuitem" \n                  ').concat(a?'data-translation-id="'.concat(a,'"'):"",'\n                >\n                  <div class="file-icon resource-ext-').concat(r,'">\n                    ').concat(hr("link"===r?"link":"file")(n),'\n                    <div class="file-icon-text">\n                    ').concat(r,'\n                    </div>\n                  </div>\n                  <div class="file-name">').concat(t.title,"</div>\n                </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){Dc(this.el.classList)},methods:{onPanelVisible:function(){Su(this.el.querySelectorAll(".resource")).forEach((function(e){var t=e.querySelector(".file-name").scrollHeight;e.clientHeight<t&&(e.style.height=Eu(t+8))}))}}}})),_u=DS,ju=_u.slideObjectUtils,Du=_u.utils.getPath,Au=_u.constants,Iu="glossary",Ru=J.def(Iu,au,(function(){var e=J.model;return ju.activeMobileMenuItem(e.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(Iu,"-content"),class:"".concat(jc()," cs-glossary"),tabindex:-1},w:"100%",h:function(){return this.parent.h-2},model:e,isUnified:!0,html:function(){return'\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <dl>\n        '.concat(Du(e,"frame.glossaryData",[]).map((function(e,t){var n="glossary-def-".concat(t),i=DS.flagManager.localizationPlatform&&e.translationId;return'\n              <dt \n                class="cs-heading glossary-item glossary-term term"  \n                tabindex="'.concat(0===t?0:-1,'" \n                aria-describedby="').concat(n,'"\n                ').concat(i?'data-translation-id="'.concat(i,'.Term"'):"","\n              >\n                ").concat(e.title,'\n              </dt>\n              <dd \n                id="').concat(n,'" \n                class="glossary-item glossary-desc" \n                tabindex="-1"\n                ').concat(i?'data-translation-id="'.concat(i,'.Definition"'):"","\n              >\n                ").concat(e.content.toString().split(Au.LINE_BREAK_REGEX).map((function(e){return"<p class=".concat(0===e.length?"empty-p":"",">").concat(e,"</p>")})).join(""),"\n              </dd>\n            ")})).join(""),"\n        </dl>\n      </div>")},updateHook:function(){Dc(this.el.classList)}}}));function Bu(e){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function Mu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Bu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Bu(o)?o:String(o)),i)}var r,o}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hu(e,t)}function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wu(e);if(t){var r=Wu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fu(e)}(this,n)}}function Fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wu(e)}var Vu=/color:#ffffff/gi,zu=DS,Uu=zu.detection,Ku=zu.events,Qu=zu.focusManager,Gu=zu.pubSub,qu=(zu.utils,zu.slideObjectUtils),Zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}(o,e);var t,n,i,r=Nu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Gu.on(Ku.window.MAIN_CHANGED,t.onSlideChanged.bind(Fu(t))),DS.flagManager.localizationPlatform&&Gu.on(Ku.transcript.REFRESH_VIEW,t.onRefreshView.bind(Fu(t))),Uu.deviceView.isClassicMobile?Gu.on(Ku.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(Fu(t),!1)):Uu.deviceView.isUnifiedMobile&&Gu.on(Ku.hamburger.TOGGLE,t.onHamburgerToggle.bind(Fu(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),Qu.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;Uu.deviceView.isClassicMobile&&(n=n.replace(Vu,"color:#515557")),this.contentEl.innerHTML=n,Gu.trigger(Ku.transcript.CHANGED),qu.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){Uu.deviceView.isDesktop?this.view.el.scrollTop=0:Uu.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:J.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return Uu.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Gu.off(Ku.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&Gu.off(Ku.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),Uu.deviceView.isClassicMobile?Gu.off(Ku.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):Uu.deviceView.isUnifiedMobile&&Gu.off(Ku.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&Mu(t.prototype,n),i&&Mu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Yu=Zu,Xu="transcript",$u={outline:Wc,resources:Tu,glossary:Ru,transcript:J.def(Xu,Yu,(function(){var e=J.model,t=e.rtl?"rtl":"";return{attrs:{id:Xu+"-content",class:"cs-transcript ".concat(t),tabindex:0},w:"100%",h:function(){return this.parent.h-2},html:'\n      <div data-ref="content" class="note-content scrolling-panel"></div>\n    ',model:e.frame}}))},Ju=DS.utils.getPath,ef=DS.constants.refs.FRAME,tf="sidebarPanels",nf=(J.def(tf,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.tabs,r=t.logo;return{attrs:{id:tf},x:0,z:1,y:function(){return i.bottom()},w:function(){return n.data.actualWidth()},h:function(){var e=r?r.h:0;return n.h-i.h-e},childDef:function(){nf(J.model,e)}}})),function(e,t){Ju(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,i){var r=t.name,o=r+"Panel",a=0===n,l=J.def(o,Qa,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":r+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,w:"100%",h:"100%",html:""});l.init(),J.getNamespace(ef).sidebarPanels.append(l);var s=$u[r];null!=s&&(s.nameSpace=i,s.init(),l.append(s))}(0,e,n,t)}))}),rf="topTabs";function of(e){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(e)}function af(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==of(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==of(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===of(o)?o:String(o)),i)}var r,o}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lf(e,t)}function sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cf(e);if(t){var r=cf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===of(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cf(e)}J.def(rf,(function(){return{attrs:{id:rf,role:"navigation"},w:"100%",overflow:"visible",h:"100%"}}));var uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}(o,e);var t,n,i,r=sf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&af(t.prototype,n),i&&af(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),ff=uf;function df(e){return df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(e)}function hf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==df(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==df(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===df(o)?o:String(o)),i)}var r,o}function pf(){return pf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},pf.apply(this,arguments)}function yf(e,t){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yf(e,t)}function bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mf(e);if(t){var r=mf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vf(e)}(this,n)}}function vf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mf(e)}var gf=DS.dom.isWithin,wf=DS.globalEventHelper,Sf=wf.addDocumentListener,kf=wf.removeDocumentListener,Of=DS,Ef=Of.pubSub,Cf=Of.events,xf=Of._,Pf=Of.playerGlobals,Lf=Of.dom,Tf=Lf.addClass,_f=Lf.removeClass,jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yf(e,t)}(o,e);var t,n,i,r=bf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),xf.bindAll(vf(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,Ef.on(Cf.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(vf(t))),DS.flagManager.localizationPlatform&&Ef.on(Cf.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(vf(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),Tf(this.el,"cs-selected"),Tf(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),Sf("mouseup",this.onCheckShouldHide),Ef.on(Cf.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),_f(this.el,"cs-selected"),_f(this.el,"active"),this.view.panel.el.style.display="none",kf("mouseup",this.onCheckShouldHide),Ef.off(Cf.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){Pf.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),pf(mf(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(gf(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=J.model.currControlLayout[this.model.name];return xf.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){Ef.off(Cf.controlLayout.CHANGED,this.hidePanel),Ef.off(Cf.sidebar.ACTIVE_TAB_SET)}}],n&&hf(t.prototype,n),i&&hf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Df=jf;function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function If(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Af(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Af(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Af(o)?o:String(o)),i)}var r,o}function Rf(){return Rf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Rf.apply(this,arguments)}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bf(e,t)}function Mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nf(e);if(t){var r=Nf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Af(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hf(e)}(this,n)}}function Hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nf(e)}var Ff=DS,Wf=Ff._,Vf=Ff.events,zf=Ff.pubSub,Uf=Ff.detection,Kf=Ff.keyManager,Qf=Ff.TweenLite,Gf=Ff.focusManager,qf=Ff.constants.ANIMATION_DURATION,Zf=Ff.globalEventHelper,Yf=Zf.addDocumentListener,Xf=Zf.addWindowListener,$f=Ff.dom,Jf=$f.isInput,ed=$f.hasClass,td=$f.addClass,nd=$f.removeClass,id=Uf.device.isMobile?"touchend":"mouseup",rd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}(o,e);var t,n,i,r=Mf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Wf.bindAll(Hf(t),"updatePanel","onResize"),t.isOutlinePanel="outlineLink"===e.nameKey,t.isGlossaryPanel="glossaryLink"===e.nameKey,t.isResourcesPanel="resourcesLink"===e.nameKey,t.isOutlinePanel&&(zf.on(Vf.menuLinksListItem.TOGGLE,t.updatePanel),zf.on(Vf.search.UPDATE_PANEL,(function(){setTimeout(t.updatePanel,qf)})),t.searchEnabled=J.model.frame.controlOptions.controls.search),window.globals.HAS_SLIDE||t.subscribeToRefreshEvents(),t.removeResize=Xf("resize",t.onResize),t}return t=o,n=[{key:"subscribeToRefreshEvents",value:function(){this.isOutlinePanel?zf.on(Vf.navData.REFRESH_VIEW,this.updatePanel):this.isResourcesPanel?zf.on(Vf.resources.REFRESH_VIEW,this.updatePanel):this.isGlossaryPanel&&zf.on(Vf.glossary.REFRESH_VIEW,this.updatePanel)}},{key:"teardown",value:function(){zf.off(Vf.resources.REFRESH_VIEW,this.updatePanel),zf.off(Vf.glossary.REFRESH_VIEW,this.updatePanel),zf.off(Vf.navData.REFRESH_VIEW,this.updatePanel),this.removeResize()}},{key:"onResize",value:function(){!this.showing||Uf.device.isMobile&&Jf(document.activeElement)||this.hidePanel()}},{key:"updatePanel",value:function(){var e=this.view.panel.el.querySelector(".scrolling-panel");if(null!=e)this.view.panel.height=Math.min(_e.minHeight-120,e.clientHeight+2),this.view.panel.update(),this.view.panel.updateChildren();else if(this.isOutlinePanel){var t=ed(document.body,"search-results-active")?document.body.querySelector(".search-results-active .search-results ul"):document.body.querySelector("#outline-content > ul");this.view.panel.height=Math.min(_e.minHeight-120,t.clientHeight+(this.searchEnabled?65:0)+2),this.view.panel.update(),this.view.panel.updateChildren(!0)}}},{key:"showPanel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];zf.trigger(Vf.tabLink.SHOW_PANEL,this),Uf.deviceView.isPhone&&Qf.from(this.view.panel.el,.12,{left:"left"===J.model.sidebarOpts.sidebarPos?30:-30}),td(document.body,"nested-panel-shown"),this.el.setAttribute("aria-expanded",!0),this.el.classList.add("cs-selected","active"),this.view.panel.el.style.display="block",this.updatePanel(),t||this.view.panel.viewLogic.focusChild(),this.removeShowPanelListeners=Wf.flow(Yf("keydown",(function(t){return e.handleKeyDown(t)})),Yf(id,this.onCheckShouldHide)),zf.on(Vf.controlLayout.CHANGED,this.hidePanel),this.showing=!0,zf.trigger(Vf.tabLink.PANEL_SHOWN,this)}},{key:"handleKeyDown",value:function(e){Kf.isEscapeKey(e.which)&&(this.hidePanel(),this.el.focus(),Gf.setFocusRectOn(this.el))}},{key:"hidePanel",value:function(e){zf.trigger(Vf.tabLink.HIDE_PANEL,this),!e&&Uf.deviceView.isPhone&&this.view.panel.inEllipsis||(Rf(Nf(o.prototype),"hidePanel",this).call(this),null!=this.removeShowPanelListeners&&this.removeShowPanelListeners(),nd(document.body,"nested-panel-shown"))}}],n&&If(t.prototype,n),i&&If(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Df),od=rd;function ad(e){return function(e){if(Array.isArray(e))return ld(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ld(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sd,cd=DS.detection,ud=DS.constants.refs.FRAME,fd=cd.deviceView.isPhone?290:302,dd=DS,hd=dd.pubSub,pd=dd.events,yd=!0,bd=[],vd=!0;hd.on(pd.renderTree.DESTROYED,(function(){bd=[],yd=!0}));var md=function(e){if(e.length>0){var t=e.shift();return bd.unshift(t),t}},gd=function(e){return e.reduce((function(e,t){return t.update(),e+(t.isTopLink?t.w:0)}),0)};function wd(e){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(e)}function Sd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==wd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t,n=e.id,i=(J.def(n,(function(i){var o=J.getNamespace(i),a=o.title,l=o.hamburger,s=o.sidebar,c=o.timer,u=o.topEllipsis;J.model.topTabsRight.length;return t=n,{attrs:{id:n,tabindex:-1},style:{left:"-1px"},w:function(){var e=this.parent.w-Jn;return a.visible&&(e-=a.w),s.visible&&(e-=l.w),null!=c&&c.visible&&(e-=c.w),u.visible&&(e-=u.w),e-ei},overflow:"visible",x:e.x,y:"vertical-center",h:22,z:5,childDef:function(){r(J.model,i)},methods:e.methods,updateHook:e.updateHook}})),function(n,i,r,o){var a,l,s,c,u="customlink"===r.name;u?(l=ff,a=DS.flagManager.localizationPlatform&&i.getControlString(r.properties.data)||r.properties.title,s="link".concat(e.dir).concat(o),c="custom-link"):(l=od,a=i.getString(r.name),s=r.name+"Link",c="panel-link");var f=ge.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),d={id:s,class:"cs-topmenu-item cs-tabs top-tab ".concat(c),tabindex:0};u||(d["aria-controls"]="".concat(r.name,"-panel"),d["aria-expanded"]=!1);var h=J.def(s,l,{selectedBorderColor:f,attrs:d,model:Object.assign(r,{idx:o}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{},tag:"button",html:function(){return'<span data-ref="label" class="cs-tab top-tab-text">'.concat(a,"</span>")},methods:{updateDomStrings:function(){var e="customlink"===r.name?i.getControlString(r.properties.data):i.getString(r.name);null!=e&&(this.viewLogic.labelEl.textContent=e)}},wPad:14,z:2,w:"fit-to-text-w",h:"fit-to-text-h",minH:23});h.init(),J.getNamespace(ud)[e.id].append(h,!0),u||function(n,i,r,o){var a=o.name+"Panel",l="linksRight"===e.id,s=J.getNamespace(n),c=(s.topBar,s.frame,s.sidebar),u=s.slide,f=(s.wrapper,s.topEllipsis),d=ge.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),h=cd.env.isFileProtocol||cd.browser.isFF?"background-color":"background",p=ge.getColor(n,".cs-topmenu-item.active .cs-panel",h),y=J.getNamespace(n)[o.name+"Link"],b=J.getNamespace(n),v=b.topEllipsisPanel,m=b.linksRight,g=J.model.rtl,w=J.def(a,Qa,{attrs:{id:a,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel top-tabs-drop topmenu-panel-align-".concat(l?"right":"left"),tabIndex:-1},style:{borderColor:d,background:p},w:function(){return Math.min(window.innerWidth-16,fd)},h:function(){return this.height||200},z:u.z+1,visible:!1,lnk:i,tabsId:t,overflow:"visible",x:function(){var e=0;if(y.inEllipsis){var t=-v.lastX-f.lastX;return!g||cd.deviceView.isPhone?"left"===c.pos?e=v.maxWidth-this.w+8:cd.deviceView.isPhone||(e=(v.maxWidth-this.w)/2+8):"left"!==c.pos&&(e=-2),DS.utils.clamp(t+8,t+window.innerWidth-this.w-8,e)}var n=(e=i.x+(i.w-this.w)/2)+this.w;return!y.inEllipsis&&n>m.w&&(e=m.w-this.w-20),e=Math.max(0,e),this.children.arrow.el.style.left="".concat(i.x-e+i.w/2-11,"px"),e},y:function(){return y.inEllipsis?0:this.lnk.h+10},html:po(p,d)});w.init(n),J.getNamespace(ud)[e.id].append(w),i.panel=w;var S=$u[o.name];null!=S&&(S.init(n),w.append(S))}(n,h,0,r)}),r=function(e,t){[].concat(ad(e.topTabsLeft),ad(e.topTabsRight)).forEach((function(n,r){i(t,e,n,r)}))}}({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){var e=J.getNamespace(DS.constants.refs.FRAME),t=e.hamburger,n=e.title,i=e.sidebar,r=e.topEllipsis,o=J.model,a=0;return o.rtl?(i.visible&&"left"===o.sidebarOpts.sidebarPos&&(a+=t.w),r.visible&&(a+=r.w,"right"===i.pos&&(a=r.w))):n.visible?a=n.right():i.visible&&(a=t.w),a+("right"===i.pos?o.rtl?Jn:n.visible?0:Jn:ei)},methods:{tabWidths:function(){return gd(this.children)},phoneUpdateHook:function(){if(0!==this.children.length||0!==bd.length){var e=J.getNamespace(this.nameSpace),t=e.topEllipsis,n=e.topEllipsisPanel;this.children.forEach((function(e){var i=n.children.links.el;null!=e.panel&&(e.panel.inEllipsis=!0,i.insertBefore(e.panel.el,i.firstChild),e.panel.update()),e.inEllipsis=!0,i.insertBefore(e.el,i.firstChild),t.setVisibility(!0)})),this.updateHook=DS._.noop}}},updateHook:function(){if(DS.detection.deviceView.isPhone)this.phoneUpdateHook();else{var e=this.children;if(vd||0!==this.children.length||DS.presentation.isPreview()||this.setVisibility(bd.length>0||this.children.some((function(e){return e.visible}))),vd=!1,(0!==e.length||0!==bd.length)&&null!=this.nameSpace){var t=J.getNamespace(this.nameSpace),n=t.linksRight,i=t.topEllipsis,r=t.sidebar,o=t.topEllipsisPanel,a=this.w;if(sd>a&&(yd=!0),sd=a,yd&&gd(e)>this.w)for(;gd(e)>this.w;){var l=md(this.children);if(null!=l&&l.isTopLink){if(null!=l.el){var s=o.children.links.el;null!=l.panel&&(l.panel.inEllipsis=!0,s.insertBefore(l.panel.el,s.firstChild),l.panel.update()),l.inEllipsis=!0,s.insertBefore(l.el,s.firstChild)}i.setVisibility(!0)}}else if(bd.length>0){var c=gd(e),u=bd[0],f=this.w;i.visible&&1===bd.length&&(f+=i.w),f>c+u.w&&(bd.shift(),this.el.appendChild(u.el),null!=u.panel&&(u.panel.inEllipsis=!1,u.panel.update(),this.el.appendChild(u.panel.el)),this.children.unshift(u),u.inEllipsis=!1)}0===bd.length&&i.visible&&i.setVisibility(!1),yd=!1;var d={toLeft:!0,startPos:n.w-Jn,hook:function(e){null!=e.panel&&e.panel.update()}};"right"!==r.pos||J.model.rtl?J.model.rtl&&(d.toLeft=!1,d.startPos=0,d.reverse=!1):(d.toLeft=!1,d.startPos=0,d.reverse=!0),this.flowChildren(d)}}}});var kd="bottomBar";J.def(kd,(function(e){var t,n=J.getNamespace(e),i=n.frame,r=n.topBar,o=n.navControls;return Sd(t={openPanels:{},tag:"section",attrs:{id:kd},overflow:"visible",x:function(){return r.x},y:function(){return i.h-ti},w:function(){return r.w},h:ti},"overflow","visible"),Sd(t,"updateHook",(function(){if(this.hasAllChildren()){var e=J.model.rtl,t=this.children.playbackControls.children.seek;if(this.useReducedView=!1,this.marginPercent=1,t.width=0,o.update(),this.children.playbackControls.visible&&t.visible){var n=this.calcChildrensWidth()-30,i=e?1:0,r=(this.children.filter((function(e){return e.w>0})).length+i)*Jn;if(t.width=Math.max(this.w-n-r,30),n+r+20>this.w){this.useReducedView=!0;var a=this.getChildWidthInfo(),l=a.count,s=a.minWidth,c=11*l;this.marginPercent=Math.min((this.w-s)/c,1),1===this.marginPercent&&(t.width=this.w-(s+c)+30),this.updateChildren(!0)}}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:!1,pad:Jn*this.marginPercent,reverse:!0})}})),Sd(t,"childVisibilityChangedHook",(function(){this.update()})),Sd(t,"methods",{getChildWidthInfo:function(){return this.children.reduce((function(e,t){if(!t.visible||null==t.getMinChildWidthInfo)return e;var n=t.getMinChildWidthInfo(),i=n.minWidth,r=n.count;return e.count+=r,e.minWidth+=i,e}),{count:0,minWidth:0})},panelToggled:function(e,t){this.openPanels[e]=t,t?this.el.style.zIndex=11:_.values(this.openPanels).every((function(e){return!e}))&&(this.el.style.zIndex=3)}}),t}));var Od="navControls";J.def(Od,(function(e){var t=J.model,n=J.getNamespace(e).bottomBar;return{tag:"nav",attrs:{id:Od,"aria-label":"slide navigation"},w:function(){return this.width||0},h:ti,yp:"vertical-center",childVisibilityChangedHook:function(){this.ariaVisibleWithChildren()},updateHook:function(){var e,i=null!==(e=n.marginPercent)&&void 0!==e?e:1;this.flowChildren({rtl:t.rtl,startPos:-10*i,pad:Jn*i,fullUpdate:!0,sizeToChildren:!0}),this.ariaVisibleWithChildren()},parentAlign:function(){return t.rtl?"l":"r"}}}));var Ed="miscControls",Cd=DS.detection.deviceView;function xd(e){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(e)}function Pd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==xd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===xd(o)?o:String(o)),i)}var r,o}J.def(Ed,(function(e){var t=J.getNamespace(e),n=t.frame,i=t.bottomBar,r=J.model;return{attrs:{id:Ed,"aria-label":"misc controls",role:"region"},wp:function(){return this.width||0},wl:function(){return Cd.isPhone?58:this.wp},xp:function(){return this.left||0},yl:function(){return 0},xl:function(){return Cd.isPhone?this.parent.w-this.w:this.xp},hp:function(){return ti},hl:function(){return Cd.isPhone?n.h:this.hp},overflow:"visible",parentAlign:function(){return r.rtl?"l":"r"},childVisibilityChangedHook:function(){this.ariaVisibleWithChildren()},updateHook:function(){this.ariaVisibleWithChildren()},beforeUpdateHook:function(){var e;Cd.isPhone||this.flowChildren({fullUpdate:!0,pad:Jn*(null!==(e=i.marginPercent)&&void 0!==e?e:1),startPos:0,sizeToChildren:!0,rtl:r.rtl})}}}));var Ld=DS,Td=Ld._,_d=Ld.pubSub,jd=Ld.events,Dd=Ld.dom.toggleClasses,Ad=(Ld.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,Td.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),_d.on(jd.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){_d.off(jd.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(_d.trigger(jd.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(jd.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(jd.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(jd.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(jd.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(jd.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(jd.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();Dd(document.body,"timeline-playing","timeline-paused",i),Dd(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(jd.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(jd.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&Pd(t.prototype,n),i&&Pd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Id=DS.detection,Rd=(Id.deviceView,Id.orientation,"playbackControls");function Bd(e){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(e)}function Md(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zd(i.key),i)}}function Hd(){return Hd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vd(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Hd.apply(this,arguments)}function Nd(e,t){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nd(e,t)}function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vd(e);if(t){var r=Vd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Bd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wd(e)}(this,n)}}function Wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vd(e)}function zd(e){var t=function(e,t){if("object"!==Bd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bd(t)?t:String(t)}J.def(Rd,Ad,(function(e){var t=J.getNamespace(e),n=t.seek,i=t.bottomBar,r=(J.model.rtl,J.model);return{attrs:{id:Rd,"aria-label":"playback controls",role:"region",tabindex:-1},visibility:"no-reflow",x:function(){return this.left||0},w:function(){return this.width+(n.visible?0:n.w)||0},h:ti,noUpdate:!0,beforeUpdateHook:function(){var e,t=this.hasAllChildren()&&!this.children.playPause.visible?Jn:0,n=null!==(e=i.marginPercent)&&void 0!==e?e:1;this.flowChildren({rtl:r.rtl,fullUpdate:!0,sizeToChildren:!0,startPos:t-Jn*n,pad:Jn*n})},parentAlign:function(){return r.rtl?"r":"l"}}}));var Ud=DS,Kd=Ud._,Qd=Ud.utils,Gd=Ud.pubSub,qd=Ud.events,Zd=Ud.constants,Yd=Ud.keyManager,Xd=Ud.focusManager,$d=Ud.dom,Jd=Ud.dom,eh=Jd.addClass,th=Jd.removeClass,nh=Ud.globalEventHelper,ih=nh.addBodyListener,rh=nh.removeBodyListener,oh=Ud.appState,ah=10,lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nd(e,t)}(o,e);var t,n,i,r=Fd(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Wd(t),a=!0,(i=zd(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.isOpen=!1,t.view.volumeStrength=Zd.DEFAULT_VOLUME*ah,Kd.bindAll(Wd(t),"onShow","onHide","onVolumeChanged","onInputChanged","toggleMute","onKeydown","onScroll"),t.volumeRangeEl.addEventListener("input",t.onInputChanged),t.el.addEventListener("mouseover",t.onShow),t.el.addEventListener("scroll",t.onScroll),t.buttonEl.addEventListener("click",t.toggleMute),Gd.on(qd.volume.CHANGED,t.onVolumeChanged),oh.setVolume(t.view.volumeStrength/ah),t}return t=o,(n=[{key:"tooltipKey",get:function(){return oh.getVolume()>0?"acc_mute":"acc_unmute"}},{key:"onVolumeChanged",value:function(e){e=Qd.clamp(0,ah,e*ah),this.view.volumeStrength=e,this.view.updateButton();var t=0===e;this.buttonEl.setAttribute("aria-pressed",t),this.volumeRangeEl.valueAsNumber!==e&&(this.volumeRangeEl.value=e)}},{key:"onHide",value:function(e){var t=this;setTimeout((function(){var e=document.elementFromPoint($d.mouseX,$d.mouseY);t.el.contains(e)||"tooltip"===e.id||(t.isOpen=!1,th(t.el,"open"),t.view.el.removeEventListener("mouseleave",t.onHide),rh("keydown",t.onKeydown),t.view.update())}),200)}},{key:"onShow",value:function(){this.isOpen||(this.isOpen=!0,eh(this.el,"open"),this.view.el.addEventListener("mouseleave",this.onHide),ih("keydown",this.onKeydown),this.view.update())}},{key:"onInputChanged",value:function(e){var t=e.target.valueAsNumber;oh.setVolume(t/ah)}},{key:"toggleMute",value:function(e){oh.onToggleVolume()}},{key:"onFocus",value:function(e){this.onShow(),this.onHoverIn(e),Xd.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.onHoverOut(e),this.onHide(),Hd(Vd(o.prototype),"onBlur",this).call(this))}},{key:"onKeydown",value:function(e){var t=e.which,n=this.volumeRangeEl.valueAsNumber,i=function(t){oh.setVolume(t/ah),e.preventDefault()};document.activeElement!==this.volumeRangeEl&&(Yd.isDownishKey(t)||Yd.isPageDownKey(t)?i(n-1):Yd.isUpishKey(t)||Yd.isPageUpKey(t)?i(n+1):Yd.isEndKey(t)?i(ah):Yd.isHomeKey(t)&&(this.previousVolume=n,i(0)))}},{key:"onScroll",value:function(e){e.target.scrollTop=0}},{key:"dismissTooltip",value:function(){Hd(Vd(o.prototype),"dismissTooltip",this).call(this),this.onHide()}},{key:"teardown",value:function(){Gd.off(qd.volume.CHANGED,this.onVolumeChanged)}}])&&Md(t.prototype,n),i&&Md(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),sh=lh,ch="volume",uh=DS,fh=uh.utils.pxify,dh=uh.constants;function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function ph(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gh(i.key),i)}}function yh(e,t){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yh(e,t)}function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mh(e);if(t){var r=mh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vh(e)}(this,n)}}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(e)}function gh(e){var t=function(e,t){if("object"!==hh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hh(t)?t:String(t)}J.def(ch,sh,(function(e){var t=J.model,n=(J.model.rtl,J.getNamespace(e).bottomBar),i=ge.getColor(e,".cs-brandhighlight-bg","background",".cs-base.cs-custom-theme");return{noUpdate:!0,attrs:{id:ch,class:"btn cs-volume cs-button volume-panel volume"},overflow:"visible",w:30,minW:30,minH:30,sliderH:function(){return 105},h:function(){return this.viewLogic.isOpen?this.sliderH:30},y:function(){return this.el.style.top=fh(this.viewLogic.isOpen?-58:17,!1),0},html:function(){return this.volumeStrength=this.volumeStrength||10*dh.DEFAULT_VOLUME,'<button\n      data-ref="button"\n      class="cs-button"\n      aria-label="'.concat(t.getString(this.volumeStrength>0?"acc_mute":"acc_unmute"),'"\n      aria-pressed="false"\n      tabIndex="0"\n      >\n      </button>\n      <div data-ref="sliderBar" class="slider-bar btn" style="width: ').concat(fh(this.w),"; height: ").concat(fh(75),'">\n        <input\n          type="range"\n          class="cs-volume volume-range"\n          data-ref="volumeRange"\n          aria-label="').concat(t.getString("acc_volume"),'"\n          min="0"\n          max="').concat(10,'"\n          step="1"\n          value="').concat(this.volumeStrength,'"\n          tabIndex="0"\n          aria-orientation="vertical" />\n        <div class="volume-track"></div>\n        <div data-ref="volumeProgress"\n          class="volume-progress cs-brandhighlight-bg"\n          style="background: ').concat(i,';"></div>\n        <div data-ref="volumeDot" class="volume-dot"></div>\n      </div>')},updateHook:function(){n.panelToggled("volume",this.viewLogic.isOpen)},methods:{updateButton:function(){var e=this.volumeStrength/10;this.children.button.el.innerHTML=hr("volume")(this.volumeStrength),this.children.button.el.setAttribute("aria-label",t.getString(this.volumeStrength>0?"acc_mute":"acc_unmute")),this.children.volumeDot.el.style.top=fh(55*(1-e)),this.children.volumeProgress.el.style.height=fh(55*e)},updateDomStrings:function(){this.viewLogic.buttonEl.setAttribute("aria-label",t.getString("acc_volume")),this.viewLogic.volumeRangeEl.setAttribute("aria-label",t.getString("acc_volume"))}}}}));var wh=DS,Sh=wh.pubSub,kh=wh.captionsManager,Oh=wh.stringTabler,Eh=wh.events.captions,Ch=Eh.SHOW_BUTTON,xh=Eh.HIDE_BUTTON,Ph=Eh.ENABLED,Lh=Eh.ENABLE,Th=wh.detection.theme.isUnified,_h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yh(e,t)}(o,e);var t,n,i,r=bh(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=vh(t),a=!0,(i=gh(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Sh.on(Ch,(function(e){return t.onVisibilityChanged(!0)})),Sh.on(xh,(function(e){return t.onVisibilityChanged(!1)})),Sh.on(Ph,t.onCaptionsEnabled.bind(vh(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=kh.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Oh.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),Th&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Sh.trigger(Lh,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Sh.off(Ch),Sh.off(xh),Sh.off(Ph)}}])&&ph(t.prototype,n),i&&ph(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),jh=_h,Dh=(DS.flagManager,"captions");function Ah(e){return Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(e)}function Ih(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fh(i.key),i)}}function Rh(e,t){return Rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rh(e,t)}function Bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hh(e);if(t){var r=Hh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mh(e)}(this,n)}}function Mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(e)}function Nh(e,t,n){return(t=Fh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e){var t=function(e,t){if("object"!==Ah(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ah(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ah(t)?t:String(t)}J.def(Dh,jh,(function(){return{tag:"button",attrs:{id:Dh,class:"cs-button btn content-center","aria-pressed":!1,tabindex:0},minW:34,minH:ti,y:"vertical-center",noUpdate:!0,parentAlign:"l",visible:!1,updateHook:function(){this.el.setAttribute("aria-label",J.model.getString(this.toggle?"acc_cc_hide":"acc_cc_show"))},html:function(){var e=null!=this.viewLogic&&this.viewLogic.toggle,t=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");return"\n        <style>\n          #captions.cs-button:after {\n            background: ".concat(e?t:"transparent",";\n          }\n        </style>\n        ").concat(hr("captions")()+J.iconTextEl(this.toggle?"acc_cc_hide":"acc_cc_show","top: 20px"),"\n        ")}}}));var Wh=DS,Vh=Wh._,zh=Wh.events,Uh=Wh.pubSub,Kh=Wh.detection,Qh=Wh.dom.tappedClass,Gh=Wh.keyManager,qh=Wh.stringTabler,Zh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rh(e,t)}(o,e);var t,n,i,r=Bh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Nh(Mh(t=r.call(this,e)),"hasTooltip",!0),Nh(Mh(t),"onTap",(function(e){Qh(t.el)})),Nh(Mh(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():Kh.theme.isUnified&&t.currTimeline.reset()})),Nh(Mh(t),"onKeydown",(function(e){var t=e.which;Gh.isSeekKey(t)&&Uh.trigger(zh.player.SEEK,e)})),Nh(Mh(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),Vh.bindAll(Mh(t),"onTimelineChanged"),Uh.on(zh.player.TOGGLE_PLAYBACK,t.onClickBtn),Uh.on(zh.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),Kh.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,Kh.deviceView.isMobile&&Uh.on(zh.currTimeline.TICK,t.onTick.bind(Mh(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){Uh.off(zh.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",qh.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Ih(t.prototype,n),i&&Ih(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Yh=Zh,Xh=DS.stringTabler,$h="playPause";function Jh(e){return Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(e)}function ep(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ap(i.key),i)}}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tp(e,t)}function np(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=rp(e);if(t){var r=rp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ip(e)}(this,n)}}function ip(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(e)}function op(e,t,n){return(t=ap(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ap(e){var t=function(e,t){if("object"!==Jh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Jh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jh(t)?t:String(t)}J.def($h,Yh,(function(){return{tag:"button",attrs:{id:$h,class:"content-center cs-button","aria-pressed":!1,"aria-label":Xh.getString("acc_pause"),tabindex:0},contentStyle:{width:"34px",height:"34px"},style:{background:"transparent",border:"none"},html:function(){return(this.toggle?hr("pause")():hr("play")())+J.iconTextEl(this.toggle?"acc_pause":"acc_play")},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",this.toggle?J.model.getString("acc_pause"):J.model.getString("acc_play"))}},calcTextSize:!0,y:"vertical-center",padLeft:6,padRight:6,minH:34,minW:34,z:1}}));var lp=DS,sp=lp._,cp=lp.detection,up=lp.utils,fp=lp.keyManager,dp=lp.dom,hp=lp.dom,pp=hp.addClass,yp=hp.removeClass,bp=lp.globalEventHelper.addWindowListener,vp=lp.events,mp=lp.pubSub,gp=(lp.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),wp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}(o,e);var t,n,i,r=np(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),op(ip(t=r.call(this,e)),"hasTooltip",!0),op(ip(t),"tooltipMoves",!0),sp.bindAll(ip(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),mp.on(vp.slide.STARTED,t.checkSeekable),mp.on(vp.player.SEEK,t.onKeydown),mp.on(vp.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!J.model.frame.controlOptions.controls.readonly||J.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=cp.deviceView.isClassicDesktop?this.seekEl:this.view.el;cp.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=J.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return up.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return cp.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(vp.timeline.TICK,this.onTick),this.currTimeline.off(vp.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(vp.timeline.TICK,this.onTick),this.currTimeline.on(vp.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=up.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(yp(this.el,"read-only"),this.progressBarEl.disabled=!1):(pp(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),mp.trigger(vp.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(vp.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(vp.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=bp(this.endEvent,this.onMouseUp),this.removeSeekListener=bp(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;fp.isActionKey(t)?mp.trigger(vp.player.TOGGLE_PLAYBACK):this.isSeekable()&&(fp.isDownishKey(t)?this.seekBy(e,-100):fp.isPageDownKey(t)?this.seekBy(e,-1e3):fp.isUpishKey(t)?this.seekBy(e,100):fp.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){zt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(dp.mouseX)*this.duration:Math.floor(up.toSeconds(this.progressBarEl.value));var n=up.formatSecondsAsTime(t),i=up.formatSecondsAsTime(this.duration);return"".concat(gp(n)," / ").concat(gp(i))}}}])&&ep(t.prototype,n),i&&ep(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Sp=wp;function kp(e){return kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(e)}function Op(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==kp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==kp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===kp(o)?o:String(o)),i)}var r,o}function Ep(){return Ep="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lp(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ep.apply(this,arguments)}function Cp(e,t){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cp(e,t)}function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lp(e);if(t){var r=Lp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===kp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pp(e)}(this,n)}}function Pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}var Tp=DS,_p=Tp._,jp=Tp.pubSub,Dp=Tp.events,Ap=Tp.dom,Ip=Tp.utils.pxify,Rp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}(o,e);var t,n,i,r=xp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_p.bindAll(Pp(t),"onSlideStarted","onStartProgressDetails","onStopProgressDetails","animateProgressDetails"),jp.on(Dp.slide.STARTED,t.onSlideStarted),t.resetPreviewWidths(),t.isUserControlled&&(t.view.el.addEventListener("mouseenter",t.onStartProgressDetails),t.view.el.addEventListener("mouseleave",t.onStopProgressDetails)),t}return t=o,n=[{key:"onTick",value:function(e){Ep(Lp(o.prototype),"onTick",this).call(this,e),this.progress=e}},{key:"resetPreviewWidths",value:function(){this.previewWidth=0,this.prevProgWidth=0}},{key:"onSlideStarted",value:function(){this.resetPreviewWidths()}},{key:"onStartProgressDetails",value:function(){this.animateProgressDetails()}},{key:"onStopProgressDetails",value:function(){window.cancelAnimationFrame(this.detailsId)}},{key:"updatePreviewEls",value:function(){this.progressPreviewEl.style.width=Ip(this.previewWidth),this.prevProgressPreviewEl.style.width=Ip(this.prevProgWidth)}},{key:"animateProgressDetails",value:function(){var e=this.view.getBox(),t=Ap.mouseX-e.x,n=this.progress*e.w,i=n-e.w*(t/e.w);t>=n&&(i=0),this.previewWidth=Math.min(e.w,t),this.prevProgWidth=Math.min(n,i),this.updatePreviewEls(),this.detailsId=window.requestAnimationFrame(this.animateProgressDetails)}}],n&&Op(t.prototype,n),i&&Op(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Sp),Bp=Rp,Mp=(DS.detection.device.isMobile,"seek");function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Np(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Kp(i.key),i)}}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fp(e,t)}function Wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zp(e);if(t){var r=zp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vp(e)}(this,n)}}function Vp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(e)}function Up(e,t,n){return(t=Kp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kp(e){var t=function(e,t){if("object"!==Hp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hp(t)?t:String(t)}J.def(Mp,Bp,(function(e){var t=J.model,n=J.model.frame.controlOptions.controls,i=n.readonly,r=ge.getColor(e,".cs-seekcontrol","border-top-color"),o=ge.getColor(e,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),a=J.getNamespace(e).slide;return{attrs:{id:Mp,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(i?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},minW:30,h:30,updateHook:function(){var e=this,t=this.el.offsetParent;if(DS.detection.deviceView.isPhone&&DS.detection.orientation.isLandscape&&null!=t){var n=a.el.getBoundingClientRect(),i=n.height+n.top,r=t.getBoundingClientRect(),o=this.children.seek.el.getBoundingClientRect(),l=r.top+o.top-this.el.getBoundingClientRect().top+o.height;this.el.style.top="".concat(i-l,"px"),this.el.style.width="".concat(n.width,"px"),this.el.style.left="".concat(n.left-r.left,"px"),this.el.style.transform="none";var s=0;requestAnimationFrame((function t(){s++;var i=a.el.getBoundingClientRect();i.top!==n.top||i.left!==n.left||i.width!==n.width||i.height!==n.height?e.updateHook():s<10&&requestAnimationFrame(t)}))}},html:"\n      <style>\n        #seek:before {\n          border: 1px solid ".concat(r,";\n          background-image: ").concat(o,';\n          background-repeat: no-repeat !important;\n        }\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div data-ref="seek" class="cs-seek progress-bar-seek">\n          <div class="progress-bar-fill-preview cs-fill" data-ref="progressPreview"></div>\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!n.seekbar,'"\n            aria-label="').concat(t.getString("acc_slide_progress"),'"\n            data-ref="progressBar">\n          <div class="cs-fill cs-brandhighlight-bg progress-bar-fill" style="width: 0px" data-ref="progressBarFill">\n            <div class="prev-progress-bar-fill-preview cs-fill" data-ref="prevProgressPreview"></div>\n          </div>\n        </div>\n      </div>\n    '),methods:{updateDomStrings:function(){this.viewLogic.progressBarEl.setAttribute("aria-label",t.getString("acc_slide_progress"))}}}}));var Qp=DS,Gp=Qp._,qp=Qp.events,Zp=Qp.pubSub,Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}(o,e);var t,n,i,r=Wp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Up(Vp(t=r.call(this,e)),"hasTooltip",!0),Up(Vp(t),"tooltipKey","acc_replay"),Gp.bindAll(Vp(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),Zp.on(qp.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&Np(t.prototype,n),i&&Np(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Xp=Yp,$p="reset";J.def($p,Xp,(function(){return{tag:"button",ariaStringId:"acc_replay",attrs:{id:$p,class:"content-center cs-button","aria-label":"".concat(J.model.getString("acc_replay")),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return hr("replay")()+J.iconTextEl("acc_replay")},z:1,y:"vertical-center",padRight:10,minH:30,minW:30}}));var Jp=function(){return"no icon"},ey={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false">\n    <path stroke="none" transform="translate(0, 1)" d="M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false">\n    <path d="M 0.851 13.011 C 0.381 13.295 0 13.068 0 12.526 L 0 0.771 C 0 0.219 0.378 0 0.854 0.288 L 10.507 6.132 C 10.979 6.417 10.981 6.878 10.504 7.168 L 6.307 9.708 L 0.851 13.011 Z"></path>\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false">\n    <g>\n       <rect x="0" width="3" height="14"/>\n       <rect x="6" width="3" height="14"/>\n    </g>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 -3 16 14" focusable="false">\n    <g transform="translate(0, -3)">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="cs-icon icon" width="20" height="20" viewBox="0 0 36 36" focusable="false">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\n    <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n  </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false">\n      <path d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" focusable="false">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" focusable="false">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'\n    <svg class="cs-icon enter-fullscreen-icon" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n      <path d="M1.99055 2.3H5.1V0.4H0.1V5.2H1.9L1.9 2.3Z" stroke="none" />\n      <path d="M5.1 11.8H1.9V8.9H0.1V13.6H5.1L5.1 11.8Z" stroke="none" />\n      <path d="M11.5 11.8H8.4V13.6H13.3V8.9H11.5L11.5 11.8Z" stroke="none" />\n      <path d="M8.4 2.3H11.5V5.2H13.3V0.4H8.4L8.4 2.3Z" stroke="none" />\n    </svg>\n  '},exitFullScreen:function(){return'\n    <svg class="cs-icon exit-fullscreen-icon" width="15" height="14" viewBox="0 0 15 14" focusable="false">\n      <path d="M4.2 4.1H0.1V6.0H6.2V0H4.2V4.1Z" stroke="none" />\n      <path d="M0.1 9.8H4.2V13.9H6.2V7.9H0.1V9.8Z" stroke="none" />\n      <path d="M10.0 9.8H14.1V7.9H8.1V13.9H10.0V9.8Z" stroke="none" />\n      <path d="M8.1 0V6.0H14.1V4.1H10.0V0H8.1Z" stroke="none" />\n    </svg>\n  '},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')}},ty={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},ny=function(e){return DS.detection.env.isPerpetual?ey[e]||Jp:ty[e]||ey[e]||Jp};function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function ry(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cy(i.key),i)}}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oy(e,t)}function ay(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sy(e);if(t){var r=sy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ly(e)}(this,n)}}function ly(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sy(e)}function cy(e){var t=function(e,t){if("object"!==iy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==iy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iy(t)?t:String(t)}var uy=DS,fy=uy.detection,dy=uy.dom,hy=uy.pubSub,py=uy.events,yy={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},by=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}(o,e);var t,n,i,r=ay(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=ly(t),a=!0,(i=cy(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,fy.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return yy[this.view.nameKey]}},{key:"onTap",value:function(e){dy.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&hy.trigger(py.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&ry(t.prototype,n),i&&ry(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),vy=by,my=DS.detection.deviceView.isPhone,gy={next:"prev",prev:"next",submit:"submit"},wy={next:"acc_next",prev:"acc_previous",submit:"acc_submit"},Sy={prev:"previous"},ky=function(e,t){J.def(e,vy,(function(n){var i=J.model,r=n!==DS.constants.refs.FRAME,o=J.getNamespace(n).bottomBar;return{tag:"button",ariaStringId:wy[e],attrs:{id:e,class:"cs-button btn ".concat(r?"lightboxed":""),"aria-label":i.getString(wy[e]),tabindex:0},parentAlign:function(){return r?"r":my?"br":"r"},html:function(){var n=i.buttonOptions[Sy[e]||e],r="display: ".concat(this.showText()?"block":"none"),o='<span data-ref="label" style="'.concat(r,'" class="text ').concat(i.rtl?"rtl":"",'">').concat(i.getString(e),"</span>"),a="display: ".concat(this.showIcon()?"block":"none"),l='<span data-ref="icon" style="'.concat(a,'" class="btn-icon">').concat(ny(i.rtl?gy[e]:e)(),"</span>");this.wasRtl=i.rtl;var s=n.includes("icon")&&!n.includes("text")?J.iconTextEl(i.getString(e)):"";return i.dir(t?[l,o]:[o,l]).join("\n")+s},updateHook:function(){if(this.wasRtl!==i.rtl){var n,r;this.wasRtl=i.rtl;var a,l=null===(n=this.children.label)||void 0===n?void 0:n.el,s=null===(r=this.children.icon)||void 0===r?void 0:r.el,c=i.rtl?"add":"remove",u=i.rtl===t?[l,s]:[s,l],f=i.rtl?gy[e]:e;if(null!=l&&l.classList[c]("rtl"),null!=s&&(s.innerHTML=ny(f)()),null!=l&&null!=s)(a=s.parentNode).insertBefore.apply(a,u)}var d=o.useReducedView;if(this.wasReduced!==d){this.wasReduced=d;var h=this.children.label.el,p=this.children.icon.el;h.style.display=this.showText()?"block":"none",p.style.display=this.showIcon()?"block":"none"}},calcTextSize:!0,wp:function(){return o.useReducedView?this.minW:Math.max(this.minW,this.lastWidthByText)+this.wPad},wl:function(){return my?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return!my||r?this.yp:this.top||0},xp:function(){return this.left||0},xl:function(){return r||!my?this.xp:(this.parent.w-this.w)/2},methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()},updateDomStrings:function(){null!=this.viewLogic.labelEl&&(this.viewLogic.labelEl.textContent=i.getString(e))},showText:function(){return i.buttonOptions[Sy[e]||e].includes("text")&&!o.useReducedView&&!my},showIcon:function(){return i.buttonOptions[Sy[e]||e].includes("icon")||o.useReducedView||my}},overflow:"visible",padLeft:20,padRight:3.5,minW:30,minH:30}}))};function Oy(e){return Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(e)}function Ey(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ty(i.key),i)}}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cy(e,t)}function xy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ly(e);if(t){var r=Ly(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Py(e)}(this,n)}}function Py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ly(e)}function Ty(e){var t=function(e,t){if("object"!==Oy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Oy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oy(t)?t:String(t)}ky("prev",!0),ky("next",!1),ky("submit",!1);var _y=DS,jy=(_y.events,_y.pubSub,_y._,_y.utils.fullScreen),Dy=_y.detection,Ay=(Dy.env.is360,Dy.deviceView.isTablet,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}(o,e);var t,n,i,r=xy(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Py(t),a=!0,(i=Ty(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickToggle),t.view.toggle=!1,jy.addChangeListener((function(){return t.handleFullScreenChange()})),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen"}},{key:"getFullScreenEl",value:function(){return document.getElementById(DS.constants.els.PRESO)}},{key:"isFullScreen",value:function(){return jy.getEl()===this.getFullScreenEl()}},{key:"handleFullScreenChange",value:function(){this.view.toggle=this.isFullScreen(),this.view.updateHtml()}},{key:"onClickToggle",value:function(e){DS.appState.toggleFullScreen()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}}])&&Ey(t.prototype,n),i&&Ey(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an)),Iy=Ay,Ry="fullScreenToggle",By=DS,My=By.constants.MOBILE_UI_SIZE,Hy=By.detection.deviceView.isPhone;J.def(Ry,Iy,(function(e){var t=J.model;return{tag:"button",attrs:{id:Ry,class:"cs-button btn fullscreen-open-btn",tabindex:0},wp:"fit-to-text-w",wl:function(){return Hy?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return Hy?this.top||0:this.yp},xp:function(){return this.left||0},xl:function(){return Hy?(this.parent.w-this.w)/2:this.xp},html:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";return this.el.setAttribute("aria-label",t.getString(e)),(this.toggle?ny("exitFullScreen")():ny("enterFullScreen")())+J.iconTextEl(this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen","top: 15px")},methods:{updateDomStrings:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";this.el.setAttribute("aria-label",t.getString(e))}},z:1,padLeft:6,padRight:6,minW:30,minH:My,noUpdate:!t.frame.chromeless,parentAlign:"br",noContent:!1,x:function(){return this.left||0}}}));function Ny(e){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(e)}function Fy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ny(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ny(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ny(o)?o:String(o)),i)}var r,o}function Wy(){return Wy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ky(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Wy.apply(this,arguments)}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vy(e,t)}function zy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ky(e);if(t){var r=Ky(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uy(e)}(this,n)}}function Uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ky(e)}J.def("sidebarOverlay",an,(function(){return{simpleView:!0,tag:"button",ariaStringId:"close",attrs:{class:"sidebar-overlay btn","aria-label":J.model.getString("close"),tabIndex:-1},x:0,y:0,w:function(){return _e.innerWidth},h:function(){return _e.innerHeight},position:function(){},add:!0}}));var Qy=DS,Gy=Qy._,qy=Qy.pubSub,Zy=Qy.events,Yy=Qy.detection,Xy=Qy.globalEventHelper,$y=Xy.addWindowListener,Jy=Xy.addDocumentListener,eb=Qy.dom,tb=eb.isWithin,nb=eb.isInput,ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}(o,e);var t,n,i,r=zy(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Gy.bindAll(Uy(t),"onResize","hidePanel","onCheckShouldHide","onLayoutReady"),t.onClickEl(t.iconEl,t.onOpenList);var n=J.getNamespace(t.view.nameSpace);return t.topEllipsisPanel=n.topEllipsisPanel,$y("resize",t.onResize),qy.on(Zy.tabLink.SHOW_PANEL,(function(e){t.currentPanelLink=e,t.onCheckShouldHide({target:e.view.el})})),qy.on(Zy.topEllipsesPanel.HIDE,t.hidePanel),qy.on(Zy.frame.LAYOUT_READY,t.onLayoutReady),t.hideEvent=DS.detection.device.isMobile?"touchstart":"mousedown",Jy(t.hideEvent,t.onCheckShouldHide,!0),t.arrowEl.style.display="none",t}return t=o,(n=[{key:"onFocus",value:function(e){var t=DS.dom.getParentWithClass(e.target,"panel-link")||DS.dom.getParentWithClass(e.target,"custom-link");null==t?null==DS.dom.getParentWithClass(e.target,"panel")&&Wy(Ky(o.prototype),"onFocus",this).call(this,e):DS.focusManager.setFocusRectOn(t)}},{key:"onLayoutReady",value:function(e){if(!e.hasCustomLinks){var t=!1;Object.keys(e).forEach((function(n){if(-1!=n.indexOf("Panel")){var i=n.replace("Panel","Link");!e[n]&&e[i]&&(t=!0)}})),this.view.setVisibility(t)}}},{key:"onCheckShouldHide",value:function(e){this.hideOnNextTouch&&(tb(e.target,"top-ellipsis-panel")?Yy.deviceView.isPhone&&document.body.classList.contains("nested-panel-shown")&&!tb(e.target,"panel")&&this.hidePanel():this.hidePanel())}},{key:"updateAnimation",value:function(){var e=this;window.requestAnimationFrame((function(){e.topEllipsisPanel.updateTrans()}))}},{key:"showPanel",value:function(){this.topEllipsisPanel.setVisibility(!0),this.hideOnNextTouch=!0,this.topEllipsisPanel.yOff=0,this.updateAnimation(),Yy.deviceView.isDesktop&&(DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="visible":this.arrowEl.style.display="block"),qy.trigger(Zy.topEllipsesPanel.PANEL_SHOWN,this)}},{key:"hidePanel",value:function(){qy.trigger(Zy.topEllipsesPanel.HIDE_PANEL,this),DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="hidden":this.arrowEl.style.display="none",this.topEllipsisPanel.setVisibility(!1),this.hideOnNextTouch=!1,this.topEllipsisPanel.yOff=-20,this.updateAnimation(),null!=this.currentPanelLink&&(this.currentPanelLink.hidePanel(!0),this.currentPanelLink=null)}},{key:"onResize",value:function(e){this.topEllipsisPanel.visible&&!nb(document.activeElement)&&this.hidePanel()}},{key:"onOpenList",value:function(e){this.topEllipsisPanel.visible?this.hidePanel():this.showPanel()}}])&&Fy(t.prototype,n),i&&Fy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),rb=ib,ob="topEllipsis",ab=DS.detection,lb=ab.deviceView.isPhone,sb=(ab.orientation,ab.env);function cb(e){return cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(e)}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(n),!0).forEach((function(t){db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function db(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==cb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==cb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J.def(ob,rb,(function(e){var t=J.getNamespace(e),n=t.linksRight,i=t.sidebar,r=(J.model.rtl,ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),o=sb.isFileProtocol?"background-color":"background",a=ge.getColor(e,".cs-topmenu-item.active .cs-panel",o);return{tag:"div",attrs:{id:ob},x:function(){var e=J.model.rtl,t=0;return lb?"right"===i.pos?(this.lastX=0,0):(this.lastX=window.innerWidth-58,window.innerWidth-58):(t=e?n.x-58+Jn:"right"===i.pos?n.x+n.tabWidths():n.right(),this.lastX=t,t)},w:58,visible:!1,overflow:"visible",html:'\n      <button\n        class="top-tabs-drop-icon cs-button btn"\n        data-ref="icon"\n        aria-expanded="false"\n        aria-controls="top-ellipsis-panel"\n        aria-label="top_links"\n      >\n        <div></div>\n        <div></div>\n        <div></div>\n      </button>\n\n      '.concat(po(a,r),"\n    "),yl:function(){return lb&&null!=this.top?this.top:(this.parent.h-this.h)/2},yp:function(){return(this.parent.h-this.h)/2},h:function(){return this.parent.h/(lb?2:1)}}}));var hb=DS.detection,pb="topEllipsisPanel";function yb(e){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(e)}function bb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Sb(i.key),i)}}function vb(e,t){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vb(e,t)}function mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wb(e);if(t){var r=wb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gb(e)}(this,n)}}function gb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wb(e)}function Sb(e){var t=function(e,t){if("object"!==yb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yb(t)?t:String(t)}J.def(pb,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.topEllipsis,r=t.topBar,o=hb.env.isFileProtocol?"background-color":"background",a=ge.getColor(e,".cs-topmenu-item.active .cs-panel",o),l=document.createElement("style"),s=J.model.frame;return l.innerHTML="\n    .nested-panel-shown .cs-".concat(s.default_layout," .top-tabs-drop:not(.panel) {\n      box-shadow: none !important;\n      background: transparent;\n      border: transparent !important;\n    }\n    .nested-panel-shown .cs-").concat(s.default_layout," .top-tabs-drop .top-tab {\n      visibility: hidden;\n    }\n  "),document.body.appendChild(l),fb(fb({attrs:{id:pb,class:"top-ellipsis-panel top-tabs-drop","aria-expanded":!1,"aria-controls":"temp-container",style:{background:a}}},DS.flagManager.localizationPlatform?{visibility:"no-reflow"}:{}),{},{overflow:"visible",visible:!1,yOff:-20,y:function(){return hb.deviceView.isPhone?i.y-ei:r.h-Jn},x:function(){for(var e=this.el.querySelectorAll(".panel-links .top-tab"),t=0,i=0;i<e.length;i++){var r=parseFloat(e[i].style.width);r>t&&(t=r)}if(this.maxWidth=t,hb.deviceView.isPhone){var o=hb.env.is360&&hb.orientation.isPortrait?40:0,a="left"===n.pos?15+o:t-20-o;return this.lastX=a,a}var l=20-t/2,s=this.parent.x+this.parent.parent.x+l,c=s+t,u=window.innerWidth-20;return c>u?l-=c-u:s<10&&(l=10),this.lastX=l,l},w:null,h:null,html:'\n      <div class="panel-links" data-ref="links">\n      </div>\n    '})}));var kb=DS.utils,Ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vb(e,t)}(o,e);var t,n,i,r=mb(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=gb(t),a=function(){var e=kb.fullScreen.getEl();if(null!=e){if(J.getNamespace(t.view.nameSpace).slide.el.contains(e)){var n=e.querySelector(".caption-container-host");null!=n?(null==t.origParent&&(t.origParent=t.el.parentElement),n.appendChild(t.el)):DS.flagManager.dropInBase&&(clearTimeout(t.findHost),t.findHost=window.setTimeout(t.reparent,30))}}else null!=t.origParent&&(t.origParent.appendChild(t.el),t.origParent=null)},(i=Sb(i="reparent"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,kb.fullScreen.addChangeListener((function(){t.handleFullScreenChange()})),t}return t=o,(n=[{key:"handleFullScreenChange",value:function(){DS.flagManager.dropInBase?(clearTimeout(this.reparentTimeout),this.reparentTimeout=window.setTimeout(this.reparent,200)):window.requestAnimationFrame(this.reparent)}}])&&bb(t.prototype,n),i&&bb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Eb=Ob,Cb=DS,xb=Cb.detection,Pb=xb.deviceView.isPhone,Lb=xb.orientation;Cb.flagManager;function Tb(e){return Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(e)}function _b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Mb(i.key),i)}}function jb(){return jb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},jb.apply(this,arguments)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Db(e,t)}function Ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rb(e);if(t){var r=Rb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Tb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ib(e)}(this,n)}}function Ib(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(e)}function Bb(e,t,n){return(t=Mb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mb(e){var t=function(e,t){if("object"!==Tb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Tb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tb(t)?t:String(t)}J.def("captionContainer",Eb,(function(e){var t=J.getNamespace(e),n=t.bottomBar,i=t.topBar,r=t.slide,o=J.model.frame,a=o.fontscale,l=o.captionFontScale,s=o.controlOptions.ccOptions,c=e!==DS.constants.refs.FRAME;return{attrs:{class:"caption-container"},style:{fontSize:"".concat(null!=s?s.size:l||a,"%")},z:2,methods:{beforeUpdateHook:function(){var e=null!=i,t=null!=n,o=Pb&&Lb.isLandscape?_e.innerHeight-ti+5:_e.innerHeight-(e?i.h+n.h:0)+(Pb?10:0);e||t||(o=_e.innerHeight),this.dims=c?{x:0,y:0,w:this.parent.w,h:this.parent.h}:{x:r.sidebarXOffset+_e.x,y:Pb&&Lb.isLandscape?_e.y:e?i.h+_e.y:_e.y,w:_e.innerWidth-J.model.getDockedWidth()-r.sidebarWidthOffset,h:o}}},x:function(){return this.dims.x},y:function(){return this.dims.y},w:function(){return this.dims.w},h:function(){return this.dims.h},add:!0}}));var Hb=DS,Nb=Hb.dom,Fb=Nb.addClass,Wb=Nb.removeClass,Vb=Hb.appState,zb=Hb.scaler,Ub=Hb.shortcutManager,Kb=Hb.events,Qb=Hb.focusManager,Gb=Hb.pubSub,qb=Hb.keyManager,Zb=Hb.utils.fullScreen,Yb=Hb.globalEventHelper.addDocumentListener,Xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}(o,e);var t,n,i,r=Ab(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Bb(Ib(t=r.call(this,e)),"hasTooltip",!0),Bb(Ib(t),"tooltipKey","acc_settings"),Bb(Ib(t),"hideTooltipWhenOpen",!0),Bb(Ib(t),"onToggleBackgroundAudio",(function(){Gb.trigger(Kb.backgroundAudio.TOGGLE)})),Bb(Ib(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),Bb(Ib(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(Ib(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(Kb.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),Gb.on(Kb.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),Vb.on(Kb.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),Gb.on(Kb.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(Ib(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=Zb.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),Gb.on(Kb.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){Vb.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){Zb.getEl()===Vb.getPresoEl()?Fb(this.el,"full-screen"):Wb(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Fb(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Yb("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Wb(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){qb.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),Qb.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),jb(Rb(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(Fb(e,"toggle-on"),Wb(e,"toggle-off")):(Fb(e,"toggle-off"),Wb(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Vb.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,zb.zoomMode)}},{key:"toggleZoomMode",value:function(){zb.enableZoomMode(!zb.zoomMode),this.updateToggle(this.zoomSwitchEl,zb.zoomMode),Qb.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){Ub.enableShortcuts(!Ub.enabled),this.updateToggle(this.shortcutsSwitchEl,Ub.enabled)}},{key:"toggleCaptions",value:function(){J.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){J.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Vb.off(Kb.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Gb.off(Kb.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Gb.off(Kb.captions.ENABLED,this.onCaptionsEnabled),Gb.off(Kb.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Qb.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&_b(t.prototype,n),i&&_b(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),$b=Xb;function Jb(e){return function(e){if(Array.isArray(e))return ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var tv=DS,nv=tv.utils.pxify,iv=(tv.detection,"settings");function rv(e){return rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(e)}function ov(e){return function(e){if(Array.isArray(e))return av(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return av(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pv(i.key),i)}}function sv(){return sv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dv(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},sv.apply(this,arguments)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cv(e,t)}function uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=dv(e);if(t){var r=dv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===rv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fv(e)}(this,n)}}function fv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dv(e)}function hv(e,t,n){return(t=pv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pv(e){var t=function(e,t){if("object"!==rv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==rv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rv(t)?t:String(t)}J.def(iv,$b,(function(e){var t=J.model,n=ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ge.getColor(e,".cs-brandhighlight-secondary-bg","background-color",".cs-base.cs-custom-theme"),o=J.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:iv,class:"btn cs-button cs-settings"},overflow:"visible",w:30,minW:30,minH:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getControlConfigs:function(){var e=!(DS.flagManager.playerSizeOption&&DS.frameWindow.isLocked),t=DS.frameModel.hasModernText&&!DS.localizationManager.isMultiLanguageProject();return[].concat(Jb(e?[{name:"zoom",labelId:"zoom_to_fit",isOn:function(){return DS.scaler.zoomMode}}]:[]),Jb(t?[{name:"acctext",labelId:"accessible_text",isOn:function(){return DS.appState.accessibleTextOn()}}]:[]),[{name:"shortcuts",labelId:"keyboardshortcuts_lower",isOn:function(){return DS.shortcutManager.enabled}}],Jb(null!=DS.courseAudio&&DS.courseAudio.hasAudio()?[{name:"backgroundAudio",labelId:"background_audio",isOn:function(){return DS.courseAudio.enabled}}]:[]))},getToggleControls:function(){return this.getControlConfigs().map((function(e){var n=e.name,i=e.labelId,o=(0,e.isOn)();return'\n            <div class="switch '.concat(o?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label" data-label-id="').concat(i,'">\n                ').concat(t.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(o,'" aria-labelledby="').concat(n,'-label">\n                ').concat(hr("track")(r,n),"\n              </button>\n            </div>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.settingsPanel.el;e.style.left=0;var n=e.getBoundingClientRect(),i=o.el.getBoundingClientRect(),r=0;n.right>i.right-Jn&&(r=i.right-(n.right+Jn)),n.left<i.left+Jn&&(r=i.left-n.left+Jn),e.style.left=nv(r),this.children.settingsPanelArrow.el.style.transform="translateX(".concat(nv(0-r),")"),e.classList[t.rtl?"add":"remove"]("rtl")}},updatePanelDepth:function(e){o.panelToggled("settings",e)},updateDomStrings:function(){this.el.querySelectorAll("*[data-label-id]").forEach((function(e){e.textContent=t.getString(e.dataset.labelId)})),this.el.setAttribute("aria-label",t.getString("acc_settings"))}},updateHook:function(){this.updatePanelPosition()},html:function(){var e='\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(hr("settings")()+J.iconTextEl("acc_settings"),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel ').concat(t.rtl?"rtl":"",'" tabindex="-1">\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="settingsPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(hr("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return e}}}));var yv=DS,bv=yv.dom,vv=bv.addClass,mv=bv.removeClass,gv=yv.appState,wv=yv.focusManager,Sv=yv.keyManager,kv=yv.globalEventHelper.addDocumentListener,Ov=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}(o,e);var t,n,i,r=uv(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),hv(fv(t=r.call(this,e)),"hasTooltip",!0),hv(fv(t),"tooltipKey","acc_playback_speed"),hv(fv(t),"hideTooltipWhenOpen",!0),t.currentSpeed=1,t.currentIndex=4,t.currentFocusIndex=4,ov(t.el.querySelectorAll(".menu-choice")).forEach((function(e){e.classList.contains("selected")&&(t.currentSpeed=e.dataset.speed,t.currentIndex=e.dataset.index,t.selectedEl=e),t.onClickEl(e,(function(){return t.choiceClicked(e)}))})),t.onClickEl(t.toggleBtnEl,t.togglePanel),t}return t=o,(n=[{key:"choiceClicked",value:function(e){this.updateSpeed(e),this.toggleBtnEl.focus(),this.hidePanel()}},{key:"updateSpeed",value:function(e){this.selectedEl.classList.remove("selected"),this.selectedEl.tabIndex=-1,this.selectedEl.setAttribute("aria-checked",!1),e.classList.add("selected"),e.tabIndex=0,e.setAttribute("aria-checked",!0),this.selectedEl=e;var t=e.dataset,n=t.speed,i=t.index;this.currentSpeed=parseFloat(n),this.currentIndex=parseInt(i),gv.setPlaybackSpeed(this.currentSpeed)}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"handleKeyDown",value:function(e){var t=this.currentFocusIndex;if(Sv.isDownishKey(e.which))t++;else if(Sv.isUpishKey(e.which))t--;else if(Sv.isHomeKey(e.which))t=0;else if(Sv.isEndKey(e.which))t=7;else if(Sv.isActionKey(e.which)){if(t!==this.currentIndex){var n=this.el.querySelector('[data-index="'.concat(t,'"]'));this.updateSpeed(n)}this.hidePanel(),this.toggleBtnEl.focus(),e.preventDefault()}else Sv.isEscapeKey(e.which)&&(this.hidePanel(),this.toggleBtnEl.focus(),e.preventDefault());t>=8&&(t=0),t<0&&(t=7),t!==this.currentFocusIndex&&(this.currentFocusIndex=t,e.preventDefault(),this.el.querySelector('[data-index="'.concat(t,'"]')).focus())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,this.currentFocusIndex=this.currentIndex,vv(this.el,"open"),this.view.updatePanelPosition(),this.toggleBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.selectedEl.focus(),wv.setFocusRectOn(this.selectedEl),this.removeKeyListener=kv("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,mv(this.el,"open"),this.toggleBtnEl.setAttribute("aria-expanded",!1),this.removeKeyListener(),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),sv(dv(o.prototype),"onBlur",this).call(this))}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return wv.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&lv(t.prototype,n),i&&lv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),Ev=Ov,Cv=DS.utils.pxify,xv="playbackSpeed";J.def(xv,Ev,(function(e){var t=J.model,n=ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"),o=J.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:xv,class:"btn cs-button cs-settings"},overflow:"visible",w:30,minW:30,minH:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getSpeedOptions:function(){var e=J.model.getString("playback_speed_normal");return[{label:"2",value:2},{label:"1.75",value:1.75},{label:"1.5",value:1.5},{label:"1.25",value:1.25},{label:e,value:1,ref:"Normal"},{label:"0.75",value:.75},{label:"0.5",value:.5},{label:"0.25",value:.25}].map((function(e,t){var n=e.label,i=e.value,o=e.ref,a="",l="";return null!=o&&(a='data-ref="label'.concat(o,'"'),l='data-ref="aria'.concat(o,'"')),'\n            <li tabindex="-1">\n              <div '.concat(l,'\n                class="cs-listitem menu-choice ').concat(1===i?"selected":"",'"\n                data-speed="').concat(i,'"\n                data-index="').concat(t,'"\n                tabindex="').concat(1===i?0:-1,'"\n                role="menuitemcheckbox"\n                aria-checked="').concat(1===i,'"\n                aria-label="').concat(n,'"\n              >\n                <div class="selected-icon" style="fill:').concat(r,';">\n                  <svg width="12" height="9" viewBox="0 0 12 9">\n                    <path d="M10 0.3 L11.5 1.7 L4.3 8.9 L0 4.7 L1.4 3.2 L4.3 6.1 L10 0.3 Z" stroke="none"></path>\n                  </svg>\n                </div>\n                <div class="label" ').concat(a,">").concat(n,"</div>\n              </div>\n            </li>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.contentPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=o.el.getBoundingClientRect(),i=0;t.right>n.right-Jn&&(i=n.right-(t.right+Jn)),t.left<n.left+Jn&&(i=n.left-t.left+Jn),e.style.left=Cv(i),this.children.contentPanelArrow.el.style.transform="translateX(".concat(Cv(0-i),")"),e.classList[J.model.rtl?"add":"remove"]("rtl")}},updatePanelDepth:function(e){o.panelToggled("playbackSpeed",e)},updateDomStrings:function(){this.viewLogic.labelNormalEl.textContent=t.getString("playback_speed_normal"),this.viewLogic.ariaNormalEl.setAttribute("aria-label",t.getString("playback_speed_normal")),this.viewLogic.playbackSpeedTitleEl.textContent=t.getString("playback_speed_title"),this.viewLogic.playbackSpeedWrapperEl.setAttribute("aria-label",t.getString("playback_speed_title")),this.viewLogic.toggleBtnEl.setAttribute("aria-label",t.getString("acc_playback_speed"))}},updateHook:function(){this.updatePanelPosition()},html:function(){var e=J.model.getString("playback_speed_title"),r='\n        <button data-ref="toggleBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_playback_speed"),'" tabIndex="0">\n          ').concat(hr("playbackSpeed")()+J.iconTextEl("acc_playback_speed"),'\n        </button>\n        <div\n          data-ref="contentPanel"\n          class="settings-panel ').concat(J.model.rtl?"rtl":"",'"\n          tabindex="-1"\n        >\n          <div class="content">\n            <div data-ref=\'playbackSpeedTitle\' class=\'cs-heading title\'>').concat(e,"</div>\n            <ul data-ref='playbackSpeedWrapper' aria-label=\"").concat(e,'" role="menu">\n              ').concat(this.getSpeedOptions(),'\n            </ul>\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="contentPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(hr("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return r}}}));var Pv="frameBlocker";function Lv(e){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(e)}function Tv(e){return function(e){if(Array.isArray(e))return _v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hv(i.key),i)}}function Dv(){return Dv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bv(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Dv.apply(this,arguments)}function Av(e,t){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Av(e,t)}function Iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Bv(e);if(t){var r=Bv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Lv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rv(e)}(this,n)}}function Rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bv(e)}function Mv(e,t,n){return(t=Hv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hv(e){var t=function(e,t){if("object"!==Lv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Lv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lv(t)?t:String(t)}J.def(Pv,(function(e){var t=J.getNamespace(e).slide,n=function(){return"".concat(t.x,"px ").concat(t.w,"px ").concat(_e.innerWidth-t.x-t.w,"px")},i=function(){return"".concat(t.y,"px ").concat(t.h,"px ").concat(_e.innerHeight-t.y-t.h,"px")};return{attrs:{id:Pv,class:"frame-blocker-container"},x:0,y:0,z:ni,w:function(){return _e.innerWidth},h:function(){return _e.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Nv=DS,Fv=Nv.dom,Wv=Fv.addClass,Vv=Fv.removeClass,zv=(Nv.appState,Nv.focusManager),Uv=Nv.keyManager,Kv=Nv.globalEventHelper.addDocumentListener,Qv=Nv.localizationManager,Gv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Av(e,t)}(o,e);var t,n,i,r=Iv(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Mv(Rv(t=r.call(this,e)),"hideTooltipWhenOpen",!0),Mv(Rv(t),"hasTooltip",!0),Mv(Rv(t),"tooltipKey","acc_language_picker");var n=Tv(t.el.querySelectorAll(".menu-choice"));return t.itemCount=n.length,n.forEach((function(e){e.classList.contains("selected")&&(t.currentLangCode=e.dataset.langCode,t.currentIndex=e.dataset.index,t.selectedEl=e),t.onClickEl(e,(function(){return t.choiceClicked(e)}))})),t.onClickEl(t.toggleBtnEl,t.togglePanel),t}return t=o,(n=[{key:"choiceClicked",value:function(e){this.updateLanguage(e),this.hidePanel()}},{key:"updateSelection",value:function(){var e=Tv(this.el.querySelectorAll(".menu-choice")),t=Qv.getCurrentLangCode(),n=e.find((function(e){return e.dataset.langCode===t}));null!=n&&this.updateLanguage(n)}},{key:"updateLanguage",value:function(e){this.selectedEl.classList.remove("selected"),this.selectedEl.tabIndex=-1,this.selectedEl.setAttribute("aria-checked",!1),e.classList.add("selected"),e.tabIndex=0,e.setAttribute("aria-checked",!0),this.selectedEl=e;var t=e.dataset,n=t.langCode,i=t.index;this.currentLangCode=n,this.currentIndex=parseInt(i),Qv.setCurrentLanguage(this.currentLangCode)}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"handleKeyDown",value:function(e){var t=this.currentIndex;if(Uv.isDownishKey(e.which)?t++:Uv.isUpishKey(e.which)?t--:Uv.isHomeKey(e.which)?t=0:Uv.isEndKey(e.which)&&(t=this.itemCount-1),t>=this.itemCount&&(t=0),t<0&&(t=this.itemCount-1),t!==this.currentIndex){e.preventDefault();var n=this.el.querySelector('[data-index="'.concat(t,'"]'));this.updateLanguage(n),n.focus()}}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Wv(this.el,"open"),this.view.updatePanelPosition(),this.toggleBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.selectedEl.focus(),zv.setFocusRectOn(this.selectedEl),this.removeKeyListener=Kv("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Vv(this.el,"open"),this.toggleBtnEl.setAttribute("aria-expanded",!1),this.removeKeyListener(),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Dv(Bv(o.prototype),"onBlur",this).call(this))}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return zv.setFocusRectOn(t),this.isFocused=!1,!1}}])&&jv(t.prototype,n),i&&jv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(an),qv=Gv,Zv=DS,Yv=Zv.utils.pxify,Xv=Zv.localizationManager,$v="languagePicker";function Jv(e){return function(e){if(Array.isArray(e))return em(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return em(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}J.def($v,qv,(function(e){var t=J.model,n=ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color"),i=ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"),o=J.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:$v,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getLanguages:function(){var e=Xv.getLanguages(),t=Xv.getCurrentLangCode();return e.map((function(e,n){var i=e.langCode,o=e.displayNames;i=i.toLowerCase();var a=o.find((function(e){return e.langCode.toLowerCase()===i})).name;return'\n            <li tabindex="-1">\n              <div\n                class="cs-listitem menu-choice '.concat(i===t?"selected":"",'" \n                data-lang-code="').concat(i,'"\n                data-index="').concat(n,'"\n                tabindex="').concat(i===t?0:-1,'" \n                role="menuitemcheckbox" \n                aria-checked="').concat(i===t,'" \n                aria-label="').concat(a,'"\n              >\n                <div class="selected-icon" style="fill:').concat(r,';">\n                  <svg width="12" height="9" viewBox="0 0 12 9">\n                    <path d="M10 0.3 L11.5 1.7 L4.3 8.9 L0 4.7 L1.4 3.2 L4.3 6.1 L10 0.3 Z" stroke="none"></path>\n                  </svg>\n                </div>\n                <div class="label">').concat(a,"</div>\n              </div>\n            </li>\n          ")})).join("")},updatePanelPosition:function(){if(null!=o){var e=this.children.contentPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=o.el.getBoundingClientRect(),i=0;t.right>n.right-Jn&&(i=n.right-(t.right+Jn)),t.left<n.left+Jn&&(i=n.left-t.left+Jn),e.style.left=Yv(i),this.children.contentPanelArrow.el.style.transform="translateX(".concat(Yv(0-i),")")}},updatePanelDepth:function(e){o.panelToggled("languagePicker",e)},updateDomStrings:function(){this.viewLogic.languagePickerTitleEl.textContent=t.getString("language_picker_title"),this.viewLogic.languagePickerWrapperEl.setAttribute("aria-label",t.getString("language_picker_title")),this.viewLogic.toggleBtnEl.setAttribute("aria-label",t.getString("acc_language_picker")),this.viewLogic.updateSelection()}},updateHook:function(){this.updatePanelPosition()},html:function(){var e=J.model.getString("language_picker_title"),r='\n        <button data-ref="toggleBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_language_picker"),'" tabIndex="0">\n          ').concat(hr("languagePicker")(),'\n        </button>\n        <div \n          data-ref="contentPanel" \n          class="settings-panel" \n          tabindex="-1"\n        >\n          <div class="content">\n            <div data-ref=\'languagePickerTitle\' class=\'cs-heading title\'>').concat(e,"</div>\n            <ul data-ref='languagePickerWrapper' aria-label=\"").concat(e,'" role="menu">\n              ').concat(this.getLanguages(),'\n            </ul>\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="contentPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(hr("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return r}}}));var tm=DS.constants.refs.FRAME,nm=DS,im=nm.detection,rm=(nm.flagManager,nm.captionsManager);function om(e){return om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(e)}function am(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==om(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==om(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===om(o)?o:String(o)),i)}var r,o}var lm=DS,sm=lm._,cm=lm.pubSub,um=lm.events,fm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),sm.bindAll(this,"onSlideTransitionIn","onWindowClosing"),cm.on(um.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),cm.on(um.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&am(t.prototype,n),i&&am(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),dm=DS.scaler,hm="lightBoxWrapper";function pm(e){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(e)}function ym(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J.def(hm,fm,(function(e){var t=J.model,n=t.slideWidth,i=t.slideHeight,r=J.getNamespace(e).lightBoxBottom;return{attrs:{id:hm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var e=.8*(_e.innerWidth-t.getDockedWidth()),o=.8*_e.innerHeight;return Math.min(e/n,o/(i+(null!=r?50:0)))},w:function(){var e=n*this.dimScale,t=dm.zoomMode&&n>e?9.5:0;return this.scrollW=t,dm.zoomMode?Math.min(n,e)+t:e},h:function(){var e=i*this.dimScale,t=dm.zoomMode&&i>e?9.5:0;this.scrollH=t;var n=dm.zoomMode?Math.min(i,e)+t:e;return n+(null!=r?50:0)},x:function(){return _e.x+(_e.innerWidth-t.getDockedWidth()-this.w)/2},y:function(){return _e.y+(_e.innerHeight-this.h)/2},add:!0}}));var bm="lightBoxSlide",vm=DS,mm=vm.scaler,gm=vm.MicroScrollBar,wm=vm.utils.pxify;J.def(bm,$n,(function(e){var t,n=J.getNamespace(e),i=n.lightBoxBottom,r=n.lightBoxWrapper;return ym(t={attrs:{class:"".concat(bm," window-slide ").concat(e,"-slide"),role:"dialog","aria-modal":!0},overflow:"scroll",winScale:function(){return mm.zoomMode?1:r.dimScale},w:"100%"},"w",(function(){return this.parent.w-this.parent.scrollW})),ym(t,"h",(function(){return this.parent.h-(null!=i?50:0)-this.parent.scrollH})),ym(t,"z",1),ym(t,"bgColor","white"),ym(t,"add",!0),ym(t,"html",'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>'),ym(t,"childViews",["captionContainer"]),ym(t,"updateHook",(function(){var e=this;if(mm.zoomMode){null==this.scrollbar&&(this.scrollbar=new gm(this.el,"lightbox-slide"),this.hscrollbar=new gm(this.el,"lightbox-slide",!0)),this.scrollbar.scrollBar.style.left=wm(this.x+this.w),this.scrollbar.scrollBar.style.top=wm(this.y),this.hscrollbar.scrollBar.style.left=wm(this.x),this.hscrollbar.scrollBar.style.top=wm(this.y+this.h),this.scrollbar.setEnabled(!0),this.hscrollbar.setEnabled(!0);window.requestAnimationFrame((function t(){e.el.getElementsByClassName("slide").length>0?(e.scrollbar.update(),e.hscrollbar.update()):window.requestAnimationFrame(t)}))}else this.scrollbar&&(this.scrollbar.setEnabled(!1),this.hscrollbar.setEnabled(!1));this.children.captionContainer.update()})),t}));function Sm(e){return Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(e)}function km(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Sm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Sm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Sm(o)?o:String(o)),i)}var r,o}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Om(e,t)}function Em(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Cm(e);if(t){var r=Cm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Sm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cm(e)}J.def("lightBox",(function(){return{attrs:{class:"lightbox cs-base"},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}(o,e);var t,n,i,r=Em(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"getViewBox",value:function(){var e=this.view,t=e.w,n=e.h,i=e.x,r=e.y;return{x:i-=15,y:r-=15,w:t+=30,h:n+=30}}}])&&km(t.prototype,n),i&&km(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(qi),Pm=xm,Lm="lightBoxClose";J.def(Lm,Pm,(function(e){var t={windowId:e};return{tag:"button",ariaStringId:"close",attrs:{id:Lm,class:"lightbox-close-btn-floating",tabindex:0,"z-index":999,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:hr("close"),y:function(){return _e.y+35},x:function(){return _e.x+_e.innerWidth-J.model.getDockedWidth()-(this.w+35)},model:t,w:20,h:20}}));J.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Tm="lightBoxBlocker";J.def(Tm,(function(e){var t=J.getNamespace(e).lightBoxWrapper,n=function(){return"".concat(t.x-_e.x,"px ").concat(t.w,"px ").concat(_e.innerWidth+_e.x-t.x-t.w,"px")},i=function(){return"".concat(t.y-_e.y,"px ").concat(t.h,"px ").concat(_e.innerHeight+_e.y-t.y-t.h,"px")};return{attrs:{id:Tm,class:"frame-blocker-container"},x:function(){return _e.x},y:function(){return _e.y},z:ni,w:function(){return _e.innerWidth},h:function(){return _e.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var _m="LightboxWnd",jm="lightBoxBottom";J.def(jm,(function(e){var t=J.model.rtl;return{tag:"nav",attrs:{id:jm,class:"lightbox option-pane"},x:0,y:function(){return this.parent.y+this.parent.h-this.h},w:"100%",h:50,updateHook:function(){this.hasAllChildren()&&this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},pad:4,reverse:t})},childVisibilityChangedHook:function(){this.update()}}}));var Dm="lightBoxControlsBlocker";J.def(Dm,(function(e){var t=J.getNamespace(e),n=t.lightBoxWrapper,i=(t.lightBoxBottom,function(){return"".concat(n.x-_e.x,"px ").concat(n.w,"px ").concat(_e.innerWidth+_e.x-n.x-n.w,"px")}),r=function(){return"".concat(n.y-_e.y,"px ").concat(n.h,"px ").concat(_e.innerHeight+_e.y-n.y-n.h,"px")};return{attrs:{id:Dm,class:"frame-blocker-container"},x:function(){return _e.x},y:function(){return _e.y},z:ni,w:function(){return _e.innerWidth},h:function(){return _e.innerHeight},style:{"pointer-events":"none","grid-template-columns":i(),"grid-template-rows":r()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=i(),e.el.style["grid-template-rows"]=r()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Am="LightboxControlsWnd",Im="printWrapper";J.def(Im,(function(e){return{attrs:{id:Im,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Rm=DS.constants.printSettings,Bm="printSlide";J.def(Bm,$n,(function(e){var t=J.model.slideWidth;return{attrs:{id:Bm,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Rm.android.pageW:n?Rm.ios.pageW:Rm.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Mm="PrintWindow",Hm="messageWindowWrapper";J.def(Hm,(function(e){var t=J.model,n=t.preso.display().windows().find({id:e}),i=J.getNamespace(DS.constants.refs.FRAME),r=i.slide,o=i.wrapper;return{attrs:{id:Hm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:.8*n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return o.scale},x:function(){var e=o.scale;return o.x+(r.x+(r.w-this.w)/2)*e},y:function(){var e=o.scale;return o.y+(r.y+(r.h-this.h)/2)*e},add:!0}}));var Nm="messageWindowSlide";J.def(Nm,$n,(function(){return{attrs:{id:Nm,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));J.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Fm="MessageWnd",Wm="messagePromptWrapper";function Vm(e){return Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(e)}function zm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Vm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Vm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Vm(o)?o:String(o)),i)}var r,o}function Um(){return Um="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gm(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Um.apply(this,arguments)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Km(e,t)}function Qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Gm(e);if(t){var r=Gm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Vm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gm(e)}J.def(Wm,(function(e){var t=J.model,n=J.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:Wm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));var qm=DS,Zm=qm.events,Ym=qm.pubSub,Xm=qm.focusManager,$m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}(o,e);var t,n,i,r=Qm(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);Ym.trigger(Zm.prompt.CLOSING,this.promptId),Ym.trigger(Zm.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Xm.setFocusRectOn(t)}},{key:"teardown",value:function(){Um(Gm(o.prototype),"teardown",this).call(this)}}])&&zm(t.prototype,n),i&&zm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}($n),Jm=$m,eg=DS.MicroScrollBar,tg="invalidPromptSlide";J.def(tg,Jm,(function(e){var t=J.model;return{attrs:{id:tg,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new eg(e,"message-window-text"))}}}));var ng=DS,ig=ng.MicroScrollBar,rg=(ng.pubSub,ng.events,"printPromptSlide");J.def(rg,Jm,(function(e){var t=J.model;return{attrs:{id:rg,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new ig(e,"message-window-text"))}}}));var og=DS.MicroScrollBar,ag="timerPromptSlide";J.def(ag,Jm,(function(e){var t=J.model;return{attrs:{id:ag,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new og(e,"message-window-text"))}}}));var lg,sg={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},cg=function(e){var t=e,n=sg[e];return{nameSpace:t,render:function(e){var i=J.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=J.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return J.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function ug(e){return ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(e)}function fg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ug(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ug(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ug(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dg=cg("InvalidPrompt"),hg=dg.render,pg=dg.nameSpace,yg=cg("PrintPrompt"),bg=yg.render,vg=yg.nameSpace,mg=cg("TimerPrompt"),gg=mg.render,wg=mg.nameSpace;!function(e,t){vt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(Re=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(Re.localization),DS.localizationManager.loadFrameData().then((function(e){Be=e,mt()}))):mt(),window.globalProvideData=t)},st.on(Ze,(function(e){new ze,Ie=new v(Re,Be,e),J.setModel(Ie),ft.initialize(Ie),dt.initialize((function(e){return Ie.getString(e)})),ge.initializeCssColorVars(),DS.frameModel=Ie,DS.views=J,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&ht.addClass(document.body,"chromeless"),st.trigger($e)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((fg(lg={},tm,(function(e){var n,r=e.topTabsLeft,o=e.topTabsRight,a=e.sidebarOpts,l=a.timeEnabled,s=a.logoEnabled,c=a.html5_logo_url,u=e.frame.controlOptions.controls,f=u.closed_captions,d=u.settings,h=function(){return e.frame.chromeless||im.env.hideFrame},p=function(){return J.tree(tm,[{wrapper:[h()?"slide":{frame:["frameBlocker",h()?null:"sidebarOverlay","slide",!h()&&e.frame.skip_nav_enabled?"skipnav":null,{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:["volume"].concat(Jv(f?["captions"]:[]),["playbackSpeed"],Jv(d?["settings"]:[]))},{navControls:["fullScreenToggle","prev","next","submit"]}]},{sidebar:[].concat(Jv(s&&c?["logo"]:[]),["hamburger","tabs","sidebarPanels"])},{topBar:["title",{topTabs:["arrowShadow","linksRight"]},{topEllipsis:["topEllipsisPanel"]}].concat(Jv(l?["timer"]:[]))}]}]},"captionContainer"])},y=p();n=document.querySelectorAll(".panel > div[id*=content]"),Array.from(n).forEach((function(e){var n=e.parentNode.id;if("outline-panel"!=n){var i=n.replace("-panel","");new t(e,i,!1)}else{var r=e.querySelector("#outline-content"),o=e.querySelector("#search-results-content");null!=r&&new t(r,"outline",!1),null!=o&&new t(o,"search",!1)}}));var b=function(e){return function(t){return t.name===e}},v=function(e){return!r.some(b(e))&&!o.some(b(e))},m=function(t,n){if(n===tm){var r=function(e,t){var n=e.sidebarOpts.sidebarEnabled;return n&&(n=i(e.sidebarTabs,t)),n||e.sidebarOpts.logoEnabled&&DS.detection.theme.isClassic}(e,t),o=e.topbarHasTabs,a={playPause:t.pauseplay,reset:t.seekbar,seek:t.seekbar,playbackControls:t.pauseplay||t.reset||t.seekbar,fullScreenToggle:t.fullScreenToggle,playbackSpeed:t.playbackSpeedControl,next:t.next,prev:t.previous,submit:t.submit,skipnav:r||o,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&v("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&v("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&v("outline"),outlineLink:t.outline.enabled,transcriptTab:t.transcript,transcriptPanel:t.transcript&&v("transcript"),transcriptLink:t.transcript,sidebar:r,bottomBar:e.bottomBarOpts.bottomBarEnabled};J.resetStates(tm),J.updateVisibility(a,tm),J.update(y)}};DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,m);var g,w=function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o=e.affectTabStop,a="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var l=J["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=l&&(a?"toggle_window_control_visible"===t?(l.setVisibility(!l.visible),l.childVisibilityChanged()):l.setEnabled(!l.enabled,o):"set_window_control_visible"===t?(l.setVisibility(i),l.childVisibilityChanged()):l.setEnabled(r,o))};if(DS.pubSub.on(DS.events.navcontrols.CHANGED,w),!window.globals.HAS_SLIDE&&!im.theme.isClassic){rm.isCaptionEnabled=function(){return captionsEnabled};var S=function(){var e=document.querySelector(".caption-container");if(null==e.querySelector(".caption")){e.style.display="none";var t=document.createElement("div");t.classList.add("caption"),t.style.margin="10px 0 0 0",t.style.bottom="0%";var n=document.createElement("p"),i=DS.playerGlobals.player.getCaptionData();n.innerHTML=i.text.replace(/\r\n/g,"<br />"),t.appendChild(n),e.appendChild(t),k(i)}},k=function(e){if(S(),null!=e){document.querySelector(".caption-container").style.fontSize="".concat(e.size,"%")||0;var t=document.querySelector(".caption"),n=parseInt(e.placement,10);t.style.fontFamily=e.font,n>50?(t.style.top="unset",t.style.bottom="".concat(100-n,"%")):(t.style.top=e.placement,t.style.bottom="unset");var i=t.querySelector("p");i.style.backgroundColor=e.backgroundColor,i.style.color=e.color,DS.frameModel.frame.controlOptions.ccOptions=e}},O=function(e){S(),g=e,document.querySelector(".caption-container").style.display=e?"block":"none"};DS.pubSub.on(DS.events.ccOptions.CHANGED,k),DS.pubSub.on(DS.events.captions.ENABLE,O),DS.pubSub.on(DS.events.captions.ENABLED,O)}var E=function(){DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&DS.frameWindow.onResize(),J.update(y);var e=J.getNamespace(tm).sidebarPanels;e&&null!=e.children&&e.updateChildren(!0)};DS.pubSub.on(DS.events.utilityWindow.DOCKED,(function(t,n){var i=n.dockedState,r=n.dockedWidth;e.setDocked(t,i,r),DS.pubSub.trigger(DS.events.frame.SCALE);var o=DS.utils.getPath(J.getNamespace(tm),"hamburger.viewLogic");null!=o&&o.onResize()})),DS.pubSub.on(DS.events.frame.REFLOW,E);var C=function(){y=p(),DS.pubSub.trigger(DS.events.controlOptions.RESET)};return DS.pubSub.on(DS.events.frameModel.CHROMELESS_CHANGED,C),{all:E,resize:E,rerender:function(){J.update(y,!0),J.nameSpaces[tm].wrapper.updateChildren(!0),DS.renderEngine.createWindowFor(),window.globals.HAS_SLIDE||window.requestAnimationFrame((function(){DS.pubSub.trigger(DS.events.captions.ENABLED,g)}))},destroy:function(){DS.pubSub.off(DS.events.navcontrols.CHANGED,w),DS.pubSub.off(DS.events.frameModel.LAYOUT_CHANGED,m),DS.pubSub.off(DS.events.frame.REFLOW,E),DS.pubSub.off(DS.events.frameModel.CHROMELESS_CHANGED,C),J.nameSpaces[tm].topLevelElements.forEach((function(e){return e.destroy()}))}}})),fg(lg,_m,(function(e){var t=J.tree(_m,["lightBoxBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox"]},"lightBoxClose"]),n=J.getNamespace(_m);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return J.update(t)},resize:function(){n.isAttached&&J.update(t)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),fg(lg,Am,(function(e){var t=J.tree(Am,["lightBoxControlsBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]}]},"lightBoxClose"]),n=J.getNamespace(Am);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var i=function(e,n){if(n===Am){var i={next:e.next,prev:e.previous,submit:e.submit};J.resetStates(Am),J.updateVisibility(i,Am),J.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return J.update(t)},resize:function(){n.isAttached&&J.update(t)}}})),fg(lg,Mm,(function(e){J.tree(Mm,[{printWrapper:["printSlide"]}]);var t=J.getNamespace(Mm);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),fg(lg,Fm,(function(e){var t=J.tree(Fm,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=J.getNamespace(Fm);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return J.update(t)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),fg(lg,Xi,(function(e){var t=J.tree(Xi,["visibleOverlay",{shortcutWrapper:["shortcutSlide"]},"shortcutClose"]),n=J.getNamespace(Xi);return n.slide=n.shortcutSlide,n.wrapper=n.shortcutWrapper,{all:function(){return J.update(t)},resize:function(){n.isAttached&&J.update(t,!0)}}})),fg(lg,pg,hg),fg(lg,vg,bg),fg(lg,wg,gg),lg),"html5/data/js/frame.js")}();
