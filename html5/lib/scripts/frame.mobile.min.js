/*! ds-bootstrap - v1.0.0.35301 - 2025-08-25 4:33pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=e.MicroScrollBar,n=(e.detection,function(e){return null!=e&&2===e.split(".").length}),i=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var s=DS,c=s._,u=s.pubSub,f=s.events,d=s.constants,h=s.utils,p=s.translationStore,b=[],y=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=i,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:d.docked.NONE,width:0},this.setLayout(this.frame.default_layout,d.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=i.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),u.on(f.controlLayout.CHANGED,this.onLayoutChanged),u.on(f.controlLayout.UPDATE,(function(e,t,n){r.frame.controlLayouts[e]=n,r.setLayout(e,t)})),u.on(f.controlOptions.CHANGED,(function(e){var t=r.optionChangesRequireMenuRefresh(r.frame.controlOptions.menuOptions,e.menuOptions);r.frame.controlOptions=e,r.setupControlOptions(),u.trigger(f.controlOptions.RESET),t&&u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.frame.FONT_SCALE,(function(e){r.frame.fontscale=e,u.trigger(f.controlOptions.RESET)})),u.on(f.glossary.UPDATE,(function(e){r.frame.glossaryData=e,u.trigger(f.glossary.REFRESH_VIEW)})),u.on(f.navData.UPDATE,(function(e){r.frame.navData=e,u.trigger(f.navData.REFRESH_VIEW)})),u.on(f.resources.UPDATE,(function(e){r.frame.resourceData.resources=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.resources.UPDATE_DESCRIPTION,(function(e){r.frame.resourceData.description=e,u.trigger(f.resources.REFRESH_VIEW)})),u.on(f.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),u.on(f.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();u.trigger(f.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),u.on(f.localization.LANGUAGE_UPDATED,(function(){r.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),u.on(f.localization.REVIEW_FRAME_UPDATED,(function(){r.updateReviewStrings()}))}var t,n,r;return t=e,n=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=h.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=p.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=p.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){h.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=p.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),i=p.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=i&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(i))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=p.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){u.trigger(f.strings.UPDATE_STRINGS),u.trigger(f.navData.REFRESH_VIEW),u.trigger(f.glossary.REFRESH_VIEW),u.trigger(f.resources.REFRESH_VIEW),u.trigger(f.transcript.REFRESH_VIEW),u.trigger(f.frame.REFLOW),u.trigger(f.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return p.getUpdatedTextData("frameLink","".concat(e,"-Link"),h.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,i=this.frame.stringTables[n].string[e];return null==i?(b.includes(e)||(b.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):i}},{key:"setDocked",value:function(e,t,n){t===d.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:d.docked.NONE,width:0}:t!==d.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=i([].concat(o(this.topTabsRight),o(this.topTabsLeft)),e),u.trigger(f.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=y;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O(i.key),i)}}function O(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var C,x=DS,E=x._,L=x.scaler,P=x.detection,T=x.detection.orientation,j=x.utils,D=j.getPath,I=j.scaleVal,A=j.pxify,R=x.dom,B=R.addClass,M=R.removeClass,H=x.constants.refs.FRAME,N=document.getElementById(DS.constants.els.PRESO),F={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},W=["wrapper","lightBoxWrapper"],V=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},U=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},z=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},K=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},Z=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},Q={l:U,r:z,t:K,b:Z},G=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),E.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&N.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return T.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=E.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=D(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",J.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=A(I(Math.max(this.w,24))),this.el.style.height=A(I(Math.max(this.h,24)))):(this.el.style.width=A(I(this.w)),this.el.style.height=A(I(this.h)))}},{key:"updateTrans",value:function(){var e=W.includes(this.nameKey)?E.identity:I,t=["translate(".concat(A(e(this.x)),", ").concat(A(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(A(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(A(e(this.ys[i])),")"));P.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,s=e.hook,c=void 0===s?E.noop:s,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?Z:K:i?z:U,b=Object.assign({l:o,r:o,t:o,b:o},e.bounds),y=l!==f?this.children.slice().reverse():this.children,v=w(t?["height","t"]:["width","l"],2),m=v[0],g=v[1],S=T.isLandscape?E.first:E.last;y.forEach((function(e){(e.beforeReflowHook||E.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?Q[t](e,b,r):p(e,b,r),c(e))})),d&&(this[m]=b[g])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(P.theme.isClassic)return!1;var e=J.getTopNameSpace(),t=J.getCurrentNameSpace(),n=J.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?M(this.el,"cs-disabled"):B(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&D(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/L.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*e,r=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=J.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[E.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,J.hasNamespace(n.nameSpace)?J.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&J.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==J.getNamespace(this.nameSpace).wrapper)return null;var e=P.theme.isClassic&&J.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(J.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*t,i=(i+(void 0===c?0:c))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,b=d.t,y=void 0===b?0:b;n+=(u.x+p)*f,i+=(u.y+y)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();G.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},G.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=G.propFns[n])Object.defineProperties(e,g({},t,{get:G.propFns[n],set:E.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=F[t]?F[t]:t;Object.defineProperties(e,g({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:E.noop}))}else if(E.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),s=e["min".concat(l)],c=e["max".concat(l)];o=function(){var e=a();return e<s?e=s:e>c&&(e=c),e}.bind(e)}else o=n;Object.defineProperties(e,g({},t,{get:o,set:E.noop}))}else e[t]=n;e[t]=n};var q={},Y={},X={},$=function(e){var t,n,i=m(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(m(e))),{viewName:t,children:n}},J={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat(J.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);E.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new G(t,n);return null==q[e]?(q[e]=i,Y[e]={ViewLogic:t,p:n},X[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){C=e,this.nameSpaces[C]=this.nameSpaces[C]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return N.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return N.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(i){var r=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(i.children.some((function(e){return"startoverlay"===e.nameKey}))?i.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return r(t,e.tabReachable)})):r(i,e.tabReachable)),i.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===i.nameKey&&n(i.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){E.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=Y[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++X[e]>1){var t=Y[e],n=t.ViewLogic,i=t.p;return new G(n,i)}return q[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=$(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,D(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)t(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=$(r),l=a.viewName,s=a.children,c=n.nameSpaces[e][l];if(null!=c){if(c.init(e),null!=o?o.append(c):n.nameSpaces[e].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)t(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[C]},getTopNameSpace:function(){return E.last(this.nsStack)},getCurrentNameSpaceString:function(){return C},getFrameNameSpace:function(){return this.nameSpaces[H]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return J.getNamespace(e).frameBlocker;case"LightboxWnd":return J.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return J.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function ee(e){return function(e){if(Array.isArray(e))return e}(e)||ie(e)||ne(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||ie(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function ie(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oe,ae=DS,le=ae._,se=ae.pubSub,ce=ae.events,ue={},fe=!1,de={},he={},pe=function(e){try{var t=te(document.styleSheets).find(e);oe=te(t.rules)}catch(e){}};if(pe((function(e){return null!=e.href&&e.href.includes("output.min.css")})),se.on(ce.scheme.CHANGED,(function(e){pe((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),de={},ue.initializeCssColorVars()})),null!=oe){var be=function(e,t){var n,i;if(fe){n="".concat(t,".cs-").concat(J.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+le.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{J.model;n=".cs-".concat(J.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};ue.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=be(t,i);if(null==de[r]){var o=oe.find((function(e){return e.selectorText===r}));null==o&&(fe=!fe,r=be(t,i),o=oe.find((function(e){return e.selectorText===r}))||{}),de[r]=o.style||{}}return de[r][n]||""}}else{ue.usePolyfill=!0;var ye=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ve=/^\./,me=/\./g;ue.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=J.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ve.test(e))s=e.replace(me," "),i=ye("div",s);else{var n=ee(e.split(".")),o=n[0],l=n.slice(1);i=ye(o,l.join(" "))}var s;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}ue.initializeCssColorVars=function(){he={},ue.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),ue.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),ue.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},ue.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!he[e]){var o="";if(ue.usePolyfill){var a=Object.keys(J.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){ue.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=ue.getColor(o,t,n,i,r);if(!le.isEmpty(l)&&e)he[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var ge=ue;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ke(i.key),i)}}function ke(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===we(t)?t:String(t)}var Oe=DS,Ce=Oe.detection,xe=Oe.pubSub,Ee=Oe.events,Le=327,Pe=new(function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=ke(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=Ce.os.isIOS&&Ce.browser.isChrome,Ce.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),xe.on("frame:modelReady",(function(){var e,t,n,i,o=!J.model.frame.chromeless&&!Ce.env.hideFrame;r.ratioW=null==J||null===(e=J.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==J||null===(t=J.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==J||null===(n=J.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!J.model.sidebarOpts.closed&&J.model.sidebarOpts.sidebarEnabled||(Le=0),o&&(r.ratioW+=Le,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),xe.trigger(Ee.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,xe.trigger(Ee.frame.REFLOW),xe.trigger(Ee.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&Se(t.prototype,n),i&&Se(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=Pe;var Te=Pe;function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===_e(o)?o:String(o)),i)}var r,o}var De,Ie,Ae,Re,Be=DS,Me=Be.dom,He=Be._,Ne=Be.detection,Fe=Be.pubSub,We=Be.events,Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),He.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[We.loader.SHOW]=this.onLoaderShow,t[We.loader.MUTE]=this.onLoaderMute,t[We.loader.UNMUTE]=this.onLoaderUnmute,t[We.loader.HIDE]=this.onLoaderHide,t[We.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[We.startOverlay.READY]=this.onLoaderHide,Me.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&Me.addClass(document.body,"is-touchable-tablet"),Ne.env.is360&&!Te.isLockedOption&&Me.addClass(document.body,"is-360"),Fe.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Fe.trigger(We.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",Me.addClass(document.getElementById("preso"),"hide-slide-loader"),Fe.trigger(We.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",Me.removeClass(document.getElementById("preso"),"hide-slide-loader"),Fe.trigger(We.app.SHOW_LOADER))}}])&&je(t.prototype,n),i&&je(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ue=DS,ze=Ue.globalEventHelper.addWindowListener,Ke=Ue.events,Ze=Ke.ds,Qe=Ze.FRAME_DATA_LOADED,Ge=Ze.PRESO_READY,qe=Ke.window.STACKING_CHANGED,Ye=Ke.frame,Xe=Ye.MODEL_READY,$e=Ye.SCALE,Je=Ke.resume.SET_DATA,et=Ke.startOverlay.READY,tt=Ke.controlOptions.RESET,nt=Ke.sidebar.ACTIVE_TAB_SET,it=Ke.renderTree.DESTROYED,rt=Ue.constants,ot=(rt.els.PRESO,rt.refs.FRAME),at=Ue.detection.theme,lt=Ue.pubSub,st=Ue.focusManager,ct=(Ue.flagManager,Ue.playerGlobals),ut=Ue.stringTabler,ft=Ue.shortcutManager,dt=Ue.dom,ht={},pt=function(e){var t=J.nsStack.indexOf(e);t>=0&&J.nsStack.splice(t,1)},bt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];J.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},yt=function(e){De={createWindow:function(t,n){var i,r,o,a,l,s=this,c=J.getNamespace(t),u=function(){return function(e){var t=J.getNamespace(e),n=t.isAttached;t.reattach(),pt(t),J.nsStack.push(t),n||ht[e].all();var i=J.nsStack.length;J.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(dt.addClass(n,"primary-slide"),dt.removeClass(n,"secondary-slide")):(dt.removeClass(n,"primary-slide"),dt.addClass(n,"secondary-slide"))})),bt(),lt.trigger(qe,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=J.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),c.tabReachable=!n,c.updateTabIndex(!1)}};(null==c&&(J.addNameSpace(t),r=e[t](Ie),i=_.flow(ze("resize",(function(){r.resize(),lt.trigger($e)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),lt.trigger($e)}))),t===ot?Ie.setLayout(Ie.frame.default_layout,ot):r.all(),c=J.getNamespace(t),ht[t]=r,c.moveToTop=u,at.isUnified&&(lt.on(DS.events.frameModel.BLOCKED_CHANGED,f),lt.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),lt.on(tt,(function e(){var t=function(){var e=[],t=J.getNamespace(ot).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(J.getNamespace(ot).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();pt(J.getNamespace(ot)),r.destroy(),DS.pubSub.trigger(it),J.nameSpaces[ot]=null,i(),lt.off(tt,e),s.createWindow("_frame"),r.rerender(),t.forEach((function(e){lt.trigger(nt,e)}))})),null!=n)&&(null===(o=c.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:c.slide.el,wndEl:c.wrapper.el,captionEl:(c.captionContainer||{}).el,x:function(){return c.wrapper.x},y:function(){return c.wrapper.y},close:function(){c.zoomBounds=null,c.detach(),pt(c),J.nsStack[J.nsStack.length-1].moveToTop(),st.reCenter()},moveToTop:u,getWinScale:function(){return c.slide.winScale||1},getPinchZoomBounds:function(){return c.slide.pinchZoomBounds},onPinchZoom:ht[t].pinchZoom?function(e){c.zoomBounds=e,ht[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return Ie.sidebarOpts.sidebarPos},getDefaultLayout:function(){return Ae.default_layout},getFonts:function(){return Ae.fonts},getFontScale:function(){return Ie.frame.fontscale},getCaptionData:function(){var e=Ie.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=Ie.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return Ie.frame.navData.outline.links},isReadOnlyOnce:function(){return Ae.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return J.nsStack},setAllAccVisibility:function(e){_.forEach(J.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},lt.on(Je,bt),lt.on(et,(function(){bt(!1)})),ct.player=De},vt=function(){De.hasData=!0,lt.trigger(Qe,De)};function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==mt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===mt(o)?o:String(o)),i)}var r,o}var wt=DS,St=wt.dom,kt=wt._,Ot=wt.pubSub,Ct=wt.detection,xt=wt.frameWindow,Et=wt.globalEventHelper.addWindowListener,Lt=wt.events,Pt=Lt.slide.HAS_MOUNTED,Tt=Lt.frame.SCALE,_t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,kt.bindAll(this,"onResize"),this.removeListener=Et("resize",this.onResize),Ot.once(Pt,this.onResize),DS.flagManager.playerSizeOption&&Ot.on(Tt,this.onResize))}var t,n,i;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Ct.theme.isUnified&&!xt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?St.removeClass(e,"has-scrollbar"):St.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?St.addClass(e,"has-scrollbar"):St.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&gt(t.prototype,n),i&&gt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Dt(e,t,n){return(t=At(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,At(i.key),i)}}function At(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jt(t)?t:String(t)}var Rt,Bt="wrapper",Mt=DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?_t:function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();J.def(Bt,Mt,(function(){var e,t=J.model.frame;return Dt(e={attrs:{id:Bt,class:"cs-base cs-".concat(t.default_layout," fn-").concat(t.default_layout," cs-custom-theme")},style:{fontSize:"".concat(t.fontscale,"%")},x:0,y:0},"x",(function(){return Te.x})),Dt(e,"y",(function(){return Te.y})),Dt(e,"w",(function(){return Te.width})),Dt(e,"h",(function(){return Te.height})),Dt(e,"updateHook",(function(){this.el.style.fontSize="".concat(t.fontscale,"%")})),Dt(e,"add",!0),e}));var Ht,Nt="-20px",Ft="-30px";var Wt={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,s=t.height;null==Rt&&(i=J.model,r=ge.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Rt=document.createElement("div")).id="tooltip",Rt.style.left=Nt,Rt.style.top=Ft,Rt.style.borderColor=r,Rt.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(Rt),Rt.addEventListener("mouseleave",Wt.runObjHoverOut)),Ht=e,Rt.style.display="block",Rt.innerText=n;var c=Rt.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),Rt.style.left="".concat(f,"px"),Rt.style.top="".concat(d,"px")},hideTooltip:function(e){null==Rt||null!=e&&e!==Ht||(Rt.style.display="none",Rt.innerText="",Rt.style.left=0,Ht=void 0)},updateTooltip:function(e,t){var n=Rt.getBoundingClientRect().width;Rt.innerText=t,Rt.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=Ht?Ht.onHoverOut():Wt.hideTooltip()}},Vt=Wt;function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ut(o)?o:String(o)),i)}var r,o}var Kt=DS,Zt=Kt.dom,Qt=Kt.pubSub,Gt=Kt.events,qt=Kt._,Yt=Kt.constants,Xt=Kt.keyManager,$t=Kt.focusManager,Jt=(Kt.flagManager,Kt.stringTabler),en=Kt.detection,tn="click",nn=function(){return en.deviceView.isUnifiedDesktop},rn=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Qt.on(Gt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Qt.on(Gt.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Qt.on(Gt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),nn()&&(qt.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(tn,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(tn,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),$t.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){$t.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return Jt.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(nn()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);Vt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),Vt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){Vt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;nn()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(Zt.mouseX,Zt.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){Xt.isKey(e.which,Yt.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){Qt.off(Gt.frameModel.LAYOUT_CHANGED,this.onLayoutChange),en.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&zt(t.prototype,n),i&&zt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function an(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==on(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===on(o)?o:String(o)),i)}var r,o}function ln(e,t){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ln(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cn(e);if(t){var r=cn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}var un="frame",fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ln(e,t)}(o,e);var t,n,i,r=sn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&an(t.prototype,n),i&&an(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==dn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==dn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===dn(o)?o:String(o)),i)}var r,o}function pn(e,t){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pn(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vn(e);if(t){var r=vn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}(this,n)}}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vn(e)}J.def(un,fn,(function(){var e=J.model;return{attrs:{id:un,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%",html:'<div class="top-ui-bg"></div><div class="bottom-ui-bg"></div><div class="left-ui-bg"></div><div class="right-ui-bg"></div>'}}));var mn,gn,wn=DS,Sn=wn.detection,kn=wn.events,On=wn.pubSub,Cn=function(){return document.getElementById("app-top")||document.body},xn=DS.utils.pxify,En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pn(e,t)}(o,e);var t,n,i,r=bn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=J.model.getString("acc_skipnavigation"),Cn().appendChild(e),window.requestAnimationFrame((function(){gn=e.clientHeight,mn=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return On.on(kn.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(yn(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!Sn.device.isMobile){DS.focusManager.takeFocusOff();var e=J.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Object.assign(this.visualNode.style,{top:xn(i+o-gn-50),left:xn(n+r-mn-50)}),e.el.style.opacity=.6,Cn().appendChild(this.visualNode)}On.trigger(kn.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=J.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&hn(t.prototype,n),i&&hn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Ln=En,Pn="skipnav";function Tn(e){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(e)}function _n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Tn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Tn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J.def(Pn,Ln,(function(){var e=J.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:Pn,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var jn=DS,Dn=jn._,In=jn.pubSub,An=jn.events,Rn=jn.detection,Bn=jn.constants.MOBILE_UI_SIZE,Mn="top ".concat(150,"ms ease-in-out");function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Hn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Hn(o)?o:String(o)),i)}var r,o}function Fn(e,t){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fn(e,t)}function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Un(e);if(t){var r=Un(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}(this,n)}}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}var zn=DS,Kn=zn.pubSub,Zn=zn.events,Qn=zn._,Gn=zn.utils,qn=(zn.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fn(e,t)}(o,e);var t,n,i,r=Wn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Qn.bindAll(Vn(t),"onSlideChange","onAriaToggle"),Kn.on(Zn.slide.HAS_MOUNTED,t.onSlideChange),Kn.on(Zn.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Rn.deviceView.isPhone)return Dn.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Mn;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<Bn&&Rn.theme.isUnified?o=Bn-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Mn,e.view.el.style.top="".concat(0,"px")}return In.on((_n(t={},An.threeSixtyImage.UN_PUSH_LABEL,n),_n(t,An.threeSixtyImage.PUSH_UP_BY_LABEL,i),_n(t,An.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),In.off(An.threeSixtyImage.UN_PUSH_LABEL,n),In.off(An.threeSixtyImage.PUSH_UP_BY_LABEL,i),In.off(An.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Vn(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){Kn.off(Zn.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(J.model.getString("slide"),": ").concat(Gn.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Nn(t.prototype,n),i&&Nn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn)),Yn=10,Xn=58,$n=65,Jn=DS,ei=Jn.detection,ti=ei.deviceView,ni=ei.orientation,ii=Jn.constants.MOBILE_UI_SIZE,ri="slide";J.def(ri,qn,(function(e){var t=J.getNamespace(e),n=t.frame,i=t.sidebar,r=t.topBar,o=t.bottomBar,a=t.fullScreenToggle,l=J.model;return{attrs:{id:ri,"aria-live":"assertive",class:"window-slide ".concat(e,"-slide")},origin:"0 0",overflow:"visible",w:function(){return l.slideWidth*this.currWinScale},h:function(){return l.slideHeight*this.currWinScale},z:1,methods:{calcSidebarOffsets:function(){var e=null!=i&&i.visible,t=e&&"left"===i.pos;this.sidebarWidthOffset=t?i.right():e?Te.width-i.x:0,this.sidebarXOffset=t?i.right():0},isFullScreenChromeless:function(){return null!=a&&l.frame.chromeless},topBarExists:function(){var e=null!=r&&!!r.visible&&(l.sidebarOpts.titleEnabled||l.sidebarOpts.sidebarEnabled||l.hasTopLinks()||l.frame.controlOptions.controls.elapsedandtotaltime);return document.body.classList[e?"remove":"add"]("top-bar-hidden"),e},bottomBarExists:function(){var e=!1;null!=o&&o.visible&&o.children&&(e=o.children.some((function(e){return e.visible})));var t=l.bottomBarOpts.bottomBarEnabled&&e;return document.body.classList[t?"remove":"add"]("bottom-bar-hidden"),t},sideBarsExist:function(){var e=!l.frame.chromeless;return document.body.classList[e?"remove":"add"]("side-bars-hidden"),e},calcWinScale:function(){var e=null!=n?30:0,t=0,i=this.topBarExists(),a=this.bottomBarExists();this.isFullScreenChromeless()?t=ii:ti.isTablet&&(t+=a?o.h:0,t+=i?r.h:0),i||a||(e=0),this.offY=0,this.minY=0;var s=0;(ti.isTablet||ni.isPortrait)&&(!i&&a?(this.offY=-o.h,s+=15,this.minY=15):i&&!a&&(this.offY=25,s+=15,this.minY=15));var c=ti.isPhone&&ni.isLandscape&&this.sideBarsExist(),u=l.dockSettings,f=u.dockedState,d=u.width,h=f!==DS.constants.docked.NONE?d:0,p=c?Xn:0;this.availW=Te.width-this.sidebarWidthOffset-h-2*p;var b=ti.isPhone&&ni.isPortrait&&!l.frame.chromeless?$n:0,y=Te.height-((ti.isPhone?e:0)+t)-s-2*b;this.currWinScale=Math.min((this.availW-e)/l.slideWidth,y/l.slideHeight)},beforeUpdateHook:function(){this.calcSidebarOffsets(),this.calcWinScale()}},winScale:function(){return this.currWinScale},pinchZoomBounds:function(){var e=Te.width,t=Te.height,n=this.topBarExists()?r.h:0,i=this.bottomBarExists()?o.h:0;return ti.isPhone&&ni.isLandscape?{x:Xn,y:0,width:e-116,height:t}:{x:this.sidebarXOffset,y:n,width:this.availW,height:t-(i+n)}},x:function(){var e=l.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0,r=ti.isPhone&&ni.isLandscape&&this.sideBarsExist(),o=l.slideWidth*this.currWinScale,a=r?Xn:0;return i+this.sidebarXOffset+(this.availW-o)/2+a},y:function(){var e=(Te.height-l.slideHeight*this.currWinScale)/2+this.offY;return Math.max(e,this.minY)},add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div><main class="slide-container" data-ref="container" tabindex="-1"></main>',noContent:!0}}));var oi="logo",ai=DS,li=ai._,si=ai.utils;J.def(oi,(function(e){var t,n=J.model,i=J.getNamespace(e).sidebar,r=i.w,o=.75*r,a={class:"logo cs-logo",role:"banner","aria-hidden":!n.logo.altTextEnabled};return{id:oi,attrs:a,w:"100%",minH:60,maxH:170,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},html:function(){(t=document.createElement("img")).onload=function(){r=t.naturalWidth,o=t.naturalHeight,t.onload=null,i.updateChildren(!0)},t.src=si.resolveAssetUrl(n.sidebarOpts.html5_logo_url),li.isEmpty(n.logo.altText)||(t.alt=n.logo.altText),this.el.appendChild(t)},visible:n.logo.enabled,updateHook:function(){o/this.h>r/i.data.actualWidth()?(t.style.width="auto",t.style.height="100%"):(t.style.width="100%",t.style.height="auto"),li.isEmpty(n.logo.altText)||(t.alt=n.logo.altText)}}}));var ci=DS.scaler,ui="shortcutWrapper";J.def(ui,(function(e){var t=J.model,n=J.getNamespace(DS.constants.refs.FRAME),i=(n.slide,n.wrapper);return{attrs:{id:ui,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*i.w},h:function(){return.7*i.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return i.x/ci.getScale()+(i.w-this.w)/2},y:function(){return i.y/ci.getScale()+(i.h-this.h)/2},add:!0}}));var fi=function(){return"no icon"},di={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function pi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===hi(o)?o:String(o)),i)}var r,o}function bi(){return bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},bi.apply(this,arguments)}function yi(e,t){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yi(e,t)}function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gi(e);if(t){var r=gi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}(this,n)}}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}var wi="shortcutSlide",Si="comma_key",ki="period_key",Oi="question_mark_key",Ci=DS,xi=Ci._,Ei=Ci.shortcutManager,Li=Ci.keyManager,Pi=Ci.pubSub,Ti=Ci.events,_i=Ti.window.CLOSING,ji=Ti.player.ENABLE_KEYBOARD_SHORTCUTS,Di=Ci.MicroScrollBar,Ii=Ci.focusManager,Ai=(Ci.flagManager,Ci.constants),Ri=Ci.globalEventHelper.addDocumentListener;function Bi(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(Oi);case".":return t.getString(ki);case",":return t.getString(Si)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yi(e,t)}(o,e);var t,n,i,r=vi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),xi.bindAll(mi(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),Pi.on(_i,t.closeWindow),t.removeKeydownListener=Ri("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),Pi.on(ji,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){Li.isKey(e.which,Ai.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&Ei.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){Ei.enableShortcuts(!Ei.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Ii.setFocusRectOn(t)}},{key:"teardown",value:function(){Pi.off(_i,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&Pi.off(ji,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),bi(gi(o.prototype),"teardown",this).call(this)}}])&&pi(t.prototype,n),i&&pi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(qn);function Hi(e){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(e)}function Ni(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Hi(o)?o:String(o)),i)}var r,o}function Fi(e,t){return Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fi(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vi(e);if(t){var r=Vi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}J.def(wi,Mi,(function(){var e=J.model;return{attrs:{id:wi,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[Ai.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[Ai.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=ge.getColor.apply(ge,t),i='\n        <div class="switch '.concat(Ei.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(Ei.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat((di["track"]||fi)(n,"shortcuts"),"\n          </button>\n        </div>"),r="<h1>".concat(e.getString("keyboardshortcuts")).concat(i,"</h1>"),o=Ei.getShortcutList().map((function(t){var n=t.name,i=t.keyInfo;return'<tr class="'.concat("?"===i.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(Bi(i,e,!1),'</span>\n              <span class="sr-only">').concat(Bi(i,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[r,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new Di(this.el,"shortcut-slide"))}}}));var Ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fi(e,t)}(o,e);var t,n,i,r=Wi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&Ni(t.prototype,n),i&&Ni(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),zi=DS.scaler,Ki="shortcutClose";J.def(Ki,Ui,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Ki,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":J.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*zi.getScale(),'" height="').concat(20*zi.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",J.model.getString("close"))}},y:35,x:function(){var e=J.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/zi.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));function Zi(e){return function(e){if(Array.isArray(e))return qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||Gi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){if(e){if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Yi="sidebar",Xi=DS,$i=Xi.utils,Ji=Xi.TweenLite,er=Xi.dom,tr=Xi.events,nr=Xi.pubSub,ir=Xi.detection;J.def(Yi,(function(e){var t=J.model,n=J.getNamespace(e),i=n.sidebarPanels,r=n.logo,o=n.tabs,a=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");er.addClass(document.body,"sidebar-".concat(t.sidebarOpts.sidebarPos));var l=.25,s=function(){var e=t.dockSettings||{},n=e.dockedState,i=e.width,r=n!==DS.constants.docked.NONE,o=Te.innerWidth-(r?i:0),a=ir.device.isPhone?.8*Te.innerWidth:o/4;return Te.isLocked?$i.clamp(245,300,a):$i.clamp(245,400,a)},c=function(){return"left"===t.sidebarOpts.sidebarPos?0:Te.innerWidth-s()},u={x:c()},f=[];return{tag:"section",attrs:{id:Yi,class:"cs-left area-secondary-wrapper","aria-label":"sidebar"},overflow:"visible",visible:t.sidebarOpts.sidebarEnabled,pos:function(){return t.sidebarOpts.sidebarPos},noContent:!1,shouldReparent:!1,xs:[0],data:{actualWidth:s},x:function(){var e=this,t=c();if(this.collapsed&&("left"===this.pos?t-=s():t+=s()),this.animate&&!this.animating||this.collapsing!==this.collapsed){this.collapsing=this.collapsed;var n="left"===this.pos?-30:30;this.collapsed&&this.floating?(er.addClass(document.body,"sidebar-closing"),Ji.to(this.content,l,{opacity:0,x:n,ease:"power4.out",onComplete:function(){er.removeClass(document.body,"sidebar-closing"),e.collapsed&&er.addClass(document.body,"sidebar-closed")}})):(er[this.collapsed?"addClass":"removeClass"](document.body,"sidebar-closed"),Ji.set(this.content,{x:n,opacity:0}),Ji.to(this.content,l,{x:0,delay:.11,ease:"power2.out"}),Ji.to(this.content,l,{opacity:1,delay:.11,ease:"none",overwrite:!1}));var i=Te.innerWidth,r=Ji.to(u,l,{x:t,onComplete:function(){e.animating=!1,e.animate=!1},onUpdate:function(){"right"===e.pos&&Te.innerWidth!=i&&(r.kill(),e.animating=!1),nr.trigger(tr.frame.REFLOW),nr.trigger(tr.frame.SCALE),DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(clearTimeout(e.delayedReflow),e.delayedReflow=setTimeout((function(){e.update()}),32))}});this.animating=!0}return this.animating||(u.x=t),this.floating?"right"===this.pos?(this.xs[0]=u.x-Te.innerWidth,Te.innerWidth):(this.xs[0]=u.x,0):(this.xs[0]=0,u.x)},w:function(){return this.visible?s():0},h:"100%",html:"\n      <style>\n        .selected-animation-done:after {\n          background: ".concat(a,';\n        }\n      </style>\n      <div class="slider-mask" data-ref="sliderMask">\n        <div class="tab-selected-slider cs-brandhighlight-bg" data-ref="tabSelectedSlider"></div>\n      </div>\n    '),updateHook:function(){this.hasAllChildren()&&this[this.collapsed?"onSidebarHide":"onSidebarShow"]()},beforeUpdateHook:function(){if(this.childScale=1,null!=r&&r.visible&&null!=i&&i.visible&&(null==i?void 0:i.h)<120){var e=r.maxH-r.minH+(o.maxH-o.minH),t=120+o.minH+r.minH;this.childScale=$i.clamp(0,1,(this.h-t)/e)}if(DS.localizationManager.isMultiLanguageProject()){var n=Qi("left"===this.pos?["sidebar-left","sidebar-right"]:["sidebar-right","sidebar-left"],2),a=n[0],l=n[1];document.body.classList.add(a),document.body.classList.remove(l)}},methods:{onSidebarHide:function(){this.onSidebarShow(),(f=Zi(this.el.querySelectorAll('[tabindex="0"]:not(#hamburger)'))).forEach((function(e){e.tabIndex=-1,e.setAttribute("data-tabindex",-1)})),this.content.setAttribute("aria-hidden",!0)},onSidebarShow:function(){var t=J.getNamespace(e);f.forEach((function(e){t.tabReachable&&(e.tabIndex=0),e.setAttribute("data-tabindex",0)})),this.content.removeAttribute("aria-hidden")}}}}));var rr=function(){return"no icon"},or={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},ar={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},lr=function(e){return DS.detection.env.isPerpetual?or[e]||rr:ar[e]||or[e]||rr},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Te.innerWidth-e<900};function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function ur(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==cr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===cr(o)?o:String(o)),i)}var r,o}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pr(e);if(t){var r=pr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}(this,n)}}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}var br=DS,yr=br.pubSub,vr=br.events,mr=br.constants,gr=br.focusManager,wr=br.globalEventHelper.addWindowListener,Sr=br.dom,kr=Sr.addClass,Or=Sr.removeClass,Cr=!1,xr=!0,Er="floating-sidebar",Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}(o,e);var t,n,i,r=dr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_.bindAll(hr(t),"onToggle","onResize","onOver","onOut"),t.nameSpace=J.getNamespace(t.view.nameSpace),t.sidebar=t.nameSpace.sidebar,t.removeCollapseSidebarListener=null,t.toggle=!1,t.onClick(t.onToggle),(J.model.sidebarOpts.closed&&xr||Cr)&&(kr(document.body,"sidebar-closed"),t.sidebar.collapsed=!0,t.sidebar.collapsing=t.sidebar.collapsed),t.overlay=t.nameSpace.sidebarOverlay.el,t.onClickEl(t.overlay,t.onToggle),yr.on(vr.sidebar.CLOSE,(function(){t.sidebar.collapsed||t.onToggle()})),yr.on(vr.sidebar.OPEN,(function(){t.sidebar.collapsed&&t.onToggle()})),yr.on(vr.frame.RESIZE,t.onResize),wr("resize",t.onResize),t.onResize(null,!0),t.wrapperEl.addEventListener("mouseenter",t.onOver),t.wrapperEl.addEventListener("mouseleave",t.onOut),xr=!1,Te.isLockedOption&&"left"===J.model.sidebarOpts.sidebarPos&&(J.model.sidebarOpts.closed||!J.model.sidebarOpts.sidebarEnabled)&&kr(t.wrapperEl,"menu-icon-wrapper-locked-left"),t}return t=o,n=[{key:"keyUpCollapseSidebar",value:function(e){e.keyCode!==mr.keys.ESCAPE||this.sidebar.collapsed||("hamburger"===gr.lastFocusedElement().id?this.onToggle():this.onToggle(!1))}},{key:"getViewBox",value:function(){var e=this.el.getBoundingClientRect();return{x:e.left+10,y:e.top+10,w:e.width-5,h:e.height}}},{key:"onOver",value:function(e){kr(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"onOut",value:function(e){Or(this.wrapperEl,"menu-icon-wrapper-hover")}},{key:"setExpandedAttr",value:function(){return this.sidebar.collapsed?this.overlay.style.opacity=0:this.overlay.style.opacity=.7,this.el.setAttribute("aria-expanded",!this.sidebar.collapsed),this}},{key:"animateSidebar",value:function(){this.animate||(this.sidebar.animate=!0,this.sidebar.update())}},{key:"onResize",value:function(e,t){var n=J.model.dockSettings,i=n.dockedState,r=n.width,o=i!==mr.docked.NONE?r:0;sr(o)&&this.sidebar.visible?(this.sidebar.startFloat(),kr(document.body,Er),null==this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener=wr("keyup",this.keyUpCollapseSidebar.bind(this)))):(this.sidebar.endFloat(),Or(document.body,Er),null!=this.removeCollapseSidebarListener&&(this.removeCollapseSidebarListener(),this.removeCollapseSidebarListener=null));var a=Te.innerWidth-o;!this.sidebar.collapsed&&sr(o)&&(this.prevWidth>a||t)?(this.sidebar.autoCollapsed=!0,this.sidebar.collapsed=!0,this.setExpandedAttr().animateSidebar()):this.sidebar.autoCollapsed&&!this.sidebar.floating&&this.prevWidth<a&&(this.sidebar.collapsed=!1,this.sidebar.autoCollapsed=!1,this.setExpandedAttr().animateSidebar()),this.prevWidth=a}},{key:"onToggle",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.sidebar.collapsed=!this.sidebar.collapsed,this.sidebar.collapsed||(this.sidebar.autoCollapsed=!1),t?(this.onBlur(),this.setExpandedAttr().animateSidebar(),setTimeout((function(){e.sidebar.collapsed?e.onFocus():e.sidebar.el.querySelector('[tabIndex="0"]').focus()}),250)):this.setExpandedAttr().animateSidebar(),yr.trigger(vr.hamburger.TOGGLE,this.sidebar.collapsed)}},{key:"teardown",value:function(){Cr=this.sidebar.collapsed,yr.off(vr.sidebar.CLOSE),yr.off(vr.sidebar.OPEN)}}],n&&ur(t.prototype,n),i&&ur(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Pr=Lr,Tr=DS.detection.deviceView,_r="hamburger";J.def(_r,Pr,(function(e){var t=J.model,n=J.getNamespace(e).sidebar;return{tag:"button",ariaStringId:"sidebar_toggle",attrs:{id:_r,"aria-expanded":!t.sidebarOpts.closed,"aria-controls":"sidebar","aria-label":"".concat(t.getString("sidebar_toggle")),tabIndex:0},x:function(){return"left"===n.pos?n.data.actualWidth():Tr.isMobile?-(this.w+1):-65},w:50,h:65,outsideContent:!0,html:function(){return'\n      <div class="menu-icon-wrapper" data-ref="wrapper">\n        '.concat(lr("hamburger")()+J.iconTextEl("sidebar_toggle","scale: 1 4"),"\n      </div>\n    ")}}}));var jr=10,Dr=20,Ir=1e3,Ar=DS,Rr=Ar.detection.deviceView,Br=Ar.pubSub,Mr=Ar.events,Hr="topBar";function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Gr(i.key),i)}}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zr(e);if(t){var r=Zr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}(this,n)}}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(e)}function Qr(e,t,n){return(t=Gr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gr(e){var t=function(e,t){if("object"!==Nr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Nr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nr(t)?t:String(t)}J.def(Hr,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.hamburger,r=t.title,o=t.topEllipsis,a=t.frame,l=t.slide,s=J.model;return Br.on(Mr.frameModel.LAYOUT_CHANGED,(function(e){var n=t.topBar.el,i=t.topTabs.el;!J.model.topbarHasTabs&&J.model.sidebarOpts.titleEnabled?(n.removeAttribute("aria-hidden"),i.setAttribute("aria-hidden","true")):J.model.topbarHasTabs?(n.removeAttribute("aria-hidden"),i.removeAttribute("aria-hidden")):n.setAttribute("aria-hidden","true")})),{tag:"section",noTabIndex:!0,attrs:{id:Hr,"aria-label":"top bar"},overflow:"visible",x:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="left"===t?n:0;return l.sidebarXOffset+i},y:0,w:function(){var e=s.dockSettings,t=e.dockedState,n=e.width,i="none"!==t?n:0;return a.w-(l.sidebarWidthOffset+i)},h:function(){return Rr.isMobile||l.topBarExists()?65:0},updateHook:function(){var e;this.hasAllChildren()&&(this.reducedLayout=!1,(null==r?void 0:r.w)+(null!==(e=null==o?void 0:o.w)&&void 0!==e?e:0)+(n.visible?i.w+jr:0)>this.w&&(this.reducedLayout=!0,this.titleW=this.w-((null==o?void 0:o.w)+(n.visible?i.w+jr:0))))}}}));var qr=DS,Yr=qr.detection,Xr=qr.events,$r=qr.pubSub,Jr=qr.svgUtils,eo=qr._.bindAll,to={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(o,e);var t,n,i,r=zr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Qr(Kr(n=r.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),eo(Kr(n),"onShow","onHide","onTick"),$r.on((Qr(t={},Xr.timer.SHOW,n.onShow),Qr(t,Xr.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=Yr.theme.isUnified,n}return t=o,(n=[{key:"getTimeFormat",value:function(){if(!Yr.deviceView.isClassicMobile){var e=J.model.sidebarOpts.timeFormat;if(e&&null!=to[e.toLowerCase()])return e.toLowerCase();if(!J.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;$r.off((Qr(e={},Xr.timer.SHOW,this.onShow),Qr(e,Xr.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=to[this.timeFormat](t,n),!Yr.deviceView.isClassicMobile){var i=Jr.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),Yr.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,Yr.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=Fr(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r})}}])&&Vr(t.prototype,n),i&&Vr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),io=DS.detection,ro="timer";J.def(ro,no,(function(e){var t=J.getNamespace(e),n=t.topBar,i=t.title,r=t.sidebar,o=t.hamburger,a=t.topEllipsis;return{noTabIndex:!0,attrs:{id:ro,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",visible:!1,methods:{hasUpperRightElement:function(){var e="right"===r.pos&&o.visible,t="left"===r.pos&&a.visible;return e||t}},x:function(){var e=J.model.rtl?n.w-240-(i.visible?i.w:0):n.w-230;return"right"===r.pos&&o.visible&&(e-=o.w),io.deviceView.isPhone&&(e+=4,io.orientation.isLandscape?e=window.innerWidth-this.w-5:this.hasUpperRightElement()?e-=58:e-=jr),e},y:function(){var e=Dr;return io.deviceView.isPhone&&io.orientation.isLandscape&&this.hasUpperRightElement()&&(e+=Dr),e},w:220,h:22,html:function(){return'\n        <div class="timer-wheel cs-pie" aria-hidden="true">\n          '.concat('\n          <svg\n            style="width: 18px; height: 18px; overflow: visible;"\n            width="18"\n            height="18"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            focusable="false"\n            >\n\n            <circle class="circle-progress-pie"\n              cx="9" cy="9" r="'.concat(8,'"\n              stroke-width="').concat(2,'"\n              fill="transparent" />\n\n            <path data-ref="timerPath"\n              d=""\n              class="cs-brandhighlight-fill"\n              transform="rotate(-90 9 9)"\n              stroke="none" />\n\n          </svg>\n          '),"\n        </div>\n\n        <div class=\"timer-text\" data-ref='timerText' aria-hidden=\"true\"></div>\n        <div class=\"timer-text timer-text-readeable\" data-ref='timerTextRead' tabindex='0' data-tabindex='0'></div>")}}}));var oo=function(e,t){return'\n    <div class="panel-arrow" data-ref="arrow" style="height: 17px; width: 17px; position: absolute;">\n      <div class="panel-arrow-path"\n        style="\n          height: 100%;\n          width: 100%;\n          background-color: '.concat(e,";\n          border-left: 1px solid;\n          border-top: 1px solid;\n          border-color: ").concat(t,';\n          border-top-left-radius: 3px;\n          transform: rotate(45deg);\n          "\n        />\n    </div>')};function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function lo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,po(i.key),i)}}function so(e,t){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},so(e,t)}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fo(e);if(t){var r=fo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uo(e)}(this,n)}}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}function ho(e,t,n){return(t=po(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e){var t=function(e,t){if("object"!==ao(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ao(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ao(t)?t:String(t)}var bo=DS,yo=(bo.detection,bo.events),vo=bo.pubSub,mo=bo.utils.pxify,go=Object.freeze({unknown:0,tabLinkPanel:1,topEllipsesPanel:2}),wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&so(e,t)}(o,e);var t,n,i,r=co(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ho(uo(t=r.call(this,e)),"onTabLinkPanelShown",(function(e){var n=e.view.panel.children.arrow;t.showArrowShadow(n),t.lastWidget=go.tabLinkPanel})),ho(uo(t),"onTabLinkHidePanel",(function(){t.lastWidget===go.tabLinkPanel&&t.hideArrowShadow()})),ho(uo(t),"onTopEllipsesPanelShown",(function(e){e.view.children.topEllipsisPanel;var n=e.view.children.arrow;t.showArrowShadow(n),t.lastWidget=go.topEllipsesPanel})),ho(uo(t),"onTopEllipsesHidePanel",(function(){t.lastWidget===go.topEllipsesPanel&&t.hideArrowShadow()})),ho(uo(t),"showArrowShadow",(function(e){var n=e.el;if(t.isVisible(n)){var i=DS.views.getTopNameSpace().sidebar.el.getBoundingClientRect(),r=n.getBoundingClientRect(),o=i.x>=0,a=i.x<r.x&&o?i.width:0,l=r.x-a,s=r.y+t.view.h/2+1;t.el.style.transform="translate(".concat(mo(l),", ").concat(mo(s),")"),t.el.style.display="block",t.el.getBoundingClientRect().x!==r.x&&(t.el.style.display="none")}})),ho(uo(t),"hideArrowShadow",(function(){t.el.style.display="none"})),ho(uo(t),"isVisible",(function(e){return"block"===window.getComputedStyle(e).display})),ho(uo(t),"applyPanelShadowForIE11",(function(e){e.el.style.boxShadow="0 0 40px rgba(0, 0, 0, 0.20)"})),t.lastWidget=go.unknown,vo.on(yo.tabLink.PANEL_SHOWN,t.onTabLinkPanelShown),vo.on(yo.tabLink.HIDE_PANEL,t.onTabLinkHidePanel),vo.on(yo.topEllipsesPanel.PANEL_SHOWN,t.onTopEllipsesPanelShown),vo.on(yo.topEllipsesPanel.HIDE_PANEL,t.onTopEllipsesHidePanel),t}return t=o,n&&lo(t.prototype,n),i&&lo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(rn),So="arrowShadow";function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ko(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ko(o)?o:String(o)),i)}var r,o}function Eo(){return Eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_o(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Eo.apply(this,arguments)}function Lo(e,t){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lo(e,t)}function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_o(e);if(t){var r=_o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return To(e)}(this,n)}}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_o(e)}J.def(So,wo,(function(e){var t=ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color");return{attrs:{id:So},w:17,overflow:"visible",h:17,html:oo(t,t),style:{display:"none"}}}));var jo=DS,Do=jo._,Io=jo.keyManager,Ao=jo.focusManager,Ro=jo.windowManager,Bo=jo.pubSub,Mo=jo.events,Ho=jo.detection,No=jo.globalEventHelper,Fo=No.addBodyListener,Wo=No.removeBodyListener,Vo=No.addWindowListener,Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lo(e,t)}(o,e);var t,n,i,r=Po(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Do.bindAll(To(t),"onKeydown","onResizeRefresh"),t.active=[],Bo.on(Mo.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(To(t))),DS.flagManager.localizationPlatform&&Bo.on(Mo.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(To(t))),Ho.theme.isUnified&&(t.removeResize=Vo("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),Bo.trigger(Mo.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&Bo.trigger(Mo.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=J.model&&0!==this.view.children.length){var n=(J.model.sidebarTabs||[]).reduce((function(n,i){var r=i.name,o=e[r],a="".concat(r,"Tab");return(Do.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var i=Oo(n,1)[0];this.currentTab=i}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var r=Ro.getCurrentWindow();null!=r&&null!=r.getId&&"_frame"!==r.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),Fo("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Eo(_o(o.prototype),"onBlur",this).call(this),Wo("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Io.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Io.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Io.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Io.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Io.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(Do.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=Do.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,i=t.y,r=t.w,o=t.h;Ao.setFocusRectOn(e.el,{left:n,top:i,width:r,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){Bo.off(Mo.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&xo(t.prototype,n),i&&xo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function Ko(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==zo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==zo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===zo(o)?o:String(o)),i)}var r,o}function Zo(e,t){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zo(e,t)}function Qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go(e);if(t){var r=Go(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}var qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}(o,e);var t,n,i,r=Qo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).searchEnabled=J.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var i in n)n[i].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=J.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&Ko(t.prototype,n),i&&Ko(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Xo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ia(i.key),i)}}function $o(){return $o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=na(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},$o.apply(this,arguments)}function Jo(e,t){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jo(e,t)}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=na(e);if(t){var r=na(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ta(e)}(this,n)}}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}function ia(e){var t=function(e,t){if("object"!==Yo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yo(t)?t:String(t)}var ra=DS,oa=ra.TweenLite,aa=ra.dom,la=ra._,sa=ra.events,ca=ra.pubSub,ua=ra.utils.pxify,fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jo(e,t)}(o,e);var t,n,i,r=ea(o);function o(e){var t,n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=ta(t),a="search_toggle",(i=ia(i="tooltipKey"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,la.bindAll(ta(t),"onToggleSearchInput","hideSlider"),t.nameSpace=J.getCurrentNameSpace();var l=t.nameSpace.sidebar.children;return t.tabSelectedSlider=l.tabSelectedSlider.el,t.sliderMask=l.sliderMask.el,t.updateSliderLayout(),t}return t=o,n=[{key:"hasTooltip",get:function(){return"searchTab"===this.view.nameKey}},{key:"updateSliderLayout",value:function(){var e=this;if(aa.hasClass(this.el,"cs-selected")){var t=this.nameSpace.tabs,n=Math.floor(t.y+t.h);this.sliderMask.style.height=ua(n),window.requestAnimationFrame((function(){oa.set(e.tabSelectedSlider,{x:e.view.x,y:n-1,width:e.view.w||0}),e.hideSlider()}))}}},{key:"onToggleSearchInput",value:function(e){o.showingSearch||(ca.trigger(sa.sidebar.SHOW_SEARCH),this.view.parent.children.outlineTab.viewLogic.showPanel()),this.view.el.setAttribute("aria-expanded",!o.showingSearch)}},{key:"didChangeVisibility",value:function(e){$o(na(o.prototype),"didChangeVisibility",this).call(this,e),this.tabSelectedSlider.style.opacity=0}},{key:"hideSlider",value:function(){this.tabSelectedSlider.style.display="none",aa.addClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.opacity=1}},{key:"showSlider",value:function(){var e=document.querySelector(".selected-animation-done");null!=e&&aa.removeClass(e,"selected-animation-done"),aa.removeClass(this.el,"selected-animation-done"),this.tabSelectedSlider.style.display="block"}},{key:"animateSlider",value:function(){this.showSlider(),oa.to(this.tabSelectedSlider,.25,{x:this.view.x,width:this.view.w||0,onComplete:this.hideSlider})}},{key:"showPanel",value:function(e){"searchTab"!==this.view.nameKey?($o(na(o.prototype),"showPanel",this).call(this,e),this.animateSlider(),o.showingSearch=!1):(this.onToggleSearchInput(),o.showingSearch=!0)}},{key:"isLive",value:function(){return $o(na(o.prototype),"isLive",this).call(this)||"searchTab"===this.view.nameKey}},{key:"getViewBox",value:function(){var e=this.view.getBox();return e.h-=20,e}}],n&&Xo(t.prototype,n),i&&Xo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(qo),da=fa,ha=DS,pa=ha._,ba=ha.scaler,ya=ha.utils.getPath,va=ha.dom,ma=ha.constants.refs.FRAME,ga="tabs",wa=(J.def(ga,Uo,(function(e){var t=J.model,n=J.getNamespace(e),i=n.sidebar,r=n.logo,o=t.frame.controlOptions.controls.search&&t.outlineInSidebar;return{ariaStringId:"sidebar-tabs",attrs:{id:ga,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs",class:"tabs"},overflow:"visible",x:0,y:function(){return r?r.bottom():0},w:function(){return i.data.actualWidth()},minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=i.childScale)&&void 0!==e?e:1)},updateHook:function(){var e=this.w-13,n=this.children.length,i=e/n,r={startPos:13,pad:7};t.rtl&&(r.toLeft=!0,r.startPos=e),this.flowChildren(r);for(var a=0,l=0;l<n;l++)a+=this.children[l].lastWidthByText;o?t.rtl||(a+=33):e-=50;var s,c=a>e;c?va.addClass(this.el,"overflow-tabs"):va.removeClass(this.el,"overflow-tabs");for(var u=0;u<n;u++)s=this.children[u],o&&u===n-1?(s.x=t.rtl?jr:e-s.lastWidthByText,s.update()):s.width=c?Math.min(s.lastWidthByText,i-3):s.lastWidthByText},childDef:function(){wa(J.model,i,o)},methods:{updateDomStrings:function(){var e=this;requestAnimationFrame((function(){e.updateHook()}))}}}})),function(e,t,n){var i=!1,r=ya(e,"sidebarTabs",[]);e.outlineInSidebar&&n&&!r.some((function(e){return"search"===e.name}))&&r.push({name:"search",idx:r.length-1,isIcon:!0,properties:{}}),r.forEach((function(n,r){var o=function(e,t,n,i,r){var o=t.name,a=e.getString("search"===o?"search_toggle":o),l=e.currControlLayout[o],s=!r&&(pa.isObject(l)?l.enabled:l),c=o+"Tab",u=null!=Uo.lastSelectedTab?Uo.lastSelectedTab.nameKey===c:s,f=J.def(c,da,{model:Object.assign(t,{idx:i}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(u?"cs-selected":""),role:"tab","aria-selected":u?"true":"false","aria-label":a,"aria-controls":"".concat(o,"-panel"),tabindex:0===i?0:-1,"aria-expanded":"search"!==o&&null},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText},noUpdate:!0,minH:35,maxH:65,h:function(){var e;return this.minH+(this.maxH-this.minH)*(null!==(e=n.childScale)&&void 0!==e?e:1)},html:function(){return t.isIcon?lr(o)()+J.iconTextEl(o):a},updateHook:function(){f.viewLogic.updateSliderLayout(),this.lastWidthByText<=10&&this.doTextCalcs()},methods:{doTextCalcs:function(){var e=1/ba.getScale(),t=this.content.style.width;DS.flagManager.localizationPlatform&&(this.content.style.width="fit-content");var n=this.content.scrollWidth*e,i=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t),this.lastWidthByText=n+4+this.padLeft+this.padRight,this.lastHeightByText=i+4},updateStrings:function(){var n=t.name,i="search"===n?"search_toggle":n;this.el.setAttribute("aria-label",e.getString(i)),t.isIcon||(this.content.textContent=e.getString(i)),this.doTextCalcs()}}});return f.init(),J.getNamespace(ma).tabs.append(f),u}(e,n,t,r,i);i=o||i}))});function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function ka(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Sa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Sa(o)?o:String(o)),i)}var r,o}function Oa(){return Oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=La(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Oa.apply(this,arguments)}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ca(e,t)}function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=La(e);if(t){var r=La(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Sa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}(this,n)}}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function La(e){return La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},La(e)}var Pa=DS,Ta=Pa._,_a=Pa.pubSub,ja=Pa.detection,Da=Pa.globalEventHelper,Ia=(Da.addDocumentListener,Da.removeDocumentListener,Pa.keyManager.isTabKey,Pa.playerGlobals),Aa=Pa.utils,Ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}(o,e);var t,n,i,r=xa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ta.bindAll(Ea(t),"onShow"),_a.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Ta.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!Ia.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=Aa.getPath(this,this.view.lnk);ja.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(Oa(La(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else ja.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(Oa(La(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Ta.camelCase(e.id)!==this.view.lnk.nameKey&&Ta.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,i=this.getFirstChild();for(var r in n)r.indexOf("Panel")>-1&&n[r].viewLogic.onHide();this.el.style.display="block",null!=i.onPanelVisible&&i.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){_a.off(DS.events.tab.SHOW,this.onShow)}}])&&ka(t.prototype,n),i&&ka(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function Ba(e){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ba(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ba(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ba(o)?o:String(o)),i)}var r,o}function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function Na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fa(e);if(t){var r=Fa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}var Wa=DS.detection,Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(o,e);var t,n,i,r=Na(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var i=t.viewLogic.searchInputEl;Wa.deviceView.isUnifiedMobile?(i.style.pointerEvents="none",setTimeout((function(){i.style.pointerEvents="all"}),100)):i.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&Ma(t.prototype,n),i&&Ma(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Ua=Va;function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==za(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==za(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===za(o)?o:String(o)),i)}var r,o}function Ga(e,t){return Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ga(e,t)}function qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xa(e);if(t){var r=Xa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ya(e)}(this,n)}}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xa(e)}var $a=DS,Ja=$a.pubSub,el=$a.events,tl=$a.TweenLite,nl=$a.focusManager,il=$a._.bindAll,rl=$a.dom.addClass,ol=$a.detection,al=!1,ll=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ga(e,t)}(o,e);var t,n,i,r=qa(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(Ya(t))),ol.deviceView.isMobile&&(il(Ya(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(Ya(t))),Ja.on(el.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){Ja.off(el.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),Ja.off(el.controlOptions.RESET,this.onControlOptionsReset,this),al=!1}},{key:"ensureEventSubscriptions",value:function(){al||(Ja.on(el.controlOptions.RESET,this.onControlOptionsReset,this),al=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),rl(document.body,"tab-shown")}},{key:"onFocus",value:function(e){nl.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,i=n.bottomDiv,r=n.searchStatus,o=document.querySelector("#outline-content ul");tl.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,tl.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),i.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=Ka(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),s=l[0],c=l[1],u=DS.stringTabler.getString(s,{count:a,term:this.searchInputEl.value},c);r.el.textContent=u,rl(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Qa(t.prototype,n),i&&Qa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),sl=ll;function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}function ul(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==cl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==cl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===cl(o)?o:String(o)),i)}var r,o}function fl(){return fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},fl.apply(this,arguments)}function dl(e,t){return dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dl(e,t)}function hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bl(e);if(t){var r=bl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===cl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pl(e)}(this,n)}}function pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bl(e)}var yl=DS,vl=yl.pubSub,ml=yl.events,gl=yl.TweenLite,wl=yl._.bindAll,Sl=yl.dom,kl=Sl.addClass,Ol=Sl.removeClass,Cl=yl.focusManager,xl=yl.detection,El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dl(e,t)}(o,e);var t,n,i,r=hl(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),wl(pl(t),"onShowSearch","onHideSearch","onFocus"),t.nameSpace=J.getCurrentNameSpace(),t.toggle=!1,vl.on(ml.sidebar.SHOW_SEARCH,t.onShowSearch),vl.on(ml.sidebar.HIDE_SEARCH,t.onHideSearch),t.searchInput=t.view.children.searchForm.el,t.searchInput.style.display="none",t.searchInput.style.opacity=0,J.model.outlineInSidebar||(t.toggle=!0,t.searchInput.style.opacity=1,t.searchInput.style.display="block",t.el.classList.add("toplink-search"));return t.searchInputField=t.view.children.searchInput.el,t.searchInputField.addEventListener("input",t.onSearchTermChanged.bind(pl(t))),xl.browser.isWebKit||t.searchInputField.addEventListener("keydown",(function(e){27===e.keyCode&&t.clearSearch()})),t.onClickEl(t.clearEl,(function(e){t.onFocus(e),t.clearSearch(),t.searchInputField.focus()})),t}return t=o,n=[{key:"onShowSearch",value:function(e){var t=this;this.toggle||(this.toggle=!0,this.view.update(),this.view.parent.children.outline.update(),this.searchInput.style.display="block",gl.to(this.searchInput,.2,{opacity:1,delay:.2,onComplete:function(){t.searchInputField.focus()}}),kl(document.body,"search-input-shown"))}},{key:"onHideSearch",value:function(e){var t=this;this.toggle=!1,this.view.update(),gl.to(this.searchInput,.2,{opacity:0,delay:0,onComplete:function(){t.view.parent.children.outline.update(),da.showingSearch=!1,t.searchInput.style.display="none"}}),Ol(document.body,"search-input-shown")}},{key:"onFocus",value:function(e){Cl.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){var t=this.view.parent.children.searchResults;J.model.outlineInSidebar&&!t.visible&&this.onHideSearch()}},{key:"onSearch",value:function(e){this.isSearchFieldEmpty()?e.preventDefault():(fl(bl(o.prototype),"onSearch",this).call(this,e),Ol(this.clearEl,"hidden"),vl.trigger(ml.search.UPDATE_PANEL))}},{key:"onSearchTermChanged",value:function(){this.isSearchFieldEmpty()&&this.clearSearch()}},{key:"clearSearch",value:function(){kl(this.clearEl,"hidden"),vl.trigger(ml.search.CLEAR)}},{key:"isSearchFieldEmpty",value:function(){var e=this.searchInputEl.value;return null==e||""===e}}],n&&ul(t.prototype,n),i&&ul(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(sl),Ll=El,Pl="search",Tl=J.def(Pl,Ll,(function(){var e=J.model;return{ariaStringId:"acc_search_input",attrs:{class:Pl,"aria-label":e.getString("acc_search_input"),role:"search",tabIndex:-1},z:3,x:0,y:0,w:"100%",h:function(){return this.viewLogic.toggle?65:0},html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input tabindex="0" class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(e.getString("search"),'">\n        </form>\n        <div data-ref="clear" class="search-clear hidden">\n          <button class="btn cs-button">\n            <span data-ref="searchClearLabel" class="search-clear-close" aria-label="').concat(e.getString("close"),'">').concat(lr("searchClear")(),'</span>\n          </button>\n        </div>\n        <div class="search-result-status" data-ref="searchStatus" aria-live="polite" role="status"></div>\n      </div>')},methods:{updateDomStrings:function(){this.viewLogic.searchInputEl.setAttribute("placeholder",e.getString("search")),this.viewLogic.searchClearLabelEl.setAttribute("aria-label",e.getString("close"))}},updateHook:function(){this.viewLogic.ensureEventSubscriptions()}}}));function _l(e){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(e)}function jl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==_l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===_l(o)?o:String(o)),i)}var r,o}function Dl(){return Dl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Dl.apply(this,arguments)}function Il(e,t){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Il(e,t)}function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Bl(e);if(t){var r=Bl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rl(e)}(this,n)}}function Rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bl(e)}var Ml=DS,Hl=Ml.focusManager,Nl=Ml.keyManager,Fl=Ml.detection,Wl=Ml.globalEventHelper,Vl=Wl.addDocumentListener,Ul=Wl.removeDocumentListener,zl=(Ml.utils.getPath,Ml.dom),Kl=zl.parentNodesOf,Zl=zl.addClass,Ql=zl.removeClass,Gl=Ml._,ql=Gl.first,Yl=Gl.last,Xl=Gl.bindAll,$l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Il(e,t)}(o,e);var t,n,i,r=Al(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Xl(Rl(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;Fl.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||ql(this.getItems()),Zl(this.currentItem,"hover"),Nl.isShowFocus&&this.centerOnFocused(),Hl.setFocusRectOn(this.getFocusRectTarget()),Vl("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(Dl(Bl(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(Ql(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),Ul("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;Nl.isActionKey(e.which)?(this.activateItem(e),Nl.isSpaceKey(e.which)&&e.preventDefault()):Nl.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):Nl.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):Nl.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Nl.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,Ql(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Zl(this.currentItem,"hover"),this.currentItem.focus()),Hl.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Yl(this.getItems())}},{key:"getFirstItem",value:function(){return ql(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return Kl(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&jl(t.prototype,n),i&&jl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function es(e){return function(e){if(Array.isArray(e))return is(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ns(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||ns(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){if(e){if("string"==typeof e)return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?is(e,t):void 0}}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rs(e,t){return rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rs(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ls(e);if(t){var r=ls(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return as(e)}(this,n)}}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ls(e)}function ss(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Jl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Jl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Jl(o)?o:String(o)),i)}var r,o}function cs(e,t,n){return t&&ss(e.prototype,t),n&&ss(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var fs=function(e){return n(e.slideid)},ds=DS,hs=ds.windowManager,ps=ds.focusManager,bs=ds.TweenLite,ys=ds.events,vs=ds.pubSub,ms=ds.keyManager,gs=ds.resolver,ws=ds.dom,Ss=(ws.hasClass,ws.removeClass),ks=ws.addClass,Os=ws.getParentWithClass,Cs=ds._,xs=Cs.bindAll,Es=(Cs.first,ds.utils),Ls=Es.stripTags,Ps=(Es.stripPlayer,Es.prefixWithPlayer),Ts=ds.globalEventHelper,_s=Ts.addDocumentListener,js=(Ts.removeDocumentListener,ds.detection),Ds=js.theme,Is=js.os,As=cs((function e(t,n,i){us(this,e),this.slideId=t,this.title=n,this.text=i})),Rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rs(e,t)}(n,e);var t=os(n);function n(e){var i;us(this,n),i=t.call(this,e),xs(as(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=J.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new As(Ps(e.slideId),DS.utils.getPath(gs.resolvePath(e.slideId,DS.presentation),"title"),Ls(e.content).trim())})),i.slideTextData=J.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new As(Ps(e.slideid),DS.utils.getPath(gs.resolvePath(e.slideid,DS.presentation),"title"),Ls(e.Text).trim())})),i.menuOptions=J.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=J.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&vs.on(ys.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),vs.on(ys.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),vs.on(ys.window.MAIN_CHANGED,i.onSlideChanged),i}return cs(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=gs.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new As(n.absoluteId,n.title(),Ls(t.Text))),e}),[])}},{key:"teardown",value:function(){vs.off(ys.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&vs.off(ys.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&Ss(t,"cs-selected"),null!=n&&(ks(n,"cs-selected"),ks(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return ps.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return ps.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!Ds.isUnified||ms.isShowFocus)){var n=ts(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),_s("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=Os(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(ks(t,"cs-viewed"),this.updateAriaLabel(t),vs.trigger(ys.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){Ds.isUnified&&es(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];fs(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=hs.getCurrentWindow().getCurrentSlide().absoluteId===e||gs.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return J.model.getString("acc_visited");case"locked":return"".concat(J.model.getString("acc_visited"),", ").concat(J.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return J.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=J.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);Is.isIOS;var o=this.wrapListItems?"":"no-wrap",a=hs.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=gs.resolvePath(n).viewed?"cs-viewed":"",c=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");Ds.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(J.model.getString("acc_visited"),'">\n               ').concat(lr("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(J.model.getString("acc_locked"),'">\n               ').concat(lr("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(J.model.getString("acc_visited"),", ").concat(J.model.getString("acc_locked"),'">\n               ').concat(lr("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),bs.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){bs.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,ms.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",Ss(document.body,"search-results-active"),vs.trigger(ys.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||es(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}($l),Bs=Rs,Ms="searchResults",Hs=J.def(Ms,Bs,(function(e){var t=J.model,n=t.rtl?"rtl":"";return{attrs:{id:Ms+"-content",class:"cs-menu cs-panel panel ".concat(n),tabindex:-1},z:2,x:0,y:65,w:"100%",overflow:"scroll",h:function(){return this.parent.h-65-2},visible:!1,html:'\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              '.concat(t.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span data-ref="searchFilterLabel">').concat(t.getString("filter"),"</span>\n              ").concat(lr("filter")(),'\n            </button>\n          </span>\n\n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p data-ref="searchOptionsLabel">').concat(t.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span data-ref="notesCheckLabel">').concat(t.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span data-ref="slideCheckLabel">').concat(t.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="-1" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n      </span>\n    '),methods:{updateDomStrings:function(){this.viewLogic.titleEl.textContent=t.getString("search_results"),this.viewLogic.searchFilterLabelEl.textContent=t.getString("filter"),this.viewLogic.searchOptionsLabelEl.textContent=t.getString("search_in"),this.viewLogic.notesCheckLabelEl.textContent=t.getString("transcript_chk"),this.viewLogic.slideCheckLabelEl.textContent=t.getString("slide_text_chk")}}}}));function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}function Fs(e){return function(e){if(Array.isArray(e))return Ws(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ws(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ns(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ns(o)?o:String(o)),i)}var r,o}function Us(){return Us="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qs(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Us.apply(this,arguments)}function zs(e,t){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zs(e,t)}function Ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qs(e);if(t){var r=Qs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zs(e)}(this,n)}}function Zs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qs(e)}var Gs,qs,Ys,Xs=DS,$s=Xs.detection,Js=Xs.pubSub,ec=Xs._,tc=Xs.events,nc=Xs.keyManager,ic=Xs.resolver,rc=Xs.windowManager,oc=Xs.utils.prefixWithPlayer,ac=Xs.focusManager.setFocusRectOn,lc=Xs.globalEventHelper.addDocumentListener,sc=Xs.dom,cc=sc.parentNodesOf,uc=sc.getParentWithClass,fc=sc.hasClass,dc=sc.addClass,hc=sc.removeClass,pc=function(e){return cc(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},bc=function(e){return pc(e).slice(1).some((function(e){return fc(e,"item-collapsed")}))},yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zs(e,t)}(a,e);var t,i,r,o=Ks(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),ec.bindAll(Zs(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=J.model.frame.controlOptions.menuOptions,Js.once(tc.resume.SET_DATA,t.updateVisitedSlides),Js.on(tc.window.MAIN_CHANGED,t.onSlideChanged),Js.on(tc.mobile.OUTLINE_SHOWN,t.centerOnFocused),Js.on(tc.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=ec.flow(lc("mousedown",t.mouseDown),lc("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=J.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&Js.on(tc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Zs(t))),Js.on(tc.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&dc(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return t=a,i=[{key:"teardown",value:function(){Js.off(tc.window.MAIN_CHANGED,this.onSlideChanged),Js.off(tc.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&$s.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&Us(Qs(a.prototype),"onFocus",e).call(e)}),500):Us(Qs(a.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if($s.theme.isUnified){var n=uc(e.target,"listitem");fc(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&fc(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!fc(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&($s.theme.isUnified?e.updateViewedState(n.el):dc(n.el,"cs-viewed"))})),$s.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){var i=Array.from(e.parentNode.querySelectorAll("div")).slice(n);i.length&&i.every((function(e){return fc(e,"cs-viewed")}))&&(dc(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while(bc(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while(bc(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,i;n=e.collection.models.map((function(e){return e.absoluteId})),i=Fs(this.visitedSlides),n.every((function(e){return i.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||uc(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var r,o=e.getScene().absoluteId,a=null===(r=this.view.children[o])||void 0===r?void 0:r.el;if(null==a)return;var l=pc(a)[0];if(null!=l&&!fc(l,"item-collapsible")){var s=this.el.querySelector(".cs-selected");null!=s&&hc(s,"cs-selected"),dc(a,"cs-selected")}this.isSceneCompleted(o)&&dc(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),cc(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(hc(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return cc(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||fc(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=fc(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),$s.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!fc(e,"is-promoted-slide")&&!fc(e,"is-scene")}));i.some((function(e){return fc(e,"cs-viewed")}))&&hc(t,"cs-unvisited"),i.every((function(e){return fc(e,"cs-viewed")}))&&dc(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}Js.trigger(tc.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,i=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),r=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(i.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=r+" "+t,!0}return!1}))||(o.textContent=r))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=uc(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if($s.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,hc(this.currentItem,"hover")),this.currentItem=e,r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(dc(t,"cs-viewed"),n.updateAriaLabel(t))}))),fc(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected"),a=pc(e).pop();fc(e,"is-scene")&&fc(a,"item-collapsible")||(null!=o&&(hc(o,"cs-selected"),this.updateAriaLabel(o)),dc(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(r&&!t){var l=rc.getCurrentWindowSlide().absoluteId;i!=l&&(Js.trigger(tc.request.NEXT_SLIDE,i),$s.theme.isUnified&&Js.trigger(tc.topEllipsesPanel.HIDE)),$s.deviceView.isMobile&&(Js.trigger(tc.tab.HIDE),($s.deviceView.isPhone||$s.theme.isClassic)&&Js.trigger(tc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&ac(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,t){var i=e.getAttribute("data-ref"),r=null!=i,o=n(i);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,hc(this.currentItem,"hover")),this.currentItem=e,(o||fc(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&dc(t,"cs-viewed")}))),fc(e,"listitem")){dc(e,"cs-viewed");var a=this.el.querySelector(".cs-selected");null!=a&&hc(a,"cs-selected"),dc(e,"cs-selected")}else this.onCarrotClick(e);if(r&&!t){var l=rc.getCurrentWindowSlide().absoluteId;i!=l&&(Js.trigger(tc.request.NEXT_SLIDE,i),$s.theme.isUnified&&Js.trigger(tc.topEllipsesPanel.HIDE)),$s.deviceView.isMobile&&(Js.trigger(tc.tab.HIDE),($s.deviceView.isPhone||$s.theme.isClassic)&&Js.trigger(tc.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&ac(this.currentItem)}else fc(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){dc(e,"cs-viewed");var t=pc(e).pop();if(null!=t){if(!fc(e,"is-scene")||!fc(t,"item-collapsible")){var n=t.querySelector("div.listitem");hc(n,"cs-unvisited")}fc(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&dc(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&fc(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(nc.isActionKey(e.which))this.activateItem(),nc.isSpaceKey(e.which)&&e.preventDefault();else if(nc.isRightKey(e.which)&&t.dataset.hasLinks)fc(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(nc.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(nc.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(nc.isLeftKey(e.which))if(t.dataset.hasLinks&&!fc(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=uc(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else nc.isHomeKey(e.which)?this.currentItem=this.getFirstItem():nc.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),hc(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,dc(this.currentItem,"hover"),this.currentItem.parentNode.focus()),ac(this.currentItem)}},{key:"hasListItems",value:function(){return!ec.isEmpty(J.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||Fs(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return $s.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return $s.deviceView.isMobile?ec.first(cc(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:Us(Qs(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;$s.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),Us(Qs(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=ic.resolvePath(oc(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat(Fs(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(tc.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],i&&Vs(t.prototype,i),r&&Vs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}($l),vc=yc,mc="rtl",gc=function(){return J.model.rtl?mc:""},wc=function(e){J.model.rtl&&!e.contains(mc)?e.add(mc):!J.model.rtl&&e.contains(mc)&&e.remove(mc)},Sc=DS.detection,kc="outline",Oc=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},Cc=function(){var e=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");if(null==Gs||Ys!==!!J.model.rtl||qs!==e){var t=ge.getColor(DS.constants.refs.FRAME,".cs-tabs.cs-selected","color");Gs=".item-collapsible:not(.item-collapsed) .is-scene {\n      color: ".concat(t," !important;\n    }\n  \n    .is-scene:not(.item-collapsed) .cs-icon-carrot * {\n      fill: ").concat(t," !important;\n    }"),Ys=!!J.model.rtl,qs=e;var n=window.btoa("\n      <svg xmlns='http://www.w3.org/2000/svg' version='1.1'\n            width='6px' height='40px' viewBox='0 0 6 40' preserveAspectRatio='none'>\n        <g stroke='none' fill='".concat(qs,"'>\n          <polygon points='0 0 6 0 6 20 6 40 0 40'></polygon>\n        </g>\n      </svg>"));Gs+="\n      .cs-listitem.cs-selected {\n        background-position: ".concat(Ys?"right":"left",' top !important;\n        background-repeat: no-repeat !important;\n        background-size: 6px 100% !important;\n        background-image: url("data:image/svg+xml;base64,').concat(n,'") !important;    \n      }')}return Gs},xc=J.def(kc,vc,(function(){var e=J.model;return{tag:"nav",attrs:{id:kc+"-content",class:"is-scrollable cs-outline ".concat(gc()),tabindex:-1,"aria-label":e.getString("outline_container")},y:function(){return null!=this.parent.children.search?this.parent.children.search.h:0},w:"100%",h:function(){return this.parent.h-(null!=this.parent.children.search?this.parent.children.search.h:0)},overflow:"auto",draws:[],html:function(){var t=this,i={},r=0;DS.flagManager.localizationPlatform&&this.el.querySelectorAll("[data-collapsible-id]").forEach((function(e){var t=e.dataset.collapsibleId;i[t]=!e.classList.contains("item-collapsed")}));var o=e.frame.navData.outline.links||[],a=e.frame.controlOptions.menuOptions,l=a.wrapListItems,s=a.autonumber,c=a.tooltips,u=a.flow;this.el.depth=0;var f=this.el;return f.innerHTML="\n      <style id='sceneStyle'>\n        ".concat(Cc(),"\n      </style>\n      "),function o(a,f,d){var h=document.createElement("ul");h.depth=f.depth+1,h.tabIndex=-1,null!=d?h.setAttribute("role","group"):(h.setAttribute("aria-label",e.getString("outline")),h.setAttribute("role","tree")),f.appendChild(h);for(var p=0;p<a.length;p++){var b=document.createElement("li"),y=a[p];y.parent=d,y.index=p,b.depth=h.depth,b.tabIndex=1===b.depth&&0===p?0:-1,b.setAttribute("role","treeitem"),h.appendChild(b);var v=null!=y.links,m=15*b.depth+19,g=y.slideid||y.emptySceneId;null==g&&t.draws.push({link:y,links:a,i:p});var w=n(g),S=e.rtl,k="free"===u||v&&y.expand?"":e.getString("acc_locked"),O=s?"".concat(Oc(y)," "):"",C=DS.flagManager.localizationPlatform&&a[p].translationId,x='\n              <div \n                class="cs-listitem listitem '.concat(w?"is-scene cs-unvisited":""," ").concat(l?"":"no-wrap"," ").concat("free"!==u&&"cs-"+u," ").concat(!w&&v?"is-promoted-slide":"",'"\n                style="padding-').concat(S?"right":"left",": ").concat(m,'px;"\n                data-ref="').concat(g,'"\n                ').concat(C?'data-translation-id="'.concat(C,'"'):"",'\n                data-slide-title="').concat(O).concat(a[p].displaytext,'"\n                ').concat(w?'data-is-scene="true"':"","\n                ").concat(v?'data-has-links="true"':"",'\n                title="').concat(c?y.displaytext:"",'"\n                tabIndex="-1"\n                role = "none">\n                <span style="position: absolute; opacity: 0;">').concat(O).concat(y.displaytext," ").concat(k,"</span>\n\n                ").concat(v?lr("carrot")("".concat(S?-1:1,"px")):"",'\n                <span class="linkText" aria-hidden="true">\n                  ').concat(O).concat(y.displaytext,'\n                </span>\n                <span class="outline-states" aria-hidden="true">\n                  <span class="visitedIcon" aria-label="').concat(e.getString("acc_visited"),'">\n                    ').concat(lr("checkmark")(),'\n                  </span>\n                  <span class="lockedIcon" aria-label="').concat(e.getString("acc_locked"),'">\n                    ').concat(lr("lock")(),'\n                  </span>\n                  <span class="lockedViewedIcon" aria-label="').concat(e.getString("acc_visited"),", ").concat(e.getString("acc_locked"),'">\n                    ').concat(lr("lockedViewed")(),"\n                  </span>\n                </span>\n              </div>\n            ");b.innerHTML=x,v&&(DS.flagManager.localizationPlatform&&b.setAttribute("data-collapsible-id",r),b.setAttribute("aria-expanded",y.expand),b.classList.add("item-collapsible"),null!=i[r]?i[r]||b.classList.add("item-collapsed"):y.expand||b.classList.add("item-collapsed"),o(y.links,b,y),r++)}}(o,f),f.innerHTML},updateHook:function(){var e=document.getElementById("sceneStyle");if(Sc.browser.isIE){var t=document.createElement("style");t.setAttribute("id","dynamicStyle"),t.setAttribute("type","text/css"),t.cssText=Cc(),document.head.querySelector("#dynamicStyle")||document.head.appendChild(t)}else null!=e&&(e.innerText=Cc());wc(this.el.classList)}}}));function Ec(e){return function(e){if(Array.isArray(e))return Lc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pc="outlineSearch",Tc=J.def(Pc,Ua,(function(){var e=J.model,t=e.frame,n=e.outlineInSidebar,i=DS.presentation,r=t.controlOptions.controls.search||i.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(Pc,"-content"),class:"outline-search ".concat(gc()),tabindex:-1},w:function(){var e=this.parent.childWidth||this.parent.w;return e-2},h:function(){return this.parent.h-2},updateHook:function(){wc(this.el.classList)},overflow:n?"hidden":"visible",model:t,childViews:[].concat(Ec(r?[Tl,Hs]:[]),[xc])}}));function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function jc(e){return function(e){if(Array.isArray(e))return Dc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ic(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hc(i.key),i)}}function Ac(e,t){return Ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ac(e,t)}function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Mc(e);if(t){var r=Mc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bc(e)}(this,n)}}function Bc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mc(e)}function Hc(e){var t=function(e,t){if("object"!==_c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_c(t)?t:String(t)}var Nc=DS,Fc=(Nc._,Nc.focusManager),Wc=Nc.detection,Vc=Nc.pubSub,Uc=Nc.events,zc=Nc.dom,Kc=zc.addClass,Zc=zc.removeClass,Qc=(Nc.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ac(e,t)}(o,e);var t,n,i,r=Rc(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Bc(t),a=void 0,(i=Hc(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=Wc.deviceView.isDesktop&&!t.view.isUnified,Vc.on(Uc.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Vc.on(Uc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Bc(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||jc(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){Kc(e,"cs-selected"),e.nextElementSibling.style.display="block",Kc(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;Zc(e,"cs-selected"),Zc(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",Fc.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=jc(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Ic(t.prototype,n),i&&Ic(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}($l));function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function qc(e){return function(e){if(Array.isArray(e))return Yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Gc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Gc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Gc(o)?o:String(o)),i)}var r,o}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$c(e,t)}function Jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tu(e);if(t){var r=tu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Gc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,n)}}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}var nu=DS,iu=(nu.detection,nu.pubSub),ru=nu.events,ou=nu.keyManager.isSpaceKey,au=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}(o,e);var t,n,i,r=Jc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),iu.on(ru.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&iu.on(ru.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(eu(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||qc(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){ou(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Xc(t.prototype,n),i&&Xc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Qc);function lu(e){return function(e){if(Array.isArray(e))return su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return su(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cu=DS.utils,uu=cu.pxify,fu=cu.getPath,du="resources",hu=["xls","pdf","doc","ppt","rtf","zip","link","file"],pu={docx:"doc",pptx:"ppt",xlsx:"xls"},bu=J.def(du,au,(function(e){var t=J.model.frame,n=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme").replace(/\).*/,")");return{attrs:{id:"".concat(du,"-content"),class:"cs-resource ".concat(gc()," resources"),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.h-2},overflow:"",model:t,html:function(){return'\n      <div class="resources-content scrolling-panel panel-content">\n        <ul class="resources-list" role="menu">\n          '.concat(fu(t,"resourceData.resources",[]).reduce((function(e,t,i){var r=function(e){var t=e.url,n=t.includes("http")?"link":t.split(".").pop().toLowerCase();return pu[n]&&(n=pu[n]),hu.includes(n)?n:"file"}(t),o="href=\"javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })\""),a=DS.flagManager.localizationPlatform&&t.translationId;return"".concat(e,'\n              <li class="cs-listitem resource" tabIndex="-1">\n                <a ').concat(o,' \n                  data-url="').concat(t.url,'" \n                  tabindex="').concat(0===i?0:-1,'" \n                  role="menuitem" \n                  ').concat(a?'data-translation-id="'.concat(a,'"'):"",'\n                >\n                  <div class="file-icon resource-ext-').concat(r,'">\n                    ').concat(lr("link"===r?"link":"file")(n),'\n                    <div class="file-icon-text">\n                    ').concat(r,'\n                    </div>\n                  </div>\n                  <div class="file-name">').concat(t.title,"</div>\n                </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){wc(this.el.classList)},methods:{onPanelVisible:function(){lu(this.el.querySelectorAll(".resource")).forEach((function(e){var t=e.querySelector(".file-name").scrollHeight;e.clientHeight<t&&(e.style.height=uu(t+8))}))}}}})),yu=DS,vu=yu.slideObjectUtils,mu=yu.utils.getPath,gu=yu.constants,wu="glossary",Su=J.def(wu,Qc,(function(){var e=J.model;return vu.activeMobileMenuItem(e.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(wu,"-content"),class:"".concat(gc()," cs-glossary"),tabindex:-1},w:"100%",h:function(){return this.parent.h-2},model:e,isUnified:!0,html:function(){return'\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <dl>\n        '.concat(mu(e,"frame.glossaryData",[]).map((function(e,t){var n="glossary-def-".concat(t),i=DS.flagManager.localizationPlatform&&e.translationId;return'\n              <dt \n                class="cs-heading glossary-item glossary-term term"  \n                tabindex="'.concat(0===t?0:-1,'" \n                aria-describedby="').concat(n,'"\n                ').concat(i?'data-translation-id="'.concat(i,'.Term"'):"","\n              >\n                ").concat(e.title,'\n              </dt>\n              <dd \n                id="').concat(n,'" \n                class="glossary-item glossary-desc" \n                tabindex="-1"\n                ').concat(i?'data-translation-id="'.concat(i,'.Definition"'):"","\n              >\n                ").concat(e.content.toString().split(gu.LINE_BREAK_REGEX).map((function(e){return"<p class=".concat(0===e.length?"empty-p":"",">").concat(e,"</p>")})).join(""),"\n              </dd>\n            ")})).join(""),"\n        </dl>\n      </div>")},updateHook:function(){wc(this.el.classList)}}}));function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Ou(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ku(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ku(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ku(o)?o:String(o)),i)}var r,o}function Cu(e,t){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cu(e,t)}function xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lu(e);if(t){var r=Lu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ku(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}(this,n)}}function Eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lu(e){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lu(e)}var Pu=/color:#ffffff/gi,Tu=DS,_u=Tu.detection,ju=Tu.events,Du=Tu.focusManager,Iu=Tu.pubSub,Au=(Tu.utils,Tu.slideObjectUtils),Ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cu(e,t)}(o,e);var t,n,i,r=xu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Iu.on(ju.window.MAIN_CHANGED,t.onSlideChanged.bind(Eu(t))),DS.flagManager.localizationPlatform&&Iu.on(ju.transcript.REFRESH_VIEW,t.onRefreshView.bind(Eu(t))),_u.deviceView.isClassicMobile?Iu.on(ju.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(Eu(t),!1)):_u.deviceView.isUnifiedMobile&&Iu.on(ju.hamburger.TOGGLE,t.onHamburgerToggle.bind(Eu(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),Du.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;_u.deviceView.isClassicMobile&&(n=n.replace(Pu,"color:#515557")),this.contentEl.innerHTML=n,Iu.trigger(ju.transcript.CHANGED),Au.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){_u.deviceView.isDesktop?this.view.el.scrollTop=0:_u.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:J.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return _u.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Iu.off(ju.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&Iu.off(ju.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),_u.deviceView.isClassicMobile?Iu.off(ju.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):_u.deviceView.isUnifiedMobile&&Iu.off(ju.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&Ou(t.prototype,n),i&&Ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Bu="transcript",Mu={outline:Tc,resources:bu,glossary:Su,transcript:J.def(Bu,Ru,(function(){var e=J.model,t=e.rtl?"rtl":"";return{attrs:{id:Bu+"-content",class:"cs-transcript ".concat(t),tabindex:0},w:"100%",h:function(){return this.parent.h-2},html:'\n      <div data-ref="content" class="note-content scrolling-panel"></div>\n    ',model:e.frame}}))},Hu=DS.utils.getPath,Nu=DS.constants.refs.FRAME,Fu="sidebarPanels",Wu=(J.def(Fu,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.tabs,r=t.logo;return{attrs:{id:Fu},x:0,z:1,y:function(){return i.bottom()},w:function(){return n.data.actualWidth()},h:function(){var e=r?r.h:0;return n.h-i.h-e},childDef:function(){Wu(J.model,e)}}})),function(e,t){Hu(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,i){var r=t.name,o=r+"Panel",a=0===n,l=J.def(o,Ra,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":r+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,w:"100%",h:"100%",html:""});l.init(),J.getNamespace(Nu).sidebarPanels.append(l);var s=Mu[r];null!=s&&(s.nameSpace=i,s.init(),l.append(s))}(0,e,n,t)}))}),Vu="topTabs";function Uu(e){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(e)}function zu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Uu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Uu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Uu(o)?o:String(o)),i)}var r,o}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ku(e,t)}function Zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qu(e);if(t){var r=Qu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qu(e)}J.def(Vu,(function(){return{attrs:{id:Vu,role:"navigation"},w:"100%",overflow:"visible",h:"100%"}}));var Gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ku(e,t)}(o,e);var t,n,i,r=Zu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&zu(t.prototype,n),i&&zu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function qu(e){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(e)}function Yu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==qu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===qu(o)?o:String(o)),i)}var r,o}function Xu(){return Xu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Xu.apply(this,arguments)}function $u(e,t){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$u(e,t)}function Ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tf(e);if(t){var r=tf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===qu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ef(e)}(this,n)}}function ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(e)}var nf=DS.dom.isWithin,rf=DS.globalEventHelper,of=rf.addDocumentListener,af=rf.removeDocumentListener,lf=DS,sf=lf.pubSub,cf=lf.events,uf=lf._,ff=lf.playerGlobals,df=lf.dom,hf=df.addClass,pf=df.removeClass,bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$u(e,t)}(o,e);var t,n,i,r=Ju(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),uf.bindAll(ef(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,sf.on(cf.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(ef(t))),DS.flagManager.localizationPlatform&&sf.on(cf.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(ef(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),hf(this.el,"cs-selected"),hf(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),of("mouseup",this.onCheckShouldHide),sf.on(cf.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),pf(this.el,"cs-selected"),pf(this.el,"active"),this.view.panel.el.style.display="none",af("mouseup",this.onCheckShouldHide),sf.off(cf.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){ff.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),Xu(tf(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(nf(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=J.model.currControlLayout[this.model.name];return uf.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){sf.off(cf.controlLayout.CHANGED,this.hidePanel),sf.off(cf.sidebar.ACTIVE_TAB_SET)}}],n&&Yu(t.prototype,n),i&&Yu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),yf=bf;function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function mf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==vf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===vf(o)?o:String(o)),i)}var r,o}function gf(){return gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Of(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},gf.apply(this,arguments)}function wf(e,t){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wf(e,t)}function Sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Of(e);if(t){var r=Of(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kf(e)}(this,n)}}function kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Of(e)}var Cf=DS,xf=Cf._,Ef=Cf.events,Lf=Cf.pubSub,Pf=Cf.detection,Tf=Cf.keyManager,_f=Cf.TweenLite,jf=Cf.focusManager,Df=Cf.constants.ANIMATION_DURATION,If=Cf.globalEventHelper,Af=If.addDocumentListener,Rf=If.addWindowListener,Bf=Cf.dom,Mf=Bf.isInput,Hf=Bf.hasClass,Nf=Bf.addClass,Ff=Bf.removeClass,Wf=Pf.device.isMobile?"touchend":"mouseup",Vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wf(e,t)}(o,e);var t,n,i,r=Sf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),xf.bindAll(kf(t),"updatePanel","onResize"),t.isOutlinePanel="outlineLink"===e.nameKey,t.isGlossaryPanel="glossaryLink"===e.nameKey,t.isResourcesPanel="resourcesLink"===e.nameKey,t.isOutlinePanel&&(Lf.on(Ef.menuLinksListItem.TOGGLE,t.updatePanel),Lf.on(Ef.search.UPDATE_PANEL,(function(){setTimeout(t.updatePanel,Df)})),t.searchEnabled=J.model.frame.controlOptions.controls.search),window.globals.HAS_SLIDE||t.subscribeToRefreshEvents(),t.removeResize=Rf("resize",t.onResize),t}return t=o,n=[{key:"subscribeToRefreshEvents",value:function(){this.isOutlinePanel?Lf.on(Ef.navData.REFRESH_VIEW,this.updatePanel):this.isResourcesPanel?Lf.on(Ef.resources.REFRESH_VIEW,this.updatePanel):this.isGlossaryPanel&&Lf.on(Ef.glossary.REFRESH_VIEW,this.updatePanel)}},{key:"teardown",value:function(){Lf.off(Ef.resources.REFRESH_VIEW,this.updatePanel),Lf.off(Ef.glossary.REFRESH_VIEW,this.updatePanel),Lf.off(Ef.navData.REFRESH_VIEW,this.updatePanel),this.removeResize()}},{key:"onResize",value:function(){!this.showing||Pf.device.isMobile&&Mf(document.activeElement)||this.hidePanel()}},{key:"updatePanel",value:function(){var e=this.view.panel.el.querySelector(".scrolling-panel");if(null!=e)this.view.panel.height=Math.min(Te.minHeight-120,e.clientHeight+2),this.view.panel.update(),this.view.panel.updateChildren();else if(this.isOutlinePanel){var t=Hf(document.body,"search-results-active")?document.body.querySelector(".search-results-active .search-results ul"):document.body.querySelector("#outline-content > ul");this.view.panel.height=Math.min(Te.minHeight-120,t.clientHeight+(this.searchEnabled?65:0)+2),this.view.panel.update(),this.view.panel.updateChildren(!0)}}},{key:"showPanel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Lf.trigger(Ef.tabLink.SHOW_PANEL,this),Pf.deviceView.isPhone&&_f.from(this.view.panel.el,.12,{left:"left"===J.model.sidebarOpts.sidebarPos?30:-30}),Nf(document.body,"nested-panel-shown"),this.el.setAttribute("aria-expanded",!0),this.el.classList.add("cs-selected","active"),this.view.panel.el.style.display="block",this.updatePanel(),t||this.view.panel.viewLogic.focusChild(),this.removeShowPanelListeners=xf.flow(Af("keydown",(function(t){return e.handleKeyDown(t)})),Af(Wf,this.onCheckShouldHide)),Lf.on(Ef.controlLayout.CHANGED,this.hidePanel),this.showing=!0,Lf.trigger(Ef.tabLink.PANEL_SHOWN,this)}},{key:"handleKeyDown",value:function(e){Tf.isEscapeKey(e.which)&&(this.hidePanel(),this.el.focus(),jf.setFocusRectOn(this.el))}},{key:"hidePanel",value:function(e){Lf.trigger(Ef.tabLink.HIDE_PANEL,this),!e&&Pf.deviceView.isPhone&&this.view.panel.inEllipsis||(gf(Of(o.prototype),"hidePanel",this).call(this),null!=this.removeShowPanelListeners&&this.removeShowPanelListeners(),Ff(document.body,"nested-panel-shown"))}}],n&&mf(t.prototype,n),i&&mf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(yf),Uf=Vf;function zf(e){return function(e){if(Array.isArray(e))return Kf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zf,Qf=DS.detection,Gf=DS.constants.refs.FRAME,qf=Qf.deviceView.isPhone?290:302,Yf=DS,Xf=Yf.pubSub,$f=Yf.events,Jf=!0,ed=[],td=!0;Xf.on($f.renderTree.DESTROYED,(function(){ed=[],Jf=!0}));var nd=function(e){if(e.length>0){var t=e.shift();return ed.unshift(t),t}},id=function(e){return e.reduce((function(e,t){return t.update(),e+(t.isTopLink?t.w:0)}),0)};function rd(e){return function(e){if(Array.isArray(e))return od(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return od(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function(e){var t,n=e.id,i=(J.def(n,(function(i){var o=J.getNamespace(i),a=o.title,l=o.hamburger,s=o.sidebar,c=o.timer,u=o.topEllipsis;J.model.topTabsRight.length;return t=n,{attrs:{id:n,tabindex:-1},style:{left:"-1px"},w:function(){var e=this.parent.w-jr;return a.visible&&(e-=a.w),s.visible&&(e-=l.w),null!=c&&c.visible&&(e-=c.w),u.visible&&(e-=u.w),e-Dr},overflow:"visible",x:e.x,y:"vertical-center",h:22,z:5,childDef:function(){r(J.model,i)},methods:e.methods,updateHook:e.updateHook}})),function(n,i,r,o){var a,l,s,c,u="customlink"===r.name;u?(l=Gu,a=DS.flagManager.localizationPlatform&&i.getControlString(r.properties.data)||r.properties.title,s="link".concat(e.dir).concat(o),c="custom-link"):(l=Uf,a=i.getString(r.name),s=r.name+"Link",c="panel-link");var f=ge.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),d={id:s,class:"cs-topmenu-item cs-tabs top-tab ".concat(c),tabindex:0};u||(d["aria-controls"]="".concat(r.name,"-panel"),d["aria-expanded"]=!1);var h=J.def(s,l,{selectedBorderColor:f,attrs:d,model:Object.assign(r,{idx:o}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{},tag:"button",html:function(){return'<span data-ref="label" class="cs-tab top-tab-text">'.concat(a,"</span>")},methods:{updateDomStrings:function(){var e="customlink"===r.name?i.getControlString(r.properties.data):i.getString(r.name);null!=e&&(this.viewLogic.labelEl.textContent=e)}},wPad:14,z:2,w:"fit-to-text-w",h:"fit-to-text-h",minH:23});h.init(),J.getNamespace(Gf)[e.id].append(h,!0),u||function(n,i,r,o){var a=o.name+"Panel",l="linksRight"===e.id,s=J.getNamespace(n),c=(s.topBar,s.frame,s.sidebar),u=s.slide,f=(s.wrapper,s.topEllipsis),d=ge.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),h=Qf.env.isFileProtocol||Qf.browser.isFF?"background-color":"background",p=ge.getColor(n,".cs-topmenu-item.active .cs-panel",h),b=J.getNamespace(n)[o.name+"Link"],y=J.getNamespace(n),v=y.topEllipsisPanel,m=y.linksRight,g=J.model.rtl,w=J.def(a,Ra,{attrs:{id:a,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel top-tabs-drop topmenu-panel-align-".concat(l?"right":"left"),tabIndex:-1},style:{borderColor:d,background:p},w:function(){return Math.min(window.innerWidth-16,qf)},h:function(){return this.height||200},z:u.z+1,visible:!1,lnk:i,tabsId:t,overflow:"visible",x:function(){var e=0;if(b.inEllipsis){var t=-v.lastX-f.lastX;return!g||Qf.deviceView.isPhone?"left"===c.pos?e=v.maxWidth-this.w+8:Qf.deviceView.isPhone||(e=(v.maxWidth-this.w)/2+8):"left"!==c.pos&&(e=-2),DS.utils.clamp(t+8,t+window.innerWidth-this.w-8,e)}var n=(e=i.x+(i.w-this.w)/2)+this.w;return!b.inEllipsis&&n>m.w&&(e=m.w-this.w-20),e=Math.max(0,e),this.children.arrow.el.style.left="".concat(i.x-e+i.w/2-11,"px"),e},y:function(){return b.inEllipsis?0:this.lnk.h+10},html:oo(p,d)});w.init(n),J.getNamespace(Gf)[e.id].append(w),i.panel=w;var S=Mu[o.name];null!=S&&(S.init(n),w.append(S))}(n,h,0,r)}),r=function(e,t){[].concat(zf(e.topTabsLeft),zf(e.topTabsRight)).forEach((function(n,r){i(t,e,n,r)}))}}({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){var e=J.getNamespace(DS.constants.refs.FRAME),t=e.hamburger,n=e.title,i=e.sidebar,r=e.topEllipsis,o=J.model,a=0;return o.rtl?(i.visible&&"left"===o.sidebarOpts.sidebarPos&&(a+=t.w),r.visible&&(a+=r.w,"right"===i.pos&&(a=r.w))):n.visible?a=n.right():i.visible&&(a=t.w),a+("right"===i.pos?o.rtl?jr:n.visible?0:jr:Dr)},methods:{tabWidths:function(){return id(this.children)},phoneUpdateHook:function(){if(0!==this.children.length||0!==ed.length){var e=J.getNamespace(this.nameSpace),t=e.topEllipsis,n=e.topEllipsisPanel;this.children.forEach((function(e){var i=n.children.links.el;null!=e.panel&&(e.panel.inEllipsis=!0,i.insertBefore(e.panel.el,i.firstChild),e.panel.update()),e.inEllipsis=!0,i.insertBefore(e.el,i.firstChild),t.setVisibility(!0)})),this.updateHook=DS._.noop}}},updateHook:function(){if(DS.detection.deviceView.isPhone)this.phoneUpdateHook();else{var e=this.children;if(td||0!==this.children.length||DS.presentation.isPreview()||this.setVisibility(ed.length>0||this.children.some((function(e){return e.visible}))),td=!1,(0!==e.length||0!==ed.length)&&null!=this.nameSpace){var t=J.getNamespace(this.nameSpace),n=t.linksRight,i=t.topEllipsis,r=t.sidebar,o=t.topEllipsisPanel,a=this.w;if(Zf>a&&(Jf=!0),Zf=a,Jf&&id(e)>this.w)for(;id(e)>this.w;){var l=nd(this.children);if(null!=l&&l.isTopLink){if(null!=l.el){var s=o.children.links.el;null!=l.panel&&(l.panel.inEllipsis=!0,s.insertBefore(l.panel.el,s.firstChild),l.panel.update()),l.inEllipsis=!0,s.insertBefore(l.el,s.firstChild)}i.setVisibility(!0)}}else if(ed.length>0){var c=id(e),u=ed[0],f=this.w;i.visible&&1===ed.length&&(f+=i.w),f>c+u.w&&(ed.shift(),this.el.appendChild(u.el),null!=u.panel&&(u.panel.inEllipsis=!1,u.panel.update(),this.el.appendChild(u.panel.el)),this.children.unshift(u),u.inEllipsis=!1)}0===ed.length&&i.visible&&i.setVisibility(!1),Jf=!1;var d={toLeft:!0,startPos:n.w-jr,hook:function(e){null!=e.panel&&e.panel.update()}};"right"!==r.pos||J.model.rtl?J.model.rtl&&(d.toLeft=!1,d.startPos=0,d.reverse=!1):(d.toLeft=!1,d.startPos=0,d.reverse=!0),this.flowChildren(d)}}}});var ad=DS,ld=ad.detection,sd=ld.deviceView,cd=ld.orientation,ud=ad.dom,fd="bottomBar";J.def(fd,(function(e){var t=J.getNamespace(e),n=t.frame,i=t.hamburger,r=t.topBar,o=t.fullScreenClose,a=t.topEllipsis,l=t.playbackControls,s=t.playPause,c=t.seek,u=t.reset,f=t.captions,d=t.settings,h=t.playbackSpeed,p=t.fullScreenToggle,b=t.navControls,y=t.prev,v=t.next,m=t.submit;return{tag:"section",attrs:{id:fd},overflow:"visible",parentAlign:"rb",x:function(){return r.x},yl:function(){return sd.isPhone?0:n.h-$n},yp:function(){return n.h-$n},w:function(){return r.w},updateHook:function(){this.hasAllChildren()&&(sd.isPhone?this.updatePhoneLayout():this.updateTabletLayout())},childVisibilityChangedHook:function(){this.update()},methods:{updatePhoneLayout:function(){var e=J.model.currControlLayout;c.setVisibility(e.seekbar&&(!sd.isPhone||cd.isLandscape)),cd.isLandscape?this.updatePhoneLandscapeLayout():this.updatePhonePortraitLayout()},updatePhoneLandscapeLayout:function(){var e=this;this.revertOverflowVisibility();var t=20;null!=s&&s.w>0&&(t+=s.w),l.top=n.h-$n+5,l.left=Yn,l.width=this.w-Yn,c.width=this.w-(t+Xn+40),this.updateChildren(!0);var r=50,u={visible:!0,parent:{visible:!0}},b="left"===J.model.sidebarOpts.sidebarPos,g=[].concat(rd(b?[]:[i]),[o,a,f,d,h,p,u,y,v,m]).filter((function(e){return e&&e.visible&&e.parent.visible})),w=g.indexOf(u),S=g.length-1<5;S?g.splice.apply(g,[w,1].concat(rd(new Array(5-(g.length-1))))):g.splice(w,1),this.applyOverflowVisibility(g,5,[p,f]);var k=r*g.length,O=(this.parent.h-k)/g.length||1,C=O/2,x=S?O:(this.parent.h-(k+r))/(g.length+1)||1,E=C,L=!1;this.styleConfigs=[],g.forEach((function(t,n){null!=t?(e.styleConfigs.push({id:_.kebabCase(t.attrs.id),x1:t.x,y1:C+(r-t.h)/2,x2:t.x,y2:E+(r-t.h)/2}),t.update()):S&&!L&&(L=!0,E-=r+x-10),C+=r+O,E+=r+x})),this.addReplayStyles()},updatePhonePortraitLayout:function(){var e=this;this.revertOverflowVisibility(),l.top=0,l.update();var t,n=J.model.rtl?function(e){return e.reverse()}:function(e){return e},i={visible:!0,parent:{visible:!0}},r=[s,u,f,h,d,p,i,y,v,m].filter((function(e){return e&&e.visible&&e.parent.visible})),o=r.indexOf(i);r.length-1<5?(t=r).splice.apply(t,[o,1].concat(rd(new Array(5-(r.length-1))))):r.splice(o,1);this.applyOverflowVisibility(r,6,[u,p,f]);var a=50*(r=n(r)).length,c=(this.w-a)/r.length||1,b=c/2;r.forEach((function(t,n){null!=t&&(t.left=b+(50-t.w)/2,t.top=(e.h-t.h)/2,t.update()),b+=50+c}))},updateTabletLayout:function(){var e=J.model.rtl;if(c.width=0,b.update(),l.visible&&c.visible){var t=this.calcChildrensWidth()+Yn,n=e?1:0,i=(this.children.filter((function(e){return e.w>0})).length+n)*Yn;c.width=this.w-t-i}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:!1,pad:Yn,reverse:!0})},addReplayStyles:function(){var e=this;null==this.styleDiv&&(this.styleDiv=document.createElement("div"),this.el.appendChild(this.styleDiv));var t=this.styleConfigs.map((function(e){var t=e.id,n=e.x1,i=e.y1,r=e.x2,o=e.y2;return[".is-landscape #".concat(t,":not(.lightboxed) { left: ").concat(n,"px !important; top: ").concat(i,"px !important; transform: unset !important; }"),".is-landscape.has-reset.timeline-paused #".concat(t,":not(.lightboxed) { left: ").concat(r,"px !important; top: ").concat(o,"px !important; transform: unset !important; }")].join(" ")}));this.styleDiv.innerHTML="<style>".concat(t.join(" "),"</style>"),window.requestAnimationFrame((function(){var t=e.styleConfigs.map((function(e){var t=e.id;e.x1,e.y1,e.x2,e.y2;return[".is-landscape.has-reset #".concat(t," { transition: top ease-out 200ms }")].join(" ")}));e.styleDiv.innerHTML+="<style>".concat(t.join(" "),"</style>")}))},applyOverflowVisibility:function(e,t,n){for(this.ctrlOverflow=[];e.length>t&&n.length>0;){var i=n.pop(),r=e.indexOf(i);r>=0&&(e.splice(r,1),i.setVisibility(!1),this.ctrlOverflow.push(i),ud.addClass(this.el,"".concat(i.nameKey,"-overflow")))}return e},revertOverflowVisibility:function(){var e=this;null!=this.ctrlOverflow&&this.ctrlOverflow.forEach((function(t){t.setVisibility(t.layoutDefaultVisible),ud.removeClass(e.el,"".concat(t.nameKey,"-overflow"))}))}},hp:function(){return $n},hl:function(){return sd.isPhone?n.h:$n}}}));var dd="navControls",hd=DS.detection,pd=hd.deviceView;hd.orientation;J.def(dd,(function(e){var t=J.model.rtl,n=J.getNamespace(e).frame;return{attrs:{id:dd,role:"navigation","aria-label":"slide navigation"},overflow:"visible",parentAlign:function(){return pd.isTablet?t?"l":"r":"rb"},wp:function(){return this.width||0},hp:$n,wl:function(){return pd.isPhone?Xn:this.wp},hl:function(){return pd.isPhone?n.h:this.hp},yp:"vertical-center",yl:function(){return 0},xl:function(){return pd.isPhone?this.parent.w-this.w:this.xp},xp:function(){return this.left||0},updateHook:function(){pd.isTablet&&this.flowChildren({rtl:t,startPos:-10,pad:Yn,fullUpdate:!0,sizeToChildren:!0})}}}));var bd="miscControls",yd=DS.detection.deviceView;function vd(e){return vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(e)}function md(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==vd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===vd(o)?o:String(o)),i)}var r,o}J.def(bd,(function(e){var t=J.getNamespace(e),n=t.frame,i=t.bottomBar,r=J.model;return{attrs:{id:bd,"aria-label":"misc controls",role:"region"},wp:function(){return this.width||0},wl:function(){return yd.isPhone?58:this.wp},xp:function(){return this.left||0},yl:function(){return 0},xl:function(){return yd.isPhone?this.parent.w-this.w:this.xp},hp:function(){return 65},hl:function(){return yd.isPhone?n.h:this.hp},overflow:"visible",parentAlign:function(){return r.rtl?"l":"r"},childVisibilityChangedHook:function(){this.ariaVisibleWithChildren()},updateHook:function(){this.ariaVisibleWithChildren()},beforeUpdateHook:function(){var e;yd.isPhone||this.flowChildren({fullUpdate:!0,pad:jr*(null!==(e=i.marginPercent)&&void 0!==e?e:1),startPos:0,sizeToChildren:!0,rtl:r.rtl})}}}));var gd=DS,wd=gd._,Sd=gd.pubSub,kd=gd.events,Od=gd.dom.toggleClasses,Cd=(gd.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,wd.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),Sd.on(kd.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){Sd.off(kd.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(Sd.trigger(kd.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(kd.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(kd.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(kd.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(kd.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(kd.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(kd.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();Od(document.body,"timeline-playing","timeline-paused",i),Od(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(kd.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(kd.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&md(t.prototype,n),i&&md(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),xd=DS.detection,Ed=xd.deviceView,Ld=xd.orientation,Pd="playbackControls";function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function _d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Bd(i.key),i)}}function jd(e,t){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jd(e,t)}function Dd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ad(e);if(t){var r=Ad(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Td(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}(this,n)}}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(e)}function Rd(e,t,n){return(t=Bd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e){var t=function(e,t){if("object"!==Td(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Td(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Td(t)?t:String(t)}J.def(Pd,Cd,(function(e){var t=J.getNamespace(e).seek,n=J.model.rtl;return{attrs:{id:Pd,"aria-label":"playback controls",role:"region",tabindex:-1},visibility:"no-reflow",x:function(){return this.left||0},w:function(){return this.width+(t.visible?0:t.w)||0},h:$n,overflow:"visible",noUpdate:!0,beforeUpdateHook:function(){if(Ed.isTablet)this.flowChildren({rtl:n,fullUpdate:!0,sizeToChildren:!0,startPos:-10,pad:Yn});else if(Ld.isLandscape){this.flowChildren({fullUpdate:!0,startPos:-30,pad:30})}},parentAlign:function(){return n?"r":"l"},y:function(){return this.top||0}}}));var Md=DS,Hd=Md._,Nd=Md.detection,Fd=Md.utils,Wd=Md.keyManager,Vd=Md.dom,Ud=Md.dom,zd=Ud.addClass,Kd=Ud.removeClass,Zd=Md.globalEventHelper.addWindowListener,Qd=Md.events,Gd=Md.pubSub,qd=(Md.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),Yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jd(e,t)}(o,e);var t,n,i,r=Dd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Rd(Id(t=r.call(this,e)),"hasTooltip",!0),Rd(Id(t),"tooltipMoves",!0),Hd.bindAll(Id(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),Gd.on(Qd.slide.STARTED,t.checkSeekable),Gd.on(Qd.player.SEEK,t.onKeydown),Gd.on(Qd.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!J.model.frame.controlOptions.controls.readonly||J.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=Nd.deviceView.isClassicDesktop?this.seekEl:this.view.el;Nd.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=J.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return Fd.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return Nd.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(Qd.timeline.TICK,this.onTick),this.currTimeline.off(Qd.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(Qd.timeline.TICK,this.onTick),this.currTimeline.on(Qd.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=Fd.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(Kd(this.el,"read-only"),this.progressBarEl.disabled=!1):(zd(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),Gd.trigger(Qd.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(Qd.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(Qd.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=Zd(this.endEvent,this.onMouseUp),this.removeSeekListener=Zd(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;Wd.isActionKey(t)?Gd.trigger(Qd.player.TOGGLE_PLAYBACK):this.isSeekable()&&(Wd.isDownishKey(t)?this.seekBy(e,-100):Wd.isPageDownKey(t)?this.seekBy(e,-1e3):Wd.isUpishKey(t)?this.seekBy(e,100):Wd.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){Vt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(Vd.mouseX)*this.duration:Math.floor(Fd.toSeconds(this.progressBarEl.value));var n=Fd.formatSecondsAsTime(t),i=Fd.formatSecondsAsTime(this.duration);return"".concat(qd(n)," / ").concat(qd(i))}}}])&&_d(t.prototype,n),i&&_d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function Xd(e){return Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(e)}function $d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Xd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Xd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Xd(o)?o:String(o)),i)}var r,o}function Jd(){return Jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ih(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Jd.apply(this,arguments)}function eh(e,t){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eh(e,t)}function th(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ih(e);if(t){var r=ih(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nh(e)}(this,n)}}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(e)}var rh=DS,oh=rh._,ah=rh.pubSub,lh=rh.events,sh=rh.dom,ch=rh.utils.pxify,uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eh(e,t)}(o,e);var t,n,i,r=th(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),oh.bindAll(nh(t),"onSlideStarted","onStartProgressDetails","onStopProgressDetails","animateProgressDetails"),ah.on(lh.slide.STARTED,t.onSlideStarted),t.resetPreviewWidths(),t.isUserControlled&&(t.view.el.addEventListener("mouseenter",t.onStartProgressDetails),t.view.el.addEventListener("mouseleave",t.onStopProgressDetails)),t}return t=o,n=[{key:"onTick",value:function(e){Jd(ih(o.prototype),"onTick",this).call(this,e),this.progress=e}},{key:"resetPreviewWidths",value:function(){this.previewWidth=0,this.prevProgWidth=0}},{key:"onSlideStarted",value:function(){this.resetPreviewWidths()}},{key:"onStartProgressDetails",value:function(){this.animateProgressDetails()}},{key:"onStopProgressDetails",value:function(){window.cancelAnimationFrame(this.detailsId)}},{key:"updatePreviewEls",value:function(){this.progressPreviewEl.style.width=ch(this.previewWidth),this.prevProgressPreviewEl.style.width=ch(this.prevProgWidth)}},{key:"animateProgressDetails",value:function(){var e=this.view.getBox(),t=sh.mouseX-e.x,n=this.progress*e.w,i=n-e.w*(t/e.w);t>=n&&(i=0),this.previewWidth=Math.min(e.w,t),this.prevProgWidth=Math.min(n,i),this.updatePreviewEls(),this.detailsId=window.requestAnimationFrame(this.animateProgressDetails)}}],n&&$d(t.prototype,n),i&&$d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Yd),fh=uh,dh=(DS.detection.device.isMobile,"seek");function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function ph(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==hh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==hh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===hh(o)?o:String(o)),i)}var r,o}function bh(){return bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gh(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},bh.apply(this,arguments)}function yh(e,t){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yh(e,t)}function vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gh(e);if(t){var r=gh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mh(e)}(this,n)}}function mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(e)}J.def(dh,fh,(function(e){var t=J.model,n=J.model.frame.controlOptions.controls,i=n.readonly,r=ge.getColor(e,".cs-seekcontrol","border-top-color"),o=ge.getColor(e,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),a=J.getNamespace(e).slide;return{attrs:{id:dh,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(i?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},minW:30,h:30,updateHook:function(){var e=this,t=this.el.offsetParent;if(DS.detection.deviceView.isPhone&&DS.detection.orientation.isLandscape&&null!=t){var n=a.el.getBoundingClientRect(),i=n.height+n.top,r=t.getBoundingClientRect(),o=this.children.seek.el.getBoundingClientRect(),l=r.top+o.top-this.el.getBoundingClientRect().top+o.height;this.el.style.top="".concat(i-l,"px"),this.el.style.width="".concat(n.width,"px"),this.el.style.left="".concat(n.left-r.left,"px"),this.el.style.transform="none";var s=0;requestAnimationFrame((function t(){s++;var i=a.el.getBoundingClientRect();i.top!==n.top||i.left!==n.left||i.width!==n.width||i.height!==n.height?e.updateHook():s<10&&requestAnimationFrame(t)}))}},html:"\n      <style>\n        #seek:before {\n          border: 1px solid ".concat(r,";\n          background-image: ").concat(o,';\n          background-repeat: no-repeat !important;\n        }\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div data-ref="seek" class="cs-seek progress-bar-seek">\n          <div class="progress-bar-fill-preview cs-fill" data-ref="progressPreview"></div>\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!n.seekbar,'"\n            aria-label="').concat(t.getString("acc_slide_progress"),'"\n            data-ref="progressBar">\n          <div class="cs-fill cs-brandhighlight-bg progress-bar-fill" style="width: 0px" data-ref="progressBarFill">\n            <div class="prev-progress-bar-fill-preview cs-fill" data-ref="prevProgressPreview"></div>\n          </div>\n        </div>\n      </div>\n    '),methods:{updateDomStrings:function(){this.viewLogic.progressBarEl.setAttribute("aria-label",t.getString("acc_slide_progress"))}}}}));var wh=DS,Sh=wh._,kh=wh.pubSub,Oh=wh.events,Ch=wh.dom,xh=wh.utils.pxify,Eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yh(e,t)}(o,e);var t,n,i,r=vh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Sh.bindAll(mh(t),"onSlideStarted","onStartProgressDetails","onStopProgressDetails","animateProgressDetails"),kh.on(Oh.slide.STARTED,t.onSlideStarted),t.resetPreviewWidths(),t.isUserControlled&&(t.view.el.addEventListener("mouseenter",t.onStartProgressDetails),t.view.el.addEventListener("mouseleave",t.onStopProgressDetails)),t}return t=o,n=[{key:"onTick",value:function(e){bh(gh(o.prototype),"onTick",this).call(this,e),this.progress=e}},{key:"resetPreviewWidths",value:function(){this.previewWidth=0,this.prevProgWidth=0}},{key:"onSlideStarted",value:function(){this.resetPreviewWidths()}},{key:"onStartProgressDetails",value:function(){this.animateProgressDetails()}},{key:"onStopProgressDetails",value:function(){window.cancelAnimationFrame(this.detailsId)}},{key:"updatePreviewEls",value:function(){this.progressPreviewEl.style.width=xh(this.previewWidth),this.prevProgressPreviewEl.style.width=xh(this.prevProgWidth)}},{key:"animateProgressDetails",value:function(){var e=this.view.getBox(),t=Ch.mouseX-e.x,n=this.progress*e.w,i=n-e.w*(t/e.w);t>=n&&(i=0),this.previewWidth=Math.min(e.w,t),this.prevProgWidth=Math.min(n,i),this.updatePreviewEls(),this.detailsId=window.requestAnimationFrame(this.animateProgressDetails)}}],n&&ph(t.prototype,n),i&&ph(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Yd),Lh=Eh,Ph=(DS.detection.device.isMobile,"floatingSeek");J.def(Ph,Lh,(function(e){var t=J.model,n=J.model.frame.controlOptions.controls,i=n.readonly,r=ge.getColor(e,".cs-seekcontrol","border-top-color"),o=ge.getColor(e,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),a=J.getNamespace(e).slide;return{attrs:{id:Ph,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(i?"read-only":"")},x:Yn,y:function(){return this.parent.h-$n-15},z:2,overflow:"visible",w:function(){return this.parent.w-20},h:30,updateHook:function(){var e=this.el.offsetParent;if(DS.detection.deviceView.isMobile&&DS.detection.orientation.isLandscape&&null!=e){var t=a.el.getBoundingClientRect(),n=t.height+t.top,i=e.getBoundingClientRect(),r=this.children.floatingSeek.el.getBoundingClientRect(),o=i.top+r.top-this.el.getBoundingClientRect().top+r.height;this.el.style.top="".concat(n-o,"px"),this.el.style.width="".concat(t.width,"px"),this.el.style.left="".concat(t.left-i.left,"px"),this.el.style.transform="none"}},html:"\n      <style>\n        #seek:before {\n          border: 1px solid ".concat(r,";\n          background-image: ").concat(o,';\n          background-repeat: no-repeat !important;\n        }\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div data-ref="floatingSeek" class="cs-seek progress-bar-seek">\n          <div class="progress-bar-fill-preview cs-fill" data-ref="progressPreview"></div>\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!n.seekbar,'"\n            aria-label="').concat(t.getString("acc_slide_progress"),'"\n            data-ref="progressBar">\n          <div class="cs-fill cs-brandhighlight-bg progress-bar-fill" style="width: 0px" data-ref="progressBarFill">\n            <div class="prev-progress-bar-fill-preview cs-fill" data-ref="prevProgressPreview"></div>\n          </div>\n        </div>\n      </div>\n    '),methods:{updateDomStrings:function(){this.viewLogic.progressBarEl.setAttribute("aria-label",t.getString("acc_slide_progress"))}}}}));var Th=function(){return"no icon"},_h={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false">\n    <path stroke="none" transform="translate(0, 1)" d="M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false">\n    <path d="M 0.851 13.011 C 0.381 13.295 0 13.068 0 12.526 L 0 0.771 C 0 0.219 0.378 0 0.854 0.288 L 10.507 6.132 C 10.979 6.417 10.981 6.878 10.504 7.168 L 6.307 9.708 L 0.851 13.011 Z"></path>\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false">\n    <g>\n       <rect x="0" width="3" height="14"/>\n       <rect x="6" width="3" height="14"/>\n    </g>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 -3 16 14" focusable="false">\n    <g transform="translate(0, -3)">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="cs-icon icon" width="20" height="20" viewBox="0 0 36 36" focusable="false">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\n    <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n  </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false">\n      <path d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" focusable="false">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" focusable="false">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'\n    <svg class="cs-icon enter-fullscreen-icon" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n      <path d="M1.99055 2.3H5.1V0.4H0.1V5.2H1.9L1.9 2.3Z" stroke="none" />\n      <path d="M5.1 11.8H1.9V8.9H0.1V13.6H5.1L5.1 11.8Z" stroke="none" />\n      <path d="M11.5 11.8H8.4V13.6H13.3V8.9H11.5L11.5 11.8Z" stroke="none" />\n      <path d="M8.4 2.3H11.5V5.2H13.3V0.4H8.4L8.4 2.3Z" stroke="none" />\n    </svg>\n  '},exitFullScreen:function(){return'\n    <svg class="cs-icon exit-fullscreen-icon" width="15" height="14" viewBox="0 0 15 14" focusable="false">\n      <path d="M4.2 4.1H0.1V6.0H6.2V0H4.2V4.1Z" stroke="none" />\n      <path d="M0.1 9.8H4.2V13.9H6.2V7.9H0.1V9.8Z" stroke="none" />\n      <path d="M10.0 9.8H14.1V7.9H8.1V13.9H10.0V9.8Z" stroke="none" />\n      <path d="M8.1 0V6.0H14.1V4.1H10.0V0H8.1Z" stroke="none" />\n    </svg>\n  '},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')}},jh={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Dh=function(e){return DS.detection.env.isPerpetual?_h[e]||Th:jh[e]||_h[e]||Th};function Ih(e){return Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(e)}function Ah(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fh(i.key),i)}}function Rh(e,t){return Rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rh(e,t)}function Bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hh(e);if(t){var r=Hh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mh(e)}(this,n)}}function Mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(e)}function Nh(e,t,n){return(t=Fh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e){var t=function(e,t){if("object"!==Ih(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ih(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ih(t)?t:String(t)}var Wh=DS,Vh=Wh._,Uh=Wh.events,zh=Wh.pubSub,Kh=Wh.detection,Zh=Wh.dom.tappedClass,Qh=Wh.keyManager,Gh=Wh.stringTabler,qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rh(e,t)}(o,e);var t,n,i,r=Bh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Nh(Mh(t=r.call(this,e)),"hasTooltip",!0),Nh(Mh(t),"onTap",(function(e){Zh(t.el)})),Nh(Mh(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():Kh.theme.isUnified&&t.currTimeline.reset()})),Nh(Mh(t),"onKeydown",(function(e){var t=e.which;Qh.isSeekKey(t)&&zh.trigger(Uh.player.SEEK,e)})),Nh(Mh(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),Vh.bindAll(Mh(t),"onTimelineChanged"),zh.on(Uh.player.TOGGLE_PLAYBACK,t.onClickBtn),zh.on(Uh.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),Kh.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,Kh.deviceView.isMobile&&zh.on(Uh.currTimeline.TICK,t.onTick.bind(Mh(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){zh.off(Uh.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",Gh.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Ah(t.prototype,n),i&&Ah(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Yh="playPause";function Xh(e){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(e)}function $h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,rp(i.key),i)}}function Jh(e,t){return Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jh(e,t)}function ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=np(e);if(t){var r=np(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Xh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tp(e)}(this,n)}}function tp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},np(e)}function ip(e,t,n){return(t=rp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rp(e){var t=function(e,t){if("object"!==Xh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Xh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xh(t)?t:String(t)}J.def(Yh,qh,(function(e){var t=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");return{tag:"button",attrs:{id:Yh,class:"content-center cs-button",tabindex:-1,"aria-pressed":!1,"aria-label":"".concat(J.model.getString("acc_play"),"/").concat(J.model.getString("acc_pause"))},contentStyle:{width:"34px",height:"34px"},overflow:"visible",style:{background:"transparent",border:"none"},updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle)},html:function(){return"\n      ".concat(this.toggle?Dh("pause")():Dh("play")(),'\n\n       <svg class="circle-progress" width="34" height="34" viewBox="0 0 34 34">\n        <circle\n          class="circle-progress-well"\n          cx="17" cy="17" r="17"\n          fill="#464646"\n          stroke="none" />\n\n        <path\n          d="M 0 0"\n          transform="rotate(-90 17 17)"\n          fill="').concat(t,'"\n          stroke="none" />\n\n        <circle\n          class="circle-progress-bg"\n          cx="17" cy="17" r="14.5"\n          fill="#31373a"\n          stroke="none" />\n      </svg>\n\n      ')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",this.toggle?J.model.getString("acc_pause"):J.model.getString("acc_play"))}},calcTextSize:!0,y:"vertical-center",x:function(){return this.left||0},minH:34,minW:34,z:1}}));var op=DS,ap=op._,lp=op.events,sp=op.pubSub,cp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jh(e,t)}(o,e);var t,n,i,r=ep(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ip(tp(t=r.call(this,e)),"hasTooltip",!0),ip(tp(t),"tooltipKey","acc_replay"),ap.bindAll(tp(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),sp.on(lp.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&$h(t.prototype,n),i&&$h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),up=DS.detection.deviceView,fp="reset";function dp(e){return dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(e)}function hp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mp(i.key),i)}}function pp(e,t){return pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pp(e,t)}function bp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vp(e);if(t){var r=vp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===dp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yp(e)}(this,n)}}function yp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vp(e){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vp(e)}function mp(e){var t=function(e,t){if("object"!==dp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==dp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dp(t)?t:String(t)}J.def(fp,cp,(function(){var e=J.model;return{tag:"button",ariaStringId:"acc_replay",attrs:{id:fp,class:"content-center cs-button","aria-label":e.getString("acc_replay"),tabindex:-1},style:{background:"transparent",border:"none"},html:Dh("replay")(),z:1,xl:function(){return up.isPhone?this.parent.w-Xn+(Xn-this.w)/2:this.xp},xp:function(){return this.left||0},y:"vertical-center",padRight:10,minH:30,minW:30}}));var gp=DS,wp=gp.detection,Sp=gp.dom,kp=gp.pubSub,Op=gp.events,Cp={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pp(e,t)}(o,e);var t,n,i,r=bp(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=yp(t),a=!0,(i=mp(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,wp.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return Cp[this.view.nameKey]}},{key:"onTap",value:function(e){Sp.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&kp.trigger(Op.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&hp(t.prototype,n),i&&hp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Ep=DS.detection.deviceView.isPhone,Lp={next:"prev",prev:"next",submit:"submit"},Pp={next:"acc_next",prev:"acc_previous",submit:"acc_submit"},Tp={prev:"previous"},_p=function(e,t){J.def(e,xp,(function(n){var i=J.model,r=n!==DS.constants.refs.FRAME,o=J.getNamespace(n).bottomBar;return{tag:"button",ariaStringId:Pp[e],attrs:{id:e,class:"cs-button btn ".concat(r?"lightboxed":""),"aria-label":i.getString(Pp[e]),tabindex:0},parentAlign:function(){return r?"r":Ep?"br":"r"},html:function(){var n=i.buttonOptions[Tp[e]||e],r="display: ".concat(this.showText()?"block":"none"),o='<span data-ref="label" style="'.concat(r,'" class="text ').concat(i.rtl?"rtl":"",'">').concat(i.getString(e),"</span>"),a="display: ".concat(this.showIcon()?"block":"none"),l='<span data-ref="icon" style="'.concat(a,'" class="btn-icon">').concat(Dh(i.rtl?Lp[e]:e)(),"</span>");this.wasRtl=i.rtl;var s=n.includes("icon")&&!n.includes("text")?J.iconTextEl(i.getString(e)):"";return i.dir(t?[l,o]:[o,l]).join("\n")+s},updateHook:function(){if(this.wasRtl!==i.rtl){var n,r;this.wasRtl=i.rtl;var a,l=null===(n=this.children.label)||void 0===n?void 0:n.el,s=null===(r=this.children.icon)||void 0===r?void 0:r.el,c=i.rtl?"add":"remove",u=i.rtl===t?[l,s]:[s,l],f=i.rtl?Lp[e]:e;if(null!=l&&l.classList[c]("rtl"),null!=s&&(s.innerHTML=Dh(f)()),null!=l&&null!=s)(a=s.parentNode).insertBefore.apply(a,u)}var d=o.useReducedView;if(this.wasReduced!==d){this.wasReduced=d;var h=this.children.label.el,p=this.children.icon.el;h.style.display=this.showText()?"block":"none",p.style.display=this.showIcon()?"block":"none"}},calcTextSize:!0,wp:function(){return o.useReducedView?this.minW:Math.max(this.minW,this.lastWidthByText)+this.wPad},wl:function(){return Ep?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return!Ep||r?this.yp:this.top||0},xp:function(){return this.left||0},xl:function(){return r||!Ep?this.xp:(this.parent.w-this.w)/2},methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()},updateDomStrings:function(){null!=this.viewLogic.labelEl&&(this.viewLogic.labelEl.textContent=i.getString(e))},showText:function(){return i.buttonOptions[Tp[e]||e].includes("text")&&!o.useReducedView&&!Ep},showIcon:function(){return i.buttonOptions[Tp[e]||e].includes("icon")||o.useReducedView||Ep}},overflow:"visible",padLeft:20,padRight:3.5,minW:30,minH:30}}))};function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Dp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Mp(i.key),i)}}function Ip(e,t){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ip(e,t)}function Ap(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Bp(e);if(t){var r=Bp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rp(e)}(this,n)}}function Rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}function Mp(e){var t=function(e,t){if("object"!==jp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jp(t)?t:String(t)}_p("prev",!0),_p("next",!1),_p("submit",!1);var Hp=DS,Np=Hp.pubSub,Fp=Hp.captionsManager,Wp=Hp.stringTabler,Vp=Hp.events.captions,Up=Vp.SHOW_BUTTON,zp=Vp.HIDE_BUTTON,Kp=Vp.ENABLED,Zp=Vp.ENABLE,Qp=Hp.detection.theme.isUnified,Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ip(e,t)}(o,e);var t,n,i,r=Ap(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Rp(t),a=!0,(i=Mp(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Np.on(Up,(function(e){return t.onVisibilityChanged(!0)})),Np.on(zp,(function(e){return t.onVisibilityChanged(!1)})),Np.on(Kp,t.onCaptionsEnabled.bind(Rp(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=Fp.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Wp.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),Qp&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Np.trigger(Zp,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Np.off(Up),Np.off(zp),Np.off(Kp)}}])&&Dp(t.prototype,n),i&&Dp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),qp=DS,Yp=qp.detection.deviceView,Xp=(qp.flagManager,"captions");J.def(Xp,Gp,(function(e){var t=J.model,n=e!==DS.constants.refs.FRAME;return{tag:"button",ariaStringId:"acc_closed_captions",attrs:{id:Xp,class:"cs-button btn content-center","aria-label":t.getString("acc_closed_captions"),"aria-pressed":!1,tabindex:0},minW:34,minH:34,y:function(){return n||!Yp.isPhone?(this.parent.h-this.h)/2:this.top||0},noUpdate:!0,parentAlign:function(){return n?"l":"lt"},visible:!1,html:function(){var e=null!=this.viewLogic&&this.viewLogic.toggle,t=ge.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");return"\n        <style>\n          #captions.cs-button:after {\n            background: ".concat(e?t:"transparent",";\n          }\n        </style>\n        ").concat(Dh("captions")(),"\n        ")},xp:function(){return this.left||0},xl:function(){return Yp.isPhone&&!n?(this.parent.w-this.w)/2:this.xp}}}));var $p="title",Jp=DS,eb=Jp.detection,tb=Jp.utils;J.def($p,rn,(function(e){var t,n=J.model,i=J.model.frame,r=J.getNamespace(e),o=r.hamburger,a=r.sidebar,l=r.topBar,s=function(){return"right"===a.pos&&!n.rtl},c=i.fontscale/100;t=1.23077*c*13+jr;var u=!eb.deviceView.isPhone&&n.sidebarOpts.titleEnabled;return{simpleView:!0,id:$p,tag:"h1",attrs:{class:"presentation-title cs-title"},overflow:"visible",x:function(){var e=a.visible?o.w:11,t=n.rtl?this.parent.w-this.w-5:11+e;return"right"===a.pos&&o.visible&&(t-=e),t},y:"vertical-center",calcTextSize:!0,w:function(){return l.reducedLayout?l.titleW:Math.max(this.minW,this.lastWidthByText)+this.wPad+(s()?26:0)},h:22,html:function(){var e="width: calc(100% - (".concat(s()?26:0,"px))");return["<div data-ref='label' style=\"".concat(e,'" class="presentation-title-text">').concat(u?n.title.text:"","</div>"),'<div data-ref=\'separator\' class="top-tabs-line" style="height:'.concat(t,"px; display:").concat(s()?"block":"none",'"></div>')].join("")},beforeUpdateHook:function(){DS.localizationManager.isMultiLanguageProject()&&(this.children.separator.el.style.display=s()?"block":"none",this.doTextCalcs())},methods:{updateDomStrings:function(){u&&(this.viewLogic.labelEl.textContent=tb.decodeHtml(n.title.text))}},visible:u}}));function nb(e){return nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(e)}function ib(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==nb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==nb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===nb(o)?o:String(o)),i)}var r,o}function rb(){return rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rb.apply(this,arguments)}function ob(e,t){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ob(e,t)}function ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sb(e);if(t){var r=sb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lb(e)}(this,n)}}function lb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sb(e)}J.def("sidebarOverlay",rn,(function(){return{simpleView:!0,tag:"button",ariaStringId:"close",attrs:{class:"sidebar-overlay btn","aria-label":J.model.getString("close"),tabIndex:-1},x:0,y:0,w:function(){return Te.innerWidth},h:function(){return Te.innerHeight},position:function(){},add:!0}}));var cb=DS,ub=cb._,fb=cb.pubSub,db=cb.events,hb=cb.detection,pb=cb.globalEventHelper,bb=pb.addWindowListener,yb=pb.addDocumentListener,vb=cb.dom,mb=vb.isWithin,gb=vb.isInput,wb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ob(e,t)}(o,e);var t,n,i,r=ab(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),ub.bindAll(lb(t),"onResize","hidePanel","onCheckShouldHide","onLayoutReady"),t.onClickEl(t.iconEl,t.onOpenList);var n=J.getNamespace(t.view.nameSpace);return t.topEllipsisPanel=n.topEllipsisPanel,bb("resize",t.onResize),fb.on(db.tabLink.SHOW_PANEL,(function(e){t.currentPanelLink=e,t.onCheckShouldHide({target:e.view.el})})),fb.on(db.topEllipsesPanel.HIDE,t.hidePanel),fb.on(db.frame.LAYOUT_READY,t.onLayoutReady),t.hideEvent=DS.detection.device.isMobile?"touchstart":"mousedown",yb(t.hideEvent,t.onCheckShouldHide,!0),t.arrowEl.style.display="none",t}return t=o,(n=[{key:"onFocus",value:function(e){var t=DS.dom.getParentWithClass(e.target,"panel-link")||DS.dom.getParentWithClass(e.target,"custom-link");null==t?null==DS.dom.getParentWithClass(e.target,"panel")&&rb(sb(o.prototype),"onFocus",this).call(this,e):DS.focusManager.setFocusRectOn(t)}},{key:"onLayoutReady",value:function(e){if(!e.hasCustomLinks){var t=!1;Object.keys(e).forEach((function(n){if(-1!=n.indexOf("Panel")){var i=n.replace("Panel","Link");!e[n]&&e[i]&&(t=!0)}})),this.view.setVisibility(t)}}},{key:"onCheckShouldHide",value:function(e){this.hideOnNextTouch&&(mb(e.target,"top-ellipsis-panel")?hb.deviceView.isPhone&&document.body.classList.contains("nested-panel-shown")&&!mb(e.target,"panel")&&this.hidePanel():this.hidePanel())}},{key:"updateAnimation",value:function(){var e=this;window.requestAnimationFrame((function(){e.topEllipsisPanel.updateTrans()}))}},{key:"showPanel",value:function(){this.topEllipsisPanel.setVisibility(!0),this.hideOnNextTouch=!0,this.topEllipsisPanel.yOff=0,this.updateAnimation(),hb.deviceView.isDesktop&&(DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="visible":this.arrowEl.style.display="block"),fb.trigger(db.topEllipsesPanel.PANEL_SHOWN,this)}},{key:"hidePanel",value:function(){fb.trigger(db.topEllipsesPanel.HIDE_PANEL,this),DS.flagManager.localizationPlatform?this.arrowEl.style.visibility="hidden":this.arrowEl.style.display="none",this.topEllipsisPanel.setVisibility(!1),this.hideOnNextTouch=!1,this.topEllipsisPanel.yOff=-20,this.updateAnimation(),null!=this.currentPanelLink&&(this.currentPanelLink.hidePanel(!0),this.currentPanelLink=null)}},{key:"onResize",value:function(e){this.topEllipsisPanel.visible&&!gb(document.activeElement)&&this.hidePanel()}},{key:"onOpenList",value:function(e){this.topEllipsisPanel.visible?this.hidePanel():this.showPanel()}}])&&ib(t.prototype,n),i&&ib(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Sb=wb,kb="topEllipsis",Ob=DS.detection,Cb=Ob.deviceView.isPhone,xb=(Ob.orientation,Ob.env);function Eb(e){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(e)}function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(n),!0).forEach((function(t){Tb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Eb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Eb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Eb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}J.def(kb,Sb,(function(e){var t=J.getNamespace(e),n=t.linksRight,i=t.sidebar,r=(J.model.rtl,ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),o=xb.isFileProtocol?"background-color":"background",a=ge.getColor(e,".cs-topmenu-item.active .cs-panel",o);return{tag:"div",attrs:{id:kb},x:function(){var e=J.model.rtl,t=0;return Cb?"right"===i.pos?(this.lastX=0,0):(this.lastX=window.innerWidth-58,window.innerWidth-58):(t=e?n.x-58+jr:"right"===i.pos?n.x+n.tabWidths():n.right(),this.lastX=t,t)},w:58,visible:!1,overflow:"visible",html:'\n      <button\n        class="top-tabs-drop-icon cs-button btn"\n        data-ref="icon"\n        aria-expanded="false"\n        aria-controls="top-ellipsis-panel"\n        aria-label="top_links"\n      >\n        <div></div>\n        <div></div>\n        <div></div>\n      </button>\n\n      '.concat(oo(a,r),"\n    "),yl:function(){return Cb&&null!=this.top?this.top:(this.parent.h-this.h)/2},yp:function(){return(this.parent.h-this.h)/2},h:function(){return this.parent.h/(Cb?2:1)}}}));var _b=DS.detection,jb="topEllipsisPanel";function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Ib(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fb(i.key),i)}}function Ab(){return Ab="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ab.apply(this,arguments)}function Rb(e,t){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rb(e,t)}function Bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hb(e);if(t){var r=Hb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Db(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}(this,n)}}function Mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hb(e)}function Nb(e,t,n){return(t=Fb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e){var t=function(e,t){if("object"!==Db(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Db(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Db(t)?t:String(t)}J.def(jb,(function(e){var t=J.getNamespace(e),n=t.sidebar,i=t.topEllipsis,r=t.topBar,o=_b.env.isFileProtocol?"background-color":"background",a=ge.getColor(e,".cs-topmenu-item.active .cs-panel",o),l=document.createElement("style"),s=J.model.frame;return l.innerHTML="\n    .nested-panel-shown .cs-".concat(s.default_layout," .top-tabs-drop:not(.panel) {\n      box-shadow: none !important;\n      background: transparent;\n      border: transparent !important;\n    }\n    .nested-panel-shown .cs-").concat(s.default_layout," .top-tabs-drop .top-tab {\n      visibility: hidden;\n    }\n  "),document.body.appendChild(l),Pb(Pb({attrs:{id:jb,class:"top-ellipsis-panel top-tabs-drop","aria-expanded":!1,"aria-controls":"temp-container",style:{background:a}}},DS.flagManager.localizationPlatform?{visibility:"no-reflow"}:{}),{},{overflow:"visible",visible:!1,yOff:-20,y:function(){return _b.deviceView.isPhone?i.y-Dr:r.h-jr},x:function(){for(var e=this.el.querySelectorAll(".panel-links .top-tab"),t=0,i=0;i<e.length;i++){var r=parseFloat(e[i].style.width);r>t&&(t=r)}if(this.maxWidth=t,_b.deviceView.isPhone){var o=_b.env.is360&&_b.orientation.isPortrait?40:0,a="left"===n.pos?15+o:t-20-o;return this.lastX=a,a}var l=20-t/2,s=this.parent.x+this.parent.parent.x+l,c=s+t,u=window.innerWidth-20;return c>u?l-=c-u:s<10&&(l=10),this.lastX=l,l},w:null,h:null,html:'\n      <div class="panel-links" data-ref="links">\n      </div>\n    '})}));var Wb=DS,Vb=Wb.dom,Ub=Vb.addClass,zb=Vb.removeClass,Kb=Wb.appState,Zb=Wb.scaler,Qb=Wb.shortcutManager,Gb=Wb.events,qb=Wb.focusManager,Yb=Wb.pubSub,Xb=Wb.keyManager,$b=Wb.utils.fullScreen,Jb=Wb.globalEventHelper.addDocumentListener,ey=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rb(e,t)}(o,e);var t,n,i,r=Bb(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Nb(Mb(t=r.call(this,e)),"hasTooltip",!0),Nb(Mb(t),"tooltipKey","acc_settings"),Nb(Mb(t),"hideTooltipWhenOpen",!0),Nb(Mb(t),"onToggleBackgroundAudio",(function(){Yb.trigger(Gb.backgroundAudio.TOGGLE)})),Nb(Mb(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),Nb(Mb(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(Mb(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(Gb.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),Yb.on(Gb.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),Kb.on(Gb.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),Yb.on(Gb.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(Mb(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=$b.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),Yb.on(Gb.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){Kb.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){$b.getEl()===Kb.getPresoEl()?Ub(this.el,"full-screen"):zb(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Ub(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Jb("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,zb(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){Xb.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),qb.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Ab(Hb(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(Ub(e,"toggle-on"),zb(e,"toggle-off")):(Ub(e,"toggle-off"),zb(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Kb.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Zb.zoomMode)}},{key:"toggleZoomMode",value:function(){Zb.enableZoomMode(!Zb.zoomMode),this.updateToggle(this.zoomSwitchEl,Zb.zoomMode),qb.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){Qb.enableShortcuts(!Qb.enabled),this.updateToggle(this.shortcutsSwitchEl,Qb.enabled)}},{key:"toggleCaptions",value:function(){J.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){J.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Kb.off(Gb.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Yb.off(Gb.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Yb.off(Gb.captions.ENABLED,this.onCaptionsEnabled),Yb.off(Gb.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return qb.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&Ib(t.prototype,n),i&&Ib(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn);function ty(e){return function(e){if(Array.isArray(e))return ny(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ny(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var iy=DS,ry=iy.dom,oy=ry.addClass,ay=ry.removeClass,ly=iy.appState,sy=iy.utils,cy=sy.pxify,uy=sy.getPath,fy=iy.detection.deviceView,dy=fy.isPhone,hy=fy.isTablet,py="settings";function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function yy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==by(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==by(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===by(o)?o:String(o)),i)}var r,o}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vy(e,t)}function my(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gy(e);if(t){var r=gy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(e)}J.def(py,ey,(function(e){var t=J.model,n=(J.model.rtl,ge.getColor(e,".cs-topmenu-item.active .cs-panel","background-color")),i=ge.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),r=ge.getColor(e,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"),o=ge.getColor(e,".cs-brandhighlight-secondary-bg","background-color",".cs-base.cs-custom-theme"),a=J.getNamespace(e),l=a.bottomBar,s=a.captions;return{noUpdate:!0,attrs:{id:py,class:"cs-settings"},overflow:"visible",w:30,h:function(){return 30},xp:function(){return this.left||0},xl:function(){return dy?(this.parent.w-this.w)/2:this.xp},y:function(){return hy?(this.parent.h-this.h)/2:this.top||0},methods:{getControlConfigs:function(){var e=DS.frameModel.hasModernText&&!DS.localizationManager.isMultiLanguageProject();return[].concat(ty(e?[{name:"acctext",labelId:"accessible_text",isOn:function(){return ly.accessibleTextOn()}}]:[]),ty(null!=DS.courseAudio&&DS.courseAudio.hasAudio()?[{name:"backgroundAudio",labelId:"background_audio",isOn:function(){return DS.courseAudio.enabled}}]:[]))},getToggleControls:function(){return this.getControlConfigs().map((function(e){var n=e.name,i=e.labelId,r=(0,e.isOn)();return'\n            <div class="switch '.concat(r?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label" data-label-id="').concat(i,'">\n                ').concat(t.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(r,'" aria-labelledby="').concat(n,'-label">\n                ').concat(Dh("track")(o,n),"\n              </button>\n            </div>\n          ")})).join("")},getIconConfigs:function(){return[{name:"captions",labelId:"acc_closed_captions",getIcon:function(){return"\n                <style>\n                  .captions-off #settings-captions:after {\n                    background: transparent;\n                  }\n                  .captions-on #settings-captions:after {\n                    background: ".concat(r,';\n                  }\n                </style>\n                <div id="settings-captions">').concat(Dh("captions")(),"</div>\n                ")}},{name:"fullScreenToggle",labelId:"acc_enter_fullscreen",getIcon:function(){return'\n                <div id="settings-fullscreen">'.concat(Dh("enterFullScreen")()).concat(Dh("exitFullScreen")(),"</div>\n                ")}},{name:"reset",labelId:"acc_replay",getIcon:Dh("replay")}]},getIconControls:function(){return this.getIconConfigs().map((function(e){var n=e.name,i=e.labelId,r=e.getIcon;return'\n            <button id="'.concat(n,'-overflow" class="cs-button overflow-button" tabindex="0" aria-label="').concat(t.getString(i),'" data-ref="').concat(n,'Button">\n              ').concat(r(),"\n            </button>\n          ")})).join("")},updatePanelPosition:function(){if(null!=l){var e=this.children.settingsPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=l.el.getBoundingClientRect(),i=0;t.right>n.right&&(i=n.right-(t.right+Yn)),t.left<n.left&&(i=n.left-t.left+Yn),e.style.left=cy(i),this.children.settingsPanelArrow.el.style.transform="translateX(".concat(cy(0-i),")")}},updateDomStrings:function(){this.el.querySelectorAll("*[data-label-id]").forEach((function(e){e.textContent=t.getString(e.dataset.labelId)})),this.el.setAttribute("aria-label",t.getString("acc_settings"))}},updateHook:function(){var e=this;window.requestAnimationFrame((function(){return e.updatePanelPosition()})),uy(s,"viewLogic.toggle")?(oy(this.el,"captions-on"),ay(this.el,"captions-off")):(oy(this.el,"captions-off"),ay(this.el,"captions-on")),this.hasToggles=0!==this.getControlConfigs().length,this.setVisibility(this.hasToggles||DS.detection.deviceView.isPhone&&0!==this.getIconConfigs().length)},html:function(){var e='\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(Dh("settings")(),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel ').concat(this.hasToggles?"":"no-toggles",'" tabindex="-1">\n          <div class="icon-buttons">\n            ').concat(this.getIconControls(),'\n          </div>\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n          <div class="panel-down-arrow" style="height: 18px; width: 18px; position: absolute;">\n            <div data-ref="settingsPanelArrow" style="height: 100%; width: 100%;">\n              ').concat(Dh("downArrow")(n,i),"\n            </div>\n          </div>\n        </div>\n        ");return e}}}));var wy=DS.appState,Sy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}(o,e);var t,n,i,r=my(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).selectBtnEl.addEventListener("change",(function(e){t.handleSpeedChanged(e)})),t}return t=o,(n=[{key:"handleSpeedChanged",value:function(e){var t=Number(e.target.value);wy.setPlaybackSpeed(t),this.view.updateSelected(t)}}])&&yy(t.prototype,n),i&&yy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),ky=DS.detection,Oy=ky.deviceView,Cy=ky.device,xy=ky.os,Ey="playbackSpeed",Ly=String.fromCharCode(10003),Py=String.fromCharCode(160);J.def(Ey,Sy,(function(e){var t=J.model,n=ge.getColor(e,".cs-button .cs-icon","fill");return{noUpdate:!0,attrs:{id:Ey,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},xl:function(){return Oy.isPhone?this.parent.w-Xn+(Xn-this.w)/2:this.xp},xp:function(){return this.left||0},y:"vertical-center",methods:{updateSelected:function(e){Cy.isTablet&&xy.isAndroid&&this.el.querySelectorAll("option").forEach((function(t){var n=Number(t.value)===e?Ly:Py;t.label="".concat(n," ").concat(t.label.substr(1))}))},getSpeedOptions:function(){var e=[{label:"2",value:2},{label:"1.75",value:1.75},{label:"1.5",value:1.5},{label:"1.25",value:1.25},{label:J.model.getString("playback_speed_normal"),value:1,ref:"Normal"},{label:"0.75",value:.75},{label:"0.5",value:.5},{label:"0.25",value:.25}],t=DS.appState.getPlaybackSpeed();return e.map((function(e,n){var i=e.label,r=e.value,o=e.ref,a="";null!=o&&(a='data-ref="label'.concat(o,'"'));var l=r===t,s="";return DS.presentation.isPreview()&&(i="".concat(Py).concat(i).concat(Py),s='style="font-size: initial; color: black;"'),Cy.isTablet&&xy.isAndroid&&(i=l?"".concat(Ly," ").concat(i):"".concat(Py," ").concat(i)),"\n            <option ".concat(s,'\n              value="').concat(r,'" \n              data-index="').concat(n,'"\n              ').concat(l?" selected":"","\n              ").concat(a,"\n            >").concat(i,"</option>\n          ")})).join("")},updateDomStrings:function(){this.viewLogic.labelNormalEl.textContent=t.getString("playback_speed_normal")}},html:function(){var e='\n        <select \n          class="cs-button mobile-button-select" \n          style="background-image: '.concat(function(e,t){var n=Dh(e)(),i=document.createElement("div");i.innerHTML=n;var r=i.querySelector("svg");r.hasAttribute("xmlns")||r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.style.fill=t,r.style.stroke=t;var o=encodeURIComponent(r.outerHTML.replace("\n"," "));return"url( 'data:image/svg+xml,".concat(o,"' )")}("playbackSpeed",n),'" \n          tabindex="0"\n          aria-label="').concat(t.getString("acc_playback_speed"),'"\n          data-ref="selectBtn"\n        >\n          ').concat(this.getSpeedOptions(),"\n        </select>\n      ");return e}}}));var Ty=function(){return"no icon"},_y={hamburger:function(){return'<svg class="cs-icon hamburger-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <g id="icon-menu-mobile">\n    <rect width="40" height="4"></rect>\n    <rect y="16" width="40" height="4"></rect>\n    <rect y="32" width="40" height="4"></rect>\n    </g>\n  </svg>'},play:function(){return'<svg class="cs-icon play-icon" width="13" height="15" viewBox="0 0 13 15" focusable="false">\n    <path id="icon-play" d="M 13 7.15 L 2 0 2 14.3 13 7.15 Z"/>\n  </svg>'},next:function(){return'<svg className="cs-icon pause-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>\n  </svg>'},prev:function(){return'<svg class="cs-icon prev-mobile-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>\n  </svg>'},pause:function(){return'<svg class="cs-icon pause-icon" width="12" height="14" viewBox="0 0 12 14" focusable="false">\n    <g id="icon-pause">\n      <rect x="0" width="4" height="14"/>\n      <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>'},submit:function(){return'<svg class="cs-icon submit-icon" width="40" height="30" viewBox="0 0 40 30" focusable="false">\n    <path transform="translate(0, -5)" d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="36" height="36" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},captions:function(e){return'<svg class="cs-icon caption-icon" width="22px" height="20px" viewBox="0 0 22 20" focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" focusable="false">\n      <g>\n        <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n      </g>\n    </g>\n  </svg>'},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},search:function(){return'<svg class="cs-icon search-icon" width="22" height="22" viewBox="0 0 40 40" focusable="false">\n    <g id="icon-search" transform="translate(4, 0)">\n      <path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>\n      <path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'<svg class="cs-icon enter-fullscreen-icon" width="25" height="25" viewBox="0 0 32 32" focusable="false">\n    <g>\n      <path d="M0,0 L12,0 L12,3 L3,3 L3,12 L0,12 L0,0 Z"/>  \n      <path d="M20,0 L32,0 L32,12, L29,12, L29,3, L20,3, L20,0 Z"/>\n      <path d="M0,20 L3,20 L3,29, L12,29, L12,32, L0,32, L0,20 Z"/>\n      <path d="M29,20 L32,20 L32,32, L20,32, L20,29, L29,29, L29,20 Z"/>\n    </g>\n  </svg>'},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},track:function(e){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="'.concat(e,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(e,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#303030" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#B4B4B4" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#505050" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#6EBBEF" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(){return'\n      <svg width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="#191c1d"/>\n      </svg>\n    '}},jy=DS,Dy=(jy.detection,jy.detection),Iy=Dy.orientation,Ay=Dy.deviceView,Ry="disableOverlay";function By(e){return By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(e)}function My(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==By(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==By(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===By(o)?o:String(o)),i)}var r,o}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hy(e,t)}function Ny(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wy(e);if(t){var r=Wy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===By(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fy(e)}(this,n)}}function Fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wy(e)}J.def(Ry,(function(){var e=J.model,t=e.frame,n=window.globals.parseParams().orientations||null,i=JSON.parse(decodeURIComponent(n))||t.orientations,r=i.phone,o=i.tablet;return{attrs:{id:Ry,role:"dialog","aria-modal":!0,"aria-labelledby":"mobile-disabled-orientation-text"},style:{fontSize:"".concat(t.fontscale,"%"),background:"black",color:"white"},x:0,y:0,w:function(){},h:function(){},updateHook:function(){var e=!0;Iy.isLandscape?(Ay.isPhone&&r.includes("landscape")||Ay.isTablet&&o.includes("landscape"))&&(e=!1):Iy.isPortrait&&(Ay.isPhone&&r.includes("portrait")||Ay.isTablet&&o.includes("portrait"))&&(e=!1),e&&!Iy.forceHideWarning?document.body.classList.add("show-disabled-overlay"):document.body.classList.remove("show-disabled-overlay"),this.el.setAttribute("aria-hidden",!(e&&!Iy.forceHideWarning))},html:function(){return'<div class="mobile-disabled-orientation-overlay-inner">\n        <div class="mobile-disabled-orientation-overlay-icon">\n          '.concat((t="disableOrientation",_y[t]||Ty)(),'\n        </div>\n        <div id="mobile-disabled-orientation-text">').concat(e.getString("disabled_orientation"),"</div>\n      </div>");var t},add:!0}}));var Vy=DS,Uy=Vy.events,zy=Vy.pubSub,Ky=Vy._,Zy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}(o,e);var t,n,i,r=Ny(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ky.bindAll(Fy(t),"onEnterFullscreen"),t.onClick(t.onClickClose),t.view.setVisibility(!1),zy.on(Uy.presentation.ENTER_FULLSCREEN,t.onEnterFullscreen),t}return t=o,(n=[{key:"onEnterFullscreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickClose",value:function(e){var t=this;DS.utils.fullScreen.exit(),setTimeout((function(){zy.trigger(Uy.presentation.EXIT_FULLSCREEN),t.view.setVisibility(!1)}),300)}}])&&My(t.prototype,n),i&&My(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),Qy=DS.constants.MOBILE_UI_SIZE,Gy="fullScreenClose";function qy(e){return qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(e)}function Yy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tv(i.key),i)}}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ev(e);if(t){var r=ev(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===qy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jy(e)}(this,n)}}function Jy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ev(e)}function tv(e){var t=function(e,t){if("object"!==qy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qy(t)?t:String(t)}J.def(Gy,Zy,(function(e){var t=J.getNamespace(e).sidebar;return{tag:"button",attrs:{id:Gy,class:"cs-button btn fullscreen-close-btn",tabindex:0},overflow:"visible",html:"\n      ".concat(Dh("close")(),"\n    "),x:function(){return null==t||"left"===t.pos?window.innerWidth-Qy:3},y:5,w:50,h:Qy,scale:.9,noContent:!0}}));var nv=DS,iv=(nv.events,nv.pubSub,nv._,nv.utils.fullScreen),rv=nv.detection,ov=(rv.env.is360,rv.deviceView.isTablet,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(o,e);var t,n,i,r=$y(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Jy(t),a=!0,(i=tv(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickToggle),t.view.toggle=!1,iv.addChangeListener((function(){return t.handleFullScreenChange()})),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen"}},{key:"getFullScreenEl",value:function(){return document.getElementById(DS.constants.els.PRESO)}},{key:"isFullScreen",value:function(){return iv.getEl()===this.getFullScreenEl()}},{key:"handleFullScreenChange",value:function(){this.view.toggle=this.isFullScreen(),this.view.updateHtml()}},{key:"onClickToggle",value:function(e){DS.appState.toggleFullScreen()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}}])&&Yy(t.prototype,n),i&&Yy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn)),av="fullScreenToggle",lv=DS,sv=lv.constants.MOBILE_UI_SIZE,cv=lv.detection.deviceView.isPhone;function uv(e){return uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(e)}function fv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yv(i.key),i)}}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dv(e,t)}function hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bv(e);if(t){var r=bv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pv(e)}(this,n)}}function pv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bv(e)}function yv(e){var t=function(e,t){if("object"!==uv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==uv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uv(t)?t:String(t)}J.def(av,ov,(function(e){var t=J.model;return{tag:"button",attrs:{id:av,class:"cs-button btn fullscreen-open-btn",tabindex:0},wp:"fit-to-text-w",wl:function(){return cv?this.width||0:this.wp},yp:function(){return(this.parent.h-this.h)/2},yl:function(){return cv?this.top||0:this.yp},xp:function(){return this.left||0},xl:function(){return cv?(this.parent.w-this.w)/2:this.xp},html:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";return this.el.setAttribute("aria-label",t.getString(e)),(this.toggle?Dh("exitFullScreen")():Dh("enterFullScreen")())+J.iconTextEl(this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen","top: 15px")},methods:{updateDomStrings:function(){var e=this.toggle?"acc_exit_fullscreen":"acc_enter_fullscreen";this.el.setAttribute("aria-label",t.getString(e))}},z:1,padLeft:6,padRight:6,minW:30,minH:sv,noUpdate:!t.frame.chromeless,parentAlign:"br",noContent:!1,x:function(){return this.left||0}}}));var vv=DS.utils,mv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}(o,e);var t,n,i,r=hv(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=pv(t),a=function(){var e=vv.fullScreen.getEl();if(null!=e){if(J.getNamespace(t.view.nameSpace).slide.el.contains(e)){var n=e.querySelector(".caption-container-host");null!=n?(null==t.origParent&&(t.origParent=t.el.parentElement),n.appendChild(t.el)):DS.flagManager.dropInBase&&(clearTimeout(t.findHost),t.findHost=window.setTimeout(t.reparent,30))}}else null!=t.origParent&&(t.origParent.appendChild(t.el),t.origParent=null)},(i=yv(i="reparent"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,vv.fullScreen.addChangeListener((function(){t.handleFullScreenChange()})),t}return t=o,(n=[{key:"handleFullScreenChange",value:function(){DS.flagManager.dropInBase?(clearTimeout(this.reparentTimeout),this.reparentTimeout=window.setTimeout(this.reparent,200)):window.requestAnimationFrame(this.reparent)}}])&&fv(t.prototype,n),i&&fv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(rn),gv=DS,wv=gv.detection,Sv=wv.deviceView.isPhone,kv=wv.orientation;gv.flagManager;J.def("captionContainer",mv,(function(e){var t=J.getNamespace(e),n=t.bottomBar,i=t.topBar,r=t.slide,o=J.model.frame,a=o.fontscale,l=o.captionFontScale,s=o.controlOptions.ccOptions,c=e!==DS.constants.refs.FRAME;return{attrs:{class:"caption-container"},style:{fontSize:"".concat(null!=s?s.size:l||a,"%")},z:2,methods:{beforeUpdateHook:function(){var e=null!=i,t=null!=n,o=Sv&&kv.isLandscape?Te.innerHeight-65+5:Te.innerHeight-(e?i.h+n.h:0)+(Sv?10:0);e||t||(o=Te.innerHeight),this.dims=c?{x:0,y:0,w:this.parent.w,h:this.parent.h}:{x:r.sidebarXOffset+Te.x,y:Sv&&kv.isLandscape?Te.y:e?i.h+Te.y:Te.y,w:Te.innerWidth-J.model.getDockedWidth()-r.sidebarWidthOffset,h:o}}},x:function(){return this.dims.x},y:function(){return this.dims.y},w:function(){return this.dims.w},h:function(){return this.dims.h},add:!0}}));var Ov="frameBlocker";function Cv(e){return function(e){if(Array.isArray(e))return xv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}J.def(Ov,(function(e){var t=J.getNamespace(e).slide,n=function(){return"".concat(t.x,"px ").concat(t.w,"px ").concat(Te.innerWidth-t.x-t.w,"px")},i=function(){return"".concat(t.y,"px ").concat(t.h,"px ").concat(Te.innerHeight-t.y-t.h,"px")};return{attrs:{id:Ov,class:"frame-blocker-container"},x:0,y:0,z:Ir,w:function(){return Te.innerWidth},h:function(){return Te.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Ev=DS.constants.refs.FRAME,Lv=DS.detection,Pv=Lv.deviceView,Tv=Pv.isPhone,_v=Pv.isTablet,jv=Lv.env.is360;function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Iv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Dv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Dv(o)?o:String(o)),i)}var r,o}var Av=DS,Rv=Av._,Bv=Av.pubSub,Mv=Av.events,Hv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),Rv.bindAll(this,"onSlideTransitionIn","onWindowClosing"),Bv.on(Mv.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),Bv.on(Mv.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&Iv(t.prototype,n),i&&Iv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Nv="lightBoxWrapper";J.def(Nv,Hv,(function(e){var t=J.model,n=t.slideWidth,i=t.slideHeight,r=J.getNamespace(e).lightBoxBottom;return{attrs:{id:Nv,class:"cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var e=.8*(Te.width-t.getDockedWidth()),r=.8*Te.height;return Math.min(e/n,r/i)},w:function(){return n*this.dimScale},h:function(){return i*this.dimScale+(null!=r?50:0)},x:function(){return(Te.width-t.getDockedWidth()-this.w)/2},y:function(){return(Te.height-this.h)/2},add:!0,html:'<div data-ref="bottomBg" class="bottom-bar-bg cs-base cs-'.concat(t.frame.default_layout,'"></div>')}}));var Fv="lightBoxSlide";J.def(Fv,qn,(function(e){var t=J.getNamespace(e),n=t.lightBoxBottom,i=t.lightBoxWrapper;return{attrs:{class:"".concat(Fv," window-slide ").concat(e,"-slide"),role:"dialog","aria-modal":!0},overflow:"visible",winScale:function(){return i.dimScale},pinchZoomBounds:function(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight-(null!=n?50:0)}},w:"100%",h:function(){return this.parent.h-(null!=n?50:0)},z:1,add:!0,html:'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>',childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()}}}));J.def("lightBox",(function(e){return{attrs:{class:"lightbox"},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var Wv="lightBoxClose";J.def(Wv,Ui,(function(e){var t={windowId:e};return{tag:"button",ariaStringId:"close",attrs:{id:Wv,class:"lightbox-close-btn-floating",tabindex:0,"z-index":999,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:Dh("close"),y:35,x:function(){return window.innerWidth-J.model.getDockedWidth()-(this.w+35)},model:t,w:20,h:20}}));J.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Vv="lightBoxBlocker";J.def(Vv,(function(e){var t=J.getNamespace(e).lightBoxWrapper,n=function(){return"".concat(t.x-Te.x,"px ").concat(t.w,"px ").concat(Te.innerWidth+Te.x-t.x-t.w,"px")},i=function(){return"".concat(t.y-Te.y,"px ").concat(t.h,"px ").concat(Te.innerHeight+Te.y-t.y-t.h,"px")};return{attrs:{id:Vv,class:"frame-blocker-container"},x:function(){return Te.x},y:function(){return Te.y},z:Ir,w:function(){return Te.innerWidth},h:function(){return Te.innerHeight},style:{"pointer-events":"none","grid-template-columns":n(),"grid-template-rows":i()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=n(),e.el.style["grid-template-rows"]=i()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Uv="LightboxWnd",zv=DS.utils.pxify,Kv="lightBoxBottom";J.def(Kv,(function(e){return{tag:"nav",attrs:{id:Kv,class:"option-pane"},methods:{getZoomBounds:function(){return J.getNamespace(e).zoomBounds},getParentBB:function(){return null==this.cachedParentBB&&(this.cachedParentBB=this.parent.getBox(),null!=this.cachedParentBB&&(this.cachedParentBB.left=this.cachedParentBB.x,this.cachedParentBB.right=this.cachedParentBB.x+this.cachedParentBB.w,this.cachedParentBB.top=this.cachedParentBB.y,this.cachedParentBB.bottom=this.cachedParentBB.y+this.cachedParentBB.h)),this.cachedParentBB},shouldZoom:function(){return null!=this.getParentBB()&&null!=this.getZoomBounds()}},x:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return Math.floor(Math.max(e.left,0)-t.left)}return 0},y:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return t.h+(Math.min(e.bottom,window.innerHeight-50)-t.bottom)}return this.parent.y+this.parent.h-this.h},w:function(){if(this.shouldZoom()){var e=this.getZoomBounds();return Math.ceil(Math.min(e.right,window.innerWidth)-Math.max(e.left,0))}return this.parent.w},h:50,updateHook:function(){if(this.hasAllChildren()){this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},pad:4});var t=J.getNamespace(e).wrapper.children.bottomBg.el;Object.assign(t.style,{left:zv(this.x),top:zv(this.y),width:zv(this.w),height:zv(this.h)}),this.cachedParentBB=null}},childVisibilityChangedHook:function(){this.update()}}}));var Zv="lightBoxControlsBlocker";J.def(Zv,(function(e){var t=J.getNamespace(e),n=t.lightBoxWrapper,i=(t.lightBoxBottom,function(){return"".concat(n.x-Te.x,"px ").concat(n.w,"px ").concat(Te.innerWidth+Te.x-n.x-n.w,"px")}),r=function(){return"".concat(n.y-Te.y,"px ").concat(n.h,"px ").concat(Te.innerHeight+Te.y-n.y-n.h,"px")};return{attrs:{id:Zv,class:"frame-blocker-container"},x:function(){return Te.x},y:function(){return Te.y},z:Ir,w:function(){return Te.innerWidth},h:function(){return Te.innerHeight},style:{"pointer-events":"none","grid-template-columns":i(),"grid-template-rows":r()},visible:!1,visibility:"no-reflow",html:'<div class="frame-blocker-slide"></div><div class="frame-blocker-top"></div><div class="frame-blocker-bottom"></div><div class="frame-blocker-right"></div><div class="frame-blocker-left"></div>',updateHook:function(){var e=this;window.requestAnimationFrame((function(){e.el.style["grid-template-columns"]=i(),e.el.style["grid-template-rows"]=r()}))},methods:{setBackgroundColor:function(e){this.el.childNodes.forEach((function(t){t.style.background=e}))}}}}));var Qv="LightboxControlsWnd",Gv="printWrapper";J.def(Gv,(function(e){return{attrs:{id:Gv,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var qv=DS.constants.printSettings,Yv="printSlide";J.def(Yv,qn,(function(e){var t=J.model.slideWidth;return{attrs:{id:Yv,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?qv.android.pageW:n?qv.ios.pageW:qv.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Xv="PrintWindow",$v="messageWindowWrapper";J.def($v,(function(e){var t=J.model,n=t.preso.display().windows().find({id:e}),i=J.getNamespace(DS.constants.refs.FRAME),r=i.slide,o=i.wrapper;return{attrs:{id:$v,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:.8*n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return o.scale},x:function(){var e=o.scale;return o.x+(r.x+(r.w-this.w)/2)*e},y:function(){var e=o.scale;return o.y+(r.y+(r.h-this.h)/2)*e},add:!0}}));var Jv="messageWindowSlide";J.def(Jv,qn,(function(){return{attrs:{id:Jv,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));J.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var em="MessageWnd",tm="messagePromptWrapper";J.def(tm,(function(e){var t=J.model,n=J.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:tm,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));function nm(e){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(e)}function im(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==nm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==nm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===nm(o)?o:String(o)),i)}var r,o}function rm(){return rm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lm(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rm.apply(this,arguments)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},om(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=lm(e);if(t){var r=lm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function lm(e){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lm(e)}J.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var sm=DS,cm=sm.events,um=sm.pubSub,fm=sm.focusManager,dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}(o,e);var t,n,i,r=am(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);um.trigger(cm.prompt.CLOSING,this.promptId),um.trigger(cm.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&fm.setFocusRectOn(t)}},{key:"teardown",value:function(){rm(lm(o.prototype),"teardown",this).call(this)}}])&&im(t.prototype,n),i&&im(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(qn),hm=DS.MicroScrollBar,pm="invalidPromptSlide";J.def(pm,dm,(function(e){var t=J.model;return{attrs:{id:pm,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new hm(e,"message-window-text"))}}}));var bm=DS,ym=bm.MicroScrollBar,vm=(bm.pubSub,bm.events,"printPromptSlide");J.def(vm,dm,(function(e){var t=J.model;return{attrs:{id:vm,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new ym(e,"message-window-text"))}}}));var mm=DS.MicroScrollBar,gm="timerPromptSlide";J.def(gm,dm,(function(e){var t=J.model;return{attrs:{id:gm,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new mm(e,"message-window-text"))}}}));var wm,Sm={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},km=function(e){var t=e,n=Sm[e];return{nameSpace:t,render:function(e){var i=J.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=J.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return J.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function Om(e){return Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(e)}function Cm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Om(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Om(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Om(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xm=km("InvalidPrompt"),Em=xm.render,Lm=xm.nameSpace,Pm=km("PrintPrompt"),Tm=Pm.render,_m=Pm.nameSpace,jm=km("TimerPrompt"),Dm=jm.render,Im=jm.nameSpace;!function(e,t){yt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(Ae=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(Ae.localization),DS.localizationManager.loadFrameData().then((function(e){Re=e,vt()}))):vt(),window.globalProvideData=t)},lt.on(Ge,(function(e){new Ve,Ie=new v(Ae,Re,e),J.setModel(Ie),ut.initialize(Ie),ft.initialize((function(e){return Ie.getString(e)})),ge.initializeCssColorVars(),DS.frameModel=Ie,DS.views=J,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&dt.addClass(document.body,"chromeless"),lt.trigger(Xe)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((Cm(wm={},Ev,(function(e){var n,r=e.topTabsLeft,o=e.topTabsRight,a=e.sidebarOpts,l=a.timeEnabled,s=a.logoEnabled,c=a.html5_logo_url,u=e.frame.controlOptions.controls,f=u.closed_captions,d=u.settings,h=function(){return Tv&&jv},p=J.tree(Ev,[{wrapper:["frameBlocker",e.frame.chromeless?"slide":{frame:[e.frame.chromeless?null:"sidebarOverlay","slide"].concat(Cv(Tv?["floatingSeek"]:[]),[{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:[].concat(Cv(f?["captions"]:[]),["playbackSpeed"],Cv(d?["settings"]:[]))},{navControls:[].concat(Cv(DS.utils.fullScreen.isSupported()?["fullScreenToggle"]:[]),["prev","next","submit"])}]},{sidebar:[].concat(Cv(_v&&s&&c?["logo"]:[]),["hamburger","tabs","sidebarPanels"])},{topBar:["title",{topTabs:["arrowShadow","linksRight"]}].concat(Cv(h()?["fullScreenClose"]:[]),[{topEllipsis:["topEllipsisPanel"]}],Cv(l?["timer"]:[]))}])},e.frame.chromeless&&_v&&jv?"fullScreenToggle":null,e.frame.chromeless&&h()?"fullScreenClose":null]},"captionContainer"].concat(Cv(jv?[]:["disableOverlay"])));n=document.querySelectorAll(".panel > div[id*=content]"),Array.from(n).forEach((function(e){var n=e.parentNode.id;if("outline-panel"!=n){var i=n.replace("-panel","");new t(e,i,!1)}else{var r=e.querySelector("#outline-content"),o=e.querySelector("#search-results-content");null!=r&&new t(r,"outline",!1),null!=o&&new t(o,"search",!1)}}));var b=function(e){return function(t){return t.name===e}},y=function(e){return!r.some(b(e))&&!o.some(b(e))},v=function(e){return"customlink"===e.name},m=r.some(v)||o.some(v);DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,(function(t,n){if(n===Ev){var r=function(e,t){var n=e.sidebarOpts.sidebarEnabled;return n&&(n=i(e.sidebarTabs,t)),n}(e,t),o=i([].concat(Cv(e.topTabsRight),Cv(e.topTabsLeft)),t),a={playPause:t.pauseplay,reset:t.seekbar,seek:t.seekbar,playbackControls:t.pauseplay||t.reset||t.seek,fullScreenToggle:t.fullScreenToggle||_v&&jv,playbackSpeed:t.playbackSpeedControl,next:t.next,prev:t.previous,submit:t.submit,skipnav:r||o,floatingSeek:t.seekbar&&t.pauseplay,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&y("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&y("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&y("outline"),outlineLink:t.outline.enabled,transcriptTab:t.transcript,transcriptPanel:t.transcript&&y("transcript"),transcriptLink:t.transcript,sidebar:r,bottomBar:!_v||e.bottomBarOpts.bottomBarEnabled,hasCustomLinks:m};DS.pubSub.trigger(DS.events.frame.LAYOUT_READY,a),J.resetStates(Ev),J.updateVisibility(a,Ev),J.update(p)}})),DS.pubSub.on(DS.events.navcontrols.CHANGED,(function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var a=J["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=a&&(o?"toggle_window_control_visible"===t?(a.setVisibility(!a.visible),a.childVisibilityChanged()):a.setEnabled(!a.enabled):"set_window_control_visible"===t?(a.setVisibility(i),a.childVisibilityChanged()):a.setEnabled(r))}));var g=function(){J.update(p);var e=J.getNamespace(Ev).sidebarPanels;e&&null!=e.children&&e.updateChildren(!0)};return _v&&DS.pubSub.on(DS.events.utilityWindow.DOCKED,(function(t,n){var i=n.dockedState,r=n.dockedWidth;e.setDocked(t,i,r),g(),DS.pubSub.trigger(DS.events.frame.SCALE);var o=DS.utils.getPath(J.getNamespace(Ev),"hamburger.viewLogic");null!=o&&o.onResize()})),DS.pubSub.on(DS.events.frame.REFLOW,g),{all:g,resize:g}})),Cm(wm,Uv,(function(e){var t=J.tree(Uv,["lightBoxBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox"]},"lightBoxClose"]),n=J.getNamespace(Uv);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return J.update(t)},resize:function(){n.isAttached&&J.update(t)}}})),Cm(wm,Qv,(function(e){var t=J.tree(Qv,["lightBoxControlsBlocker","visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]}]},"lightBoxClose"]),n=J.getNamespace(Qv);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var i=function(e,n){if(n===Qv){var i={next:e.next,prev:e.previous,submit:e.submit};J.resetStates(Qv),J.updateVisibility(i,Qv),J.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return J.update(t)},resize:function(){n.isAttached&&J.update(t)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),Cm(wm,Xv,(function(e){J.tree(Xv,[{printWrapper:["printSlide"]}]);var t=J.getNamespace(Xv);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),Cm(wm,em,(function(e){var t=J.tree(em,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=J.getNamespace(em);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return J.update(t)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),Cm(wm,Lm,Em),Cm(wm,_m,Tm),Cm(wm,Im,Dm),wm),"html5/data/js/frame.js")}();
